{"ast":null,"code":"(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory(require(\"react\"), require(\"lodash\"), require(\"prop-types\"));else if (typeof define === 'function' && define.amd) define(\"reactXarrow\", [\"react\", \"lodash\", \"prop-types\"], factory);else if (typeof exports === 'object') exports[\"reactXarrow\"] = factory(require(\"react\"), require(\"lodash\"), require(\"prop-types\"));else root[\"reactXarrow\"] = factory(root[\"react\"], root[\"lodash\"], root[\"prop-types\"]);\n})(this, function (__WEBPACK_EXTERNAL_MODULE_react__, __WEBPACK_EXTERNAL_MODULE_lodash__, __WEBPACK_EXTERNAL_MODULE_prop_types__) {\n  return /******/function () {\n    // webpackBootstrap\n    /******/\n    \"use strict\";\n\n    /******/\n    var __webpack_modules__ = {\n      /***/\"./src/Xarrow/utils/buzzier.js\": (\n      /*!*************************************!*\\\n        !*** ./src/Xarrow/utils/buzzier.js ***!\n        \\*************************************/\n      /***/\n      function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"bzFunction\": function () {\n            return /* binding */bzFunction;\n          },\n          /* harmony export */\"buzzierMinSols\": function () {\n            return /* binding */buzzierMinSols;\n          }\n          /* harmony export */\n        });\n        // Buzier curve calculations\n\n        /**\r\n         * returns buzzier curve function with 2 controls points\r\n         * bzCurve with 2 control points function(4 points total):  bz = (1−t)^3*p1 + 3(1−t)^2*t*p2 +3(1−t)*t^2*p3 + t^3*p4\r\n         */\n        var bzFunction = function bzFunction(p1, p2, p3, p4) {\n          return function (t) {\n            return Math.pow(1 - t, 3) * p1 + 3 * Math.pow(1 - t, 2) * t * p2 + 3 * (1 - t) * Math.pow(t, 2) * p3 + Math.pow(t, 3) * p4;\n          };\n        };\n        /**\r\n         * returns 2 solutions from extram points for buzzier curve with 2 controls points\r\n         */\n\n        var buzzierMinSols = function buzzierMinSols(p1, p2, p3, p4) {\n          var bz = bzFunction(p1, p2, p3, p4); // dt(bz) = -3 p1 (1 - t)^2 + 3 p2 (1 - t)^2 - 6 p2 (1 - t) t + 6 p3 (1 - t) t - 3 p3 t^2 + 3 p4 t^2\n          // when p1=(x1,y1),p2=(cpx1,cpy1),p3=(cpx2,cpy2),p4=(x2,y2)\n          // then extrema points is when dt(bz) = 0\n          // solutions =>  t = ((-6 p1 + 12 p2 - 6 p3) ± sqrt((6 p1 - 12 p2 + 6 p3)^2 - 4 (3 p2 - 3 p1) (-3 p1 + 9 p2 - 9 p3 + 3 p4)))/(2 (-3 p1 + 9 p2 - 9 p3 + 3 p4))  when (p1 + 3 p3!=3 p2 + p4)\n          // if we mark A=(-6 p1 + 12 p2 - 6 p3) and B=(6 p1 - 12 p2 + 6 p3)^2 - 4 (3 p2 - 3 p1) (-3 p1 + 9 p2 - 9 p3 + 3 p4)) and C =(2 (-3 p1 + 9 p2 - 9 p3 + 3 p4) then\n          // tSol = A ± sqrt(B)\n          // then solution we want is: bz(tSol)\n\n          var A = -6 * p1 + 12 * p2 - 6 * p3;\n          var B = Math.pow(-6 * p1 + 12 * p2 - 6 * p3, 2) - 4 * (3 * p2 - 3 * p1) * (-3 * p1 + 9 * p2 - 9 * p3 + 3 * p4);\n          var C = 2 * (-3 * p1 + 9 * p2 - 9 * p3 + 3 * p4);\n          var sol1 = bz((A + Math.sqrt(B)) / C);\n          var sol2 = bz((A - Math.sqrt(B)) / C);\n          return [sol1, sol2];\n        };\n\n        /***/\n      }),\n      /***/\"./src/Xarrow/Xarrow.tsx\": (\n      /*!*******************************!*\\\n        !*** ./src/Xarrow/Xarrow.tsx ***!\n        \\*******************************/\n      /***/\n      function (__unused_webpack_module, exports, __webpack_require__) {\n        var __assign = this && this.__assign || function () {\n          __assign = Object.assign || function (t) {\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\n              s = arguments[i];\n              for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n            }\n            return t;\n          };\n          return __assign.apply(this, arguments);\n        };\n        var __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n          if (k2 === undefined) k2 = k;\n          Object.defineProperty(o, k2, {\n            enumerable: true,\n            get: function () {\n              return m[k];\n            }\n          });\n        } : function (o, m, k, k2) {\n          if (k2 === undefined) k2 = k;\n          o[k2] = m[k];\n        });\n        var __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n          Object.defineProperty(o, \"default\", {\n            enumerable: true,\n            value: v\n          });\n        } : function (o, v) {\n          o[\"default\"] = v;\n        });\n        var __importStar = this && this.__importStar || function (mod) {\n          if (mod && mod.__esModule) return mod;\n          var result = {};\n          if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n          __setModuleDefault(result, mod);\n          return result;\n        };\n        var __spreadArray = this && this.__spreadArray || function (to, from) {\n          for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) to[j] = from[i];\n          return to;\n        };\n        var __importDefault = this && this.__importDefault || function (mod) {\n          return mod && mod.__esModule ? mod : {\n            \"default\": mod\n          };\n        };\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        var react_1 = __importStar(__webpack_require__(/*! react */\"react\"));\n        var useXarrowProps_1 = __importDefault(__webpack_require__(/*! ./useXarrowProps */\"./src/Xarrow/useXarrowProps.ts\"));\n        var Xwrapper_1 = __webpack_require__(/*! ../Xwrapper */\"./src/Xwrapper.tsx\");\n        var propTypes_1 = __importDefault(__webpack_require__(/*! ./propTypes */\"./src/Xarrow/propTypes.ts\"));\n        var GetPosition_1 = __webpack_require__(/*! ./utils/GetPosition */\"./src/Xarrow/utils/GetPosition.tsx\");\n        var log = console.log;\n        var Xarrow = function (props) {\n          // log('xarrow update');\n          var _a;\n          var mainRef = react_1.useRef({\n            svgRef: react_1.useRef(null),\n            lineRef: react_1.useRef(null),\n            headRef: react_1.useRef(null),\n            tailRef: react_1.useRef(null),\n            lineDrawAnimRef: react_1.useRef(null),\n            lineDashAnimRef: react_1.useRef(null),\n            headOpacityAnimRef: react_1.useRef(null)\n          });\n          var _b = mainRef.current,\n            svgRef = _b.svgRef,\n            lineRef = _b.lineRef,\n            headRef = _b.headRef,\n            tailRef = _b.tailRef,\n            lineDrawAnimRef = _b.lineDrawAnimRef,\n            lineDashAnimRef = _b.lineDashAnimRef,\n            headOpacityAnimRef = _b.headOpacityAnimRef;\n          react_1.useContext(Xwrapper_1.XarrowContext);\n          var xProps = useXarrowProps_1.default(props, mainRef.current);\n          var propsRefs = xProps[0];\n          var labels = propsRefs.labels,\n            lineColor = propsRefs.lineColor,\n            headColor = propsRefs.headColor,\n            tailColor = propsRefs.tailColor,\n            strokeWidth = propsRefs.strokeWidth,\n            showHead = propsRefs.showHead,\n            showTail = propsRefs.showTail,\n            dashness = propsRefs.dashness,\n            headShape = propsRefs.headShape,\n            tailShape = propsRefs.tailShape,\n            showXarrow = propsRefs.showXarrow,\n            animateDrawing = propsRefs.animateDrawing,\n            zIndex = propsRefs.zIndex,\n            passProps = propsRefs.passProps,\n            arrowBodyProps = propsRefs.arrowBodyProps,\n            arrowHeadProps = propsRefs.arrowHeadProps,\n            arrowTailProps = propsRefs.arrowTailProps,\n            SVGcanvasProps = propsRefs.SVGcanvasProps,\n            divContainerProps = propsRefs.divContainerProps,\n            divContainerStyle = propsRefs.divContainerStyle,\n            SVGcanvasStyle = propsRefs.SVGcanvasStyle,\n            _debug = propsRefs._debug,\n            shouldUpdatePosition = propsRefs.shouldUpdatePosition;\n          animateDrawing = props.animateDrawing;\n          var _c = react_1.useState(!animateDrawing),\n            drawAnimEnded = _c[0],\n            setDrawAnimEnded = _c[1];\n          var _d = react_1.useState({}),\n            setRender = _d[1];\n          var forceRerender = function () {\n            return setRender({});\n          };\n          var _e = react_1.useState({\n              //initial state\n              cx0: 0,\n              cy0: 0,\n              cw: 0,\n              ch: 0,\n              x1: 0,\n              y1: 0,\n              x2: 0,\n              y2: 0,\n              dx: 0,\n              dy: 0,\n              absDx: 0,\n              absDy: 0,\n              cpx1: 0,\n              cpy1: 0,\n              cpx2: 0,\n              cpy2: 0,\n              headOrient: 0,\n              tailOrient: 0,\n              arrowHeadOffset: {\n                x: 0,\n                y: 0\n              },\n              arrowTailOffset: {\n                x: 0,\n                y: 0\n              },\n              headOffset: 0,\n              excRight: 0,\n              excLeft: 0,\n              excUp: 0,\n              excDown: 0,\n              startPoints: [],\n              endPoints: [],\n              mainDivPos: {\n                x: 0,\n                y: 0\n              },\n              xSign: 1,\n              ySign: 1,\n              lineLength: 0,\n              fHeadSize: 1,\n              fTailSize: 1,\n              arrowPath: \"\",\n              labelStartPos: {\n                x: 0,\n                y: 0\n              },\n              labelMiddlePos: {\n                x: 0,\n                y: 0\n              },\n              labelEndPos: {\n                x: 0,\n                y: 0\n              }\n            }),\n            st = _e[0],\n            setSt = _e[1];\n          /**\r\n           * The Main logic of path calculation for the arrow.\r\n           * calculate new path, adjusting canvas, and set state based on given properties.\r\n           * */\n          react_1.useLayoutEffect(function () {\n            if (shouldUpdatePosition.current) {\n              // log('xarrow getPosition');\n              var pos = GetPosition_1.getPosition(xProps, mainRef);\n              // log('pos', pos);\n              setSt(pos);\n              shouldUpdatePosition.current = false;\n            }\n          });\n          // log('st', st);\n          var xOffsetHead = st.x2 - st.arrowHeadOffset.x;\n          var yOffsetHead = st.y2 - st.arrowHeadOffset.y;\n          var xOffsetTail = st.x1 - st.arrowTailOffset.x;\n          var yOffsetTail = st.y1 - st.arrowTailOffset.y;\n          var dashoffset = dashness.strokeLen + dashness.nonStrokeLen;\n          var animDirection = 1;\n          if (dashness.animation < 0) {\n            dashness.animation *= -1;\n            animDirection = -1;\n          }\n          var dashArray,\n            animation,\n            animRepeatCount,\n            animStartValue,\n            animEndValue = 0;\n          if (animateDrawing && drawAnimEnded == false) {\n            if (typeof animateDrawing === 'boolean') animateDrawing = 1;\n            animation = animateDrawing + 's';\n            dashArray = st.lineLength;\n            animStartValue = st.lineLength;\n            animRepeatCount = 1;\n            if (animateDrawing < 0) {\n              _a = [animEndValue, animStartValue], animStartValue = _a[0], animEndValue = _a[1];\n              animation = animateDrawing * -1 + 's';\n            }\n          } else {\n            dashArray = dashness.strokeLen + \" \" + dashness.nonStrokeLen;\n            animation = 1 / dashness.animation + \"s\";\n            animStartValue = dashoffset * animDirection;\n            animRepeatCount = 'indefinite';\n            animEndValue = 0;\n          }\n          // handle draw animation\n          react_1.useLayoutEffect(function () {\n            if (lineRef.current) setSt(function (prevSt) {\n              var _a, _b;\n              return __assign(__assign({}, prevSt), {\n                lineLength: (_b = (_a = lineRef.current) === null || _a === void 0 ? void 0 : _a.getTotalLength()) !== null && _b !== void 0 ? _b : 0\n              });\n            });\n          }, [lineRef.current]);\n          // set all props on first render\n          react_1.useEffect(function () {\n            var monitorDOMchanges = function () {\n              window.addEventListener('resize', forceRerender);\n              var handleDrawAmimEnd = function () {\n                var _a, _b;\n                setDrawAnimEnded(true);\n                // @ts-ignore\n                (_a = headOpacityAnimRef.current) === null || _a === void 0 ? void 0 : _a.beginElement();\n                // @ts-ignore\n                (_b = lineDashAnimRef.current) === null || _b === void 0 ? void 0 : _b.beginElement();\n              };\n              var handleDrawAmimBegin = function () {\n                return headRef.current.style.opacity = '0';\n              };\n              if (lineDrawAnimRef.current && headRef.current) {\n                lineDrawAnimRef.current.addEventListener('endEvent', handleDrawAmimEnd);\n                lineDrawAnimRef.current.addEventListener('beginEvent', handleDrawAmimBegin);\n              }\n              return function () {\n                window.removeEventListener('resize', forceRerender);\n                if (lineDrawAnimRef.current) {\n                  lineDrawAnimRef.current.removeEventListener('endEvent', handleDrawAmimEnd);\n                  if (headRef.current) lineDrawAnimRef.current.removeEventListener('beginEvent', handleDrawAmimBegin);\n                }\n              };\n            };\n            var cleanMonitorDOMchanges = monitorDOMchanges();\n            return function () {\n              setDrawAnimEnded(false);\n              cleanMonitorDOMchanges();\n            };\n          }, [showXarrow]);\n          //todo: could make some advanced generic typescript inferring. for example get type from headShape.elem:T and\n          // tailShape.elem:K force the type for passProps,arrowHeadProps,arrowTailProps property. for now `as any` is used to\n          // avoid typescript conflicts\n          // so todo- fix all the `passProps as any` assertions\n          return react_1.default.createElement(\"div\", __assign({}, divContainerProps, {\n            style: __assign({\n              position: 'absolute',\n              zIndex: zIndex\n            }, divContainerStyle)\n          }), showXarrow ? react_1.default.createElement(react_1.default.Fragment, null, react_1.default.createElement(\"svg\", __assign({\n            ref: svgRef,\n            width: st.cw,\n            height: st.ch,\n            style: __assign({\n              position: 'absolute',\n              left: st.cx0,\n              top: st.cy0,\n              pointerEvents: 'none',\n              border: _debug ? '1px dashed yellow' : null\n            }, SVGcanvasStyle),\n            overflow: \"auto\"\n          }, SVGcanvasProps), react_1.default.createElement(\"path\", __assign({\n            ref: lineRef,\n            d: st.arrowPath,\n            stroke: lineColor,\n            strokeDasharray: dashArray,\n            // strokeDasharray={'0 0'}\n            strokeWidth: strokeWidth,\n            fill: \"transparent\",\n            pointerEvents: \"visibleStroke\"\n          }, passProps, arrowBodyProps), react_1.default.createElement(react_1.default.Fragment, null, drawAnimEnded ? react_1.default.createElement(react_1.default.Fragment, null, dashness.animation ? react_1.default.createElement(\"animate\", {\n            ref: lineDashAnimRef,\n            attributeName: \"stroke-dashoffset\",\n            values: dashoffset * animDirection + \";0\",\n            dur: 1 / dashness.animation + \"s\",\n            repeatCount: \"indefinite\"\n          }) : null) : react_1.default.createElement(react_1.default.Fragment, null, animateDrawing ? react_1.default.createElement(\"animate\", {\n            ref: lineDrawAnimRef,\n            id: \"svgEndAnimate\",\n            attributeName: \"stroke-dashoffset\",\n            values: animStartValue + \";\" + animEndValue,\n            dur: animation,\n            repeatCount: animRepeatCount\n          }) : null))), showTail ? react_1.default.createElement(\"g\", __assign({\n            fill: tailColor,\n            pointerEvents: \"auto\",\n            transform: \"translate(\" + xOffsetTail + \",\" + yOffsetTail + \") rotate(\" + st.tailOrient + \") scale(\" + st.fTailSize + \")\"\n          }, passProps, arrowTailProps), tailShape.svgElem) : null, showHead ? react_1.default.createElement(\"g\", __assign({\n            ref: headRef,\n            // d={normalArrowShape}\n            fill: headColor,\n            pointerEvents: \"auto\",\n            transform: \"translate(\" + xOffsetHead + \",\" + yOffsetHead + \") rotate(\" + st.headOrient + \") scale(\" + st.fHeadSize + \")\",\n            opacity: animateDrawing && !drawAnimEnded ? 0 : 1\n          }, passProps, arrowHeadProps), react_1.default.createElement(\"animate\", {\n            ref: headOpacityAnimRef,\n            dur: '0.4',\n            attributeName: \"opacity\",\n            from: \"0\",\n            to: \"1\",\n            begin: \"indefinite\",\n            repeatCount: \"0\",\n            fill: \"freeze\"\n          }), headShape.svgElem) : null, _debug ? react_1.default.createElement(react_1.default.Fragment, null, react_1.default.createElement(\"circle\", {\n            r: \"5\",\n            cx: st.cpx1,\n            cy: st.cpy1,\n            fill: \"green\"\n          }), react_1.default.createElement(\"circle\", {\n            r: \"5\",\n            cx: st.cpx2,\n            cy: st.cpy2,\n            fill: \"blue\"\n          }), react_1.default.createElement(\"rect\", {\n            x: st.excLeft,\n            y: st.excUp,\n            width: st.absDx,\n            height: st.absDy,\n            fill: \"none\",\n            stroke: \"pink\",\n            strokeWidth: \"2px\"\n          })) : null), labels.start ? react_1.default.createElement(\"div\", {\n            style: {\n              transform: st.dx < 0 ? 'translate(-100% , -50%)' : 'translate(-0% , -50%)',\n              width: 'max-content',\n              position: 'absolute',\n              left: st.cx0 + st.labelStartPos.x,\n              top: st.cy0 + st.labelStartPos.y - strokeWidth - 5\n            }\n          }, labels.start) : null, labels.middle ? react_1.default.createElement(\"div\", {\n            style: {\n              display: 'table',\n              width: 'max-content',\n              transform: 'translate(-50% , -50%)',\n              position: 'absolute',\n              left: st.cx0 + st.labelMiddlePos.x,\n              top: st.cy0 + st.labelMiddlePos.y\n            }\n          }, labels.middle) : null, labels.end ? react_1.default.createElement(\"div\", {\n            style: {\n              transform: st.dx > 0 ? 'translate(-100% , -50%)' : 'translate(-0% , -50%)',\n              width: 'max-content',\n              position: 'absolute',\n              left: st.cx0 + st.labelEndPos.x,\n              top: st.cy0 + st.labelEndPos.y + strokeWidth + 5\n            }\n          }, labels.end) : null, _debug ? react_1.default.createElement(react_1.default.Fragment, null, __spreadArray(__spreadArray([], st.startPoints), st.endPoints).map(function (p, i) {\n            return react_1.default.createElement(\"div\", {\n              key: i,\n              style: {\n                background: 'gray',\n                opacity: 0.5,\n                borderRadius: '50%',\n                transform: 'translate(-50%, -50%)',\n                height: 5,\n                width: 5,\n                position: 'absolute',\n                left: p.x - st.mainDivPos.x,\n                top: p.y - st.mainDivPos.y\n              }\n            });\n          })) : null) : null);\n        };\n        //////////////////////////////\n        // propTypes\n        Xarrow.propTypes = propTypes_1.default;\n        exports.default = Xarrow;\n\n        /***/\n      }),\n      /***/\"./src/Xarrow/anchors.ts\": (\n      /*!*******************************!*\\\n        !*** ./src/Xarrow/anchors.ts ***!\n        \\*******************************/\n      /***/\n      function (module, exports, __webpack_require__) {\n        /* module decorator */module = __webpack_require__.nmd(module);\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.calcAnchors = void 0;\n        var getAnchorsDefaultOffsets = function (width, height) {\n          return {\n            middle: {\n              x: width * 0.5,\n              y: height * 0.5\n            },\n            left: {\n              x: 0,\n              y: height * 0.5\n            },\n            right: {\n              x: width,\n              y: height * 0.5\n            },\n            top: {\n              x: width * 0.5,\n              y: 0\n            },\n            bottom: {\n              x: width * 0.5,\n              y: height\n            }\n          };\n        };\n        var calcAnchors = function (anchors, anchorPos) {\n          // now prepare this list of anchors to object expected by the `getShortestLine` function\n          return anchors.map(function (anchor) {\n            var defsOffsets = getAnchorsDefaultOffsets(anchorPos.right - anchorPos.x, anchorPos.bottom - anchorPos.y);\n            var _a = defsOffsets[anchor.position],\n              x = _a.x,\n              y = _a.y;\n            return {\n              x: anchorPos.x + x + anchor.offset.x,\n              y: anchorPos.y + y + anchor.offset.y,\n              anchor: anchor\n            };\n          });\n        };\n        exports.calcAnchors = calcAnchors;\n        if (__webpack_require__.c[__webpack_require__.s] === module) {\n          // const res = parseAnchor(['auto'], {\n          //   x: 0,\n          //   y: 0,\n          //   bottom: 10,\n          //   right: 20,\n          // });\n          // console.log(res);\n        }\n\n        /***/\n      }),\n      /***/\"./src/Xarrow/propTypes.ts\": (\n      /*!*********************************!*\\\n        !*** ./src/Xarrow/propTypes.ts ***!\n        \\*********************************/\n      /***/\n      function (__unused_webpack_module, exports, __webpack_require__) {\n        var __importDefault = this && this.__importDefault || function (mod) {\n          return mod && mod.__esModule ? mod : {\n            \"default\": mod\n          };\n        };\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        var prop_types_1 = __importDefault(__webpack_require__(/*! prop-types */\"prop-types\"));\n        var constants_1 = __webpack_require__(/*! ../constants */\"./src/constants.tsx\");\n        var pAnchorPositionType = prop_types_1.default.oneOf(constants_1.cAnchorEdge);\n        var pAnchorCustomPositionType = prop_types_1.default.exact({\n          position: pAnchorPositionType.isRequired,\n          offset: prop_types_1.default.exact({\n            x: prop_types_1.default.number,\n            y: prop_types_1.default.number\n          }).isRequired\n        });\n        var _pAnchorType = prop_types_1.default.oneOfType([pAnchorPositionType, pAnchorCustomPositionType]);\n        var pAnchorType = prop_types_1.default.oneOfType([_pAnchorType, prop_types_1.default.arrayOf(_pAnchorType)]);\n        var pRefType = prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.exact({\n          current: prop_types_1.default.any\n        })]);\n        var _pLabelType = prop_types_1.default.oneOfType([prop_types_1.default.element, prop_types_1.default.string]);\n        var pLabelsType = prop_types_1.default.exact({\n          start: _pLabelType,\n          middle: _pLabelType,\n          end: _pLabelType\n        });\n        var pSvgEdgeShapeType = prop_types_1.default.oneOf(Object.keys(constants_1.arrowShapes));\n        // const pSvgElemType = PT.oneOf(cSvgElems);\n        var pSvgElemType = prop_types_1.default.any;\n        var pSvgEdgeType = prop_types_1.default.oneOfType([pSvgEdgeShapeType, prop_types_1.default.exact({\n          svgElem: pSvgElemType,\n          offsetForward: prop_types_1.default.number\n        }).isRequired]);\n        var XarrowPropTypes = {\n          start: pRefType.isRequired,\n          end: pRefType.isRequired,\n          startAnchor: pAnchorType,\n          endAnchor: pAnchorType,\n          labels: prop_types_1.default.oneOfType([_pLabelType, pLabelsType]),\n          color: prop_types_1.default.string,\n          lineColor: prop_types_1.default.string,\n          showHead: prop_types_1.default.bool,\n          headColor: prop_types_1.default.string,\n          headSize: prop_types_1.default.number,\n          tailSize: prop_types_1.default.number,\n          tailColor: prop_types_1.default.string,\n          strokeWidth: prop_types_1.default.number,\n          showTail: prop_types_1.default.bool,\n          path: prop_types_1.default.oneOf(constants_1.cPaths),\n          showXarrow: prop_types_1.default.bool,\n          curveness: prop_types_1.default.number,\n          gridBreak: prop_types_1.default.string,\n          dashness: prop_types_1.default.oneOfType([prop_types_1.default.bool, prop_types_1.default.object]),\n          headShape: pSvgEdgeType,\n          tailShape: pSvgEdgeType,\n          animateDrawing: prop_types_1.default.oneOfType([prop_types_1.default.bool, prop_types_1.default.number]),\n          zIndex: prop_types_1.default.number,\n          passProps: prop_types_1.default.object,\n          arrowBodyProps: prop_types_1.default.object,\n          arrowHeadProps: prop_types_1.default.object,\n          arrowTailProps: prop_types_1.default.object,\n          SVGcanvasProps: prop_types_1.default.object,\n          divContainerProps: prop_types_1.default.object,\n          _extendSVGcanvas: prop_types_1.default.number,\n          _debug: prop_types_1.default.bool,\n          _cpx1Offset: prop_types_1.default.number,\n          _cpy1Offset: prop_types_1.default.number,\n          _cpx2Offset: prop_types_1.default.number,\n          _cpy2Offset: prop_types_1.default.number\n        };\n        exports.default = XarrowPropTypes;\n\n        /***/\n      }),\n      /***/\"./src/Xarrow/useXarrowProps.ts\": (\n      /*!**************************************!*\\\n        !*** ./src/Xarrow/useXarrowProps.ts ***!\n        \\**************************************/\n      /***/\n      function (__unused_webpack_module, exports, __webpack_require__) {\n        var __assign = this && this.__assign || function () {\n          __assign = Object.assign || function (t) {\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\n              s = arguments[i];\n              for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n            }\n            return t;\n          };\n          return __assign.apply(this, arguments);\n        };\n        var __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n          if (k2 === undefined) k2 = k;\n          Object.defineProperty(o, k2, {\n            enumerable: true,\n            get: function () {\n              return m[k];\n            }\n          });\n        } : function (o, m, k, k2) {\n          if (k2 === undefined) k2 = k;\n          o[k2] = m[k];\n        });\n        var __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n          Object.defineProperty(o, \"default\", {\n            enumerable: true,\n            value: v\n          });\n        } : function (o, v) {\n          o[\"default\"] = v;\n        });\n        var __importStar = this && this.__importStar || function (mod) {\n          if (mod && mod.__esModule) return mod;\n          var result = {};\n          if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n          __setModuleDefault(result, mod);\n          return result;\n        };\n        var __importDefault = this && this.__importDefault || function (mod) {\n          return mod && mod.__esModule ? mod : {\n            \"default\": mod\n          };\n        };\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        var react_1 = __importStar(__webpack_require__(/*! react */\"react\"));\n        var utils_1 = __webpack_require__(/*! ./utils */\"./src/Xarrow/utils/index.ts\");\n        var lodash_1 = __importDefault(__webpack_require__(/*! lodash */\"lodash\"));\n        var constants_1 = __webpack_require__(/*! ../constants */\"./src/constants.tsx\");\n        var parseLabels = function (label) {\n          var parsedLabel = {\n            start: null,\n            middle: null,\n            end: null\n          };\n          if (label) {\n            if (typeof label === 'string' || react_1.default.isValidElement(label)) parsedLabel.middle = label;else {\n              for (var key in label) {\n                parsedLabel[key] = label[key];\n              }\n            }\n          }\n          return parsedLabel;\n        };\n        var parseAnchor = function (anchor) {\n          // convert to array\n          var anchorChoice = Array.isArray(anchor) ? anchor : [anchor];\n          //convert to array of objects\n          var anchorChoice2 = anchorChoice.map(function (anchorChoice) {\n            if (typeof anchorChoice === 'string') {\n              return {\n                position: anchorChoice\n              };\n            } else return anchorChoice;\n          });\n          //remove any invalid anchor names\n          anchorChoice2 = anchorChoice2.filter(function (an) {\n            return constants_1.cAnchorEdge.includes(an.position);\n          });\n          if (anchorChoice2.length == 0) anchorChoice2 = [{\n            position: 'auto'\n          }];\n          //replace any 'auto' with ['left','right','bottom','top']\n          var autosAncs = anchorChoice2.filter(function (an) {\n            return an.position === 'auto';\n          });\n          if (autosAncs.length > 0) {\n            anchorChoice2 = anchorChoice2.filter(function (an) {\n              return an.position !== 'auto';\n            });\n            anchorChoice2.push.apply(anchorChoice2, autosAncs.flatMap(function (anchorObj) {\n              return ['left', 'right', 'top', 'bottom'].map(function (anchorName) {\n                return __assign(__assign({}, anchorObj), {\n                  position: anchorName\n                });\n              });\n            }));\n          }\n          // default values\n          var anchorChoice3 = anchorChoice2.map(function (anchorChoice) {\n            if (typeof anchorChoice === 'object') {\n              var anchorChoiceCustom = anchorChoice;\n              if (!anchorChoiceCustom.position) anchorChoiceCustom.position = 'auto';\n              if (!anchorChoiceCustom.offset) anchorChoiceCustom.offset = {\n                x: 0,\n                y: 0\n              };\n              if (!anchorChoiceCustom.offset.y) anchorChoiceCustom.offset.y = 0;\n              if (!anchorChoiceCustom.offset.x) anchorChoiceCustom.offset.x = 0;\n              anchorChoiceCustom = anchorChoiceCustom;\n              return anchorChoiceCustom;\n            } else return anchorChoice;\n          });\n          return anchorChoice3;\n        };\n        var parseDashness = function (dashness, props) {\n          var dashStroke = 0,\n            dashNone = 0,\n            animDashSpeed,\n            animDirection = 1;\n          if (typeof dashness === 'object') {\n            dashStroke = dashness.strokeLen || props.strokeWidth * 2;\n            dashNone = dashness.strokeLen ? dashness.nonStrokeLen : props.strokeWidth;\n            animDashSpeed = dashness.animation ? dashness.animation : null;\n          } else if (typeof dashness === 'boolean' && dashness) {\n            dashStroke = props.strokeWidth * 2;\n            dashNone = props.strokeWidth;\n            animDashSpeed = null;\n          }\n          return {\n            strokeLen: dashStroke,\n            nonStrokeLen: dashNone,\n            animation: animDashSpeed,\n            animDirection: animDirection\n          };\n        };\n        var parseEdgeShape = function (svgEdge) {\n          if (typeof svgEdge == 'string') {\n            if (svgEdge in constants_1.arrowShapes) svgEdge = constants_1.arrowShapes[svgEdge];else {\n              console.warn(\"'\" + svgEdge + \"' is not supported arrow shape. the supported arrow shapes is one of \" + constants_1.cArrowShapes + \".\\n           reverting to default shape.\");\n              svgEdge = constants_1.arrowShapes['arrow1'];\n            }\n          }\n          svgEdge = svgEdge;\n          if ((svgEdge === null || svgEdge === void 0 ? void 0 : svgEdge.offsetForward) === undefined) svgEdge.offsetForward = 0.25;\n          if ((svgEdge === null || svgEdge === void 0 ? void 0 : svgEdge.svgElem) === undefined) svgEdge.svgElem = 'path';\n          // if (svgEdge?.svgProps === undefined) svgEdge.svgProps = arrowShapes.arrow1.svgProps;\n          return svgEdge;\n        };\n        var parseGridBreak = function (gridBreak) {\n          var resGridBreak = utils_1.xStr2absRelative(gridBreak);\n          if (!resGridBreak) resGridBreak = {\n            relative: 0.5,\n            abs: 0\n          };\n          return resGridBreak;\n        };\n        /**\r\n         * should be wrapped with any changed prop that is affecting the points path positioning\r\n         * @param propVal\r\n         * @param updateRef\r\n         */\n        var withUpdate = function (propVal, updateRef) {\n          if (updateRef) updateRef.current = true;\n          return propVal;\n        };\n        var noParse = function (userProp) {\n          return userProp;\n        };\n        var noParseWithUpdatePos = function (userProp, _, updatePos) {\n          return withUpdate(userProp, updatePos);\n        };\n        var parseNumWithUpdatePos = function (userProp, _, updatePos) {\n          return withUpdate(Number(userProp), updatePos);\n        };\n        var parseNum = function (userProp) {\n          return Number(userProp);\n        };\n        var parsePropsFuncs = {\n          start: function (userProp) {\n            return utils_1.getElementByPropGiven(userProp);\n          },\n          end: function (userProp) {\n            return utils_1.getElementByPropGiven(userProp);\n          },\n          startAnchor: function (userProp, _, updatePos) {\n            return withUpdate(parseAnchor(userProp), updatePos);\n          },\n          endAnchor: function (userProp, _, updatePos) {\n            return withUpdate(parseAnchor(userProp), updatePos);\n          },\n          labels: function (userProp) {\n            return parseLabels(userProp);\n          },\n          color: noParse,\n          lineColor: function (userProp, propsRefs) {\n            return userProp || propsRefs.color;\n          },\n          headColor: function (userProp, propsRefs) {\n            return userProp || propsRefs.color;\n          },\n          tailColor: function (userProp, propsRefs) {\n            return userProp || propsRefs.color;\n          },\n          strokeWidth: parseNumWithUpdatePos,\n          showHead: noParseWithUpdatePos,\n          headSize: parseNumWithUpdatePos,\n          showTail: noParseWithUpdatePos,\n          tailSize: parseNumWithUpdatePos,\n          path: noParseWithUpdatePos,\n          curveness: parseNumWithUpdatePos,\n          gridBreak: function (userProp, _, updatePos) {\n            return withUpdate(parseGridBreak(userProp), updatePos);\n          },\n          // // gridRadius = strokeWidth * 2, //todo\n          dashness: function (userProp, propsRefs) {\n            return parseDashness(userProp, propsRefs);\n          },\n          headShape: function (userProp) {\n            return parseEdgeShape(userProp);\n          },\n          tailShape: function (userProp) {\n            return parseEdgeShape(userProp);\n          },\n          showXarrow: noParse,\n          animateDrawing: noParse,\n          zIndex: parseNum,\n          passProps: noParse,\n          arrowBodyProps: noParseWithUpdatePos,\n          arrowHeadProps: noParseWithUpdatePos,\n          arrowTailProps: noParseWithUpdatePos,\n          SVGcanvasProps: noParseWithUpdatePos,\n          divContainerProps: noParseWithUpdatePos,\n          divContainerStyle: noParseWithUpdatePos,\n          SVGcanvasStyle: noParseWithUpdatePos,\n          _extendSVGcanvas: noParseWithUpdatePos,\n          _debug: noParseWithUpdatePos,\n          _cpx1Offset: noParseWithUpdatePos,\n          _cpy1Offset: noParseWithUpdatePos,\n          _cpx2Offset: noParseWithUpdatePos,\n          _cpy2Offset: noParseWithUpdatePos\n        };\n        //build dependencies\n        var propsDeps = {};\n        //each prop depends on himself\n        for (var propName in parsePropsFuncs) {\n          propsDeps[propName] = [propName];\n        }\n        // 'lineColor', 'headColor', 'tailColor' props also depends on 'color' prop\n        for (var _i = 0, _a = ['lineColor', 'headColor', 'tailColor']; _i < _a.length; _i++) {\n          var propName = _a[_i];\n          propsDeps[propName].push('color');\n        }\n        var parseGivenProps = function (props, propsRef) {\n          var _a;\n          for (var _i = 0, _b = Object.entries(props); _i < _b.length; _i++) {\n            var _c = _b[_i],\n              name_1 = _c[0],\n              val = _c[1];\n            propsRef[name_1] = (_a = parsePropsFuncs === null || parsePropsFuncs === void 0 ? void 0 : parsePropsFuncs[name_1]) === null || _a === void 0 ? void 0 : _a.call(parsePropsFuncs, val, propsRef);\n          }\n          return propsRef;\n        };\n        var defaultProps = {\n          start: null,\n          end: null,\n          startAnchor: 'auto',\n          endAnchor: 'auto',\n          labels: null,\n          color: 'CornflowerBlue',\n          lineColor: null,\n          headColor: null,\n          tailColor: null,\n          strokeWidth: 4,\n          showHead: true,\n          headSize: 6,\n          showTail: false,\n          tailSize: 6,\n          path: 'smooth',\n          curveness: 0.8,\n          gridBreak: '50%',\n          // gridRadius : strokeWidth * 2, //todo\n          dashness: false,\n          headShape: 'arrow1',\n          tailShape: 'arrow1',\n          showXarrow: true,\n          animateDrawing: false,\n          zIndex: 0,\n          passProps: {},\n          arrowBodyProps: {},\n          arrowHeadProps: {},\n          arrowTailProps: {},\n          SVGcanvasProps: {},\n          divContainerProps: {},\n          divContainerStyle: {},\n          SVGcanvasStyle: {},\n          _extendSVGcanvas: 0,\n          _debug: false,\n          _cpx1Offset: 0,\n          _cpy1Offset: 0,\n          _cpx2Offset: 0,\n          _cpy2Offset: 0\n        };\n        var initialParsedProps = {};\n        initialParsedProps = parseGivenProps(defaultProps, initialParsedProps);\n        var initialValVars = {\n          startPos: {\n            x: 0,\n            y: 0,\n            right: 0,\n            bottom: 0\n          },\n          endPos: {\n            x: 0,\n            y: 0,\n            right: 0,\n            bottom: 0\n          }\n        };\n        // const parseAllProps = () => parseGivenProps(defaultProps, initialParsedProps);\n        function deepCompareEquals(a, b) {\n          return lodash_1.default.isEqual(a, b);\n        }\n        function useDeepCompareMemoize(value) {\n          var ref = react_1.useRef();\n          // it can be done by using useMemo as well\n          // but useRef is rather cleaner and easier\n          if (!deepCompareEquals(value, ref.current)) {\n            ref.current = value;\n          }\n          return ref.current;\n        }\n        function useDeepCompareEffect(callback, dependencies) {\n          react_1.useLayoutEffect(callback, dependencies.map(useDeepCompareMemoize));\n        }\n        /**\r\n         * smart hook that provides parsed props to Xarrow and will trigger rerender whenever given prop is changed.\r\n         */\n        var useXarrowProps = function (userProps, refs) {\n          var _a = react_1.useState(initialParsedProps),\n            propsRefs = _a[0],\n            setPropsRefs = _a[1];\n          var shouldUpdatePosition = react_1.useRef(false);\n          // const _propsRefs = useRef(initialParsedProps);\n          // const propsRefs = _propsRefs.current;\n          propsRefs['shouldUpdatePosition'] = shouldUpdatePosition;\n          var curProps = __assign(__assign({}, defaultProps), userProps);\n          var _loop_1 = function (propName) {\n            react_1.useLayoutEffect(function () {\n              var _a;\n              propsRefs[propName] = (_a = parsePropsFuncs === null || parsePropsFuncs === void 0 ? void 0 : parsePropsFuncs[propName]) === null || _a === void 0 ? void 0 : _a.call(parsePropsFuncs, curProps[propName], propsRefs, shouldUpdatePosition);\n              // console.log('prop update:', propName, 'with value', propsRefs[propName]);\n              setPropsRefs(__assign({}, propsRefs));\n            }, propsDeps[propName].map(function (name) {\n              return userProps[name];\n            }));\n          };\n          // react states the number of hooks per render must stay constant,\n          // this is ok we are using these hooks in a loop, because the number of props in defaultProps is constant,\n          // so the number of hook we will fire each render will always be the same.\n          // update the value of the ref that represents the corresponding prop\n          // for example: if given 'start' prop would change call getElementByPropGiven(props.start) and save value into propsRefs.start.current\n          // why to save refs to props parsed values? some of the props require relatively expensive computations(like 'start' and 'startAnchor').\n          // this will always run in the same order and THAT'S WAY ITS LEGAL\n          for (var propName in defaultProps) {\n            _loop_1(propName);\n          }\n          // rerender whenever position of start element or end element changes\n          var _b = react_1.useState(initialValVars),\n            valVars = _b[0],\n            setValVars = _b[1];\n          var startPos = utils_1.getElemPos(propsRefs.start);\n          useDeepCompareEffect(function () {\n            valVars.startPos = startPos;\n            shouldUpdatePosition.current = true;\n            setValVars(__assign({}, valVars));\n            // console.log('start update pos', startPos);\n          }, [startPos]);\n          var endPos = utils_1.getElemPos(propsRefs.end);\n          useDeepCompareEffect(function () {\n            valVars.endPos = endPos;\n            shouldUpdatePosition.current = true;\n            setValVars(__assign({}, valVars));\n            // console.log('end update pos', endPos);\n          }, [endPos]);\n          react_1.useLayoutEffect(function () {\n            // console.log('svg shape changed!');\n            shouldUpdatePosition.current = true;\n            setValVars(__assign({}, valVars));\n          }, [propsRefs.headShape.svgElem, propsRefs.tailShape.svgElem]);\n          return [propsRefs, valVars];\n        };\n        exports.default = useXarrowProps;\n\n        /***/\n      }),\n      /***/\"./src/Xarrow/utils/GetPosition.tsx\": (\n      /*!******************************************!*\\\n        !*** ./src/Xarrow/utils/GetPosition.tsx ***!\n        \\******************************************/\n      /***/\n      function (__unused_webpack_module, exports, __webpack_require__) {\n        var __importDefault = this && this.__importDefault || function (mod) {\n          return mod && mod.__esModule ? mod : {\n            \"default\": mod\n          };\n        };\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.getPosition = void 0;\n        var anchors_1 = __webpack_require__(/*! ../anchors */\"./src/Xarrow/anchors.ts\");\n        var index_1 = __webpack_require__(/*! ./index */\"./src/Xarrow/utils/index.ts\");\n        var lodash_1 = __importDefault(__webpack_require__(/*! lodash */\"lodash\"));\n        var constants_1 = __webpack_require__(/*! ../../constants */\"./src/constants.tsx\");\n        var buzzier_1 = __webpack_require__(/*! ./buzzier */\"./src/Xarrow/utils/buzzier.js\");\n        /**\r\n         * The Main logic of path calculation for the arrow.\r\n         * calculate new path, adjusting canvas, and set state based on given properties.\r\n         * */\n        var getPosition = function (xProps, mainRef) {\n          var _a, _b;\n          var _c, _d;\n          var propsRefs = xProps[0],\n            valVars = xProps[1];\n          var startAnchor = propsRefs.startAnchor,\n            endAnchor = propsRefs.endAnchor,\n            strokeWidth = propsRefs.strokeWidth,\n            showHead = propsRefs.showHead,\n            headSize = propsRefs.headSize,\n            showTail = propsRefs.showTail,\n            tailSize = propsRefs.tailSize,\n            path = propsRefs.path,\n            curveness = propsRefs.curveness,\n            gridBreak = propsRefs.gridBreak,\n            headShape = propsRefs.headShape,\n            tailShape = propsRefs.tailShape,\n            _extendSVGcanvas = propsRefs._extendSVGcanvas,\n            _cpx1Offset = propsRefs._cpx1Offset,\n            _cpy1Offset = propsRefs._cpy1Offset,\n            _cpx2Offset = propsRefs._cpx2Offset,\n            _cpy2Offset = propsRefs._cpy2Offset;\n          var startPos = valVars.startPos,\n            endPos = valVars.endPos;\n          var _e = mainRef.current,\n            svgRef = _e.svgRef,\n            lineRef = _e.lineRef;\n          var headOrient = 0;\n          var tailOrient = 0;\n          // convert startAnchor and endAnchor to list of objects represents allowed anchors.\n          var startPoints = anchors_1.calcAnchors(startAnchor, startPos);\n          var endPoints = anchors_1.calcAnchors(endAnchor, endPos);\n          // choose the smallest path for 2 points from these possibilities.\n          var _f = index_1.getShortestLine(startPoints, endPoints),\n            chosenStart = _f.chosenStart,\n            chosenEnd = _f.chosenEnd;\n          var startAnchorPosition = chosenStart.anchor.position,\n            endAnchorPosition = chosenEnd.anchor.position;\n          var startPoint = lodash_1.default.pick(chosenStart, ['x', 'y']),\n            endPoint = lodash_1.default.pick(chosenEnd, ['x', 'y']);\n          var mainDivPos = index_1.getSvgPos(svgRef);\n          var cx0 = Math.min(startPoint.x, endPoint.x) - mainDivPos.x;\n          var cy0 = Math.min(startPoint.y, endPoint.y) - mainDivPos.y;\n          var dx = endPoint.x - startPoint.x;\n          var dy = endPoint.y - startPoint.y;\n          var absDx = Math.abs(endPoint.x - startPoint.x);\n          var absDy = Math.abs(endPoint.y - startPoint.y);\n          var xSign = dx > 0 ? 1 : -1;\n          var ySign = dy > 0 ? 1 : -1;\n          var _g = [headShape.offsetForward, tailShape.offsetForward],\n            headOffset = _g[0],\n            tailOffset = _g[1];\n          var fHeadSize = headSize * strokeWidth; //factored head size\n          var fTailSize = tailSize * strokeWidth; //factored head size\n          // const { current: _headBox } = headBox;\n          var xHeadOffset = 0;\n          var yHeadOffset = 0;\n          var xTailOffset = 0;\n          var yTailOffset = 0;\n          var _headOffset = fHeadSize * headOffset;\n          var _tailOffset = fTailSize * tailOffset;\n          var cu = Number(curveness);\n          // gridRadius = Number(gridRadius);\n          if (!constants_1.cPaths.includes(path)) path = 'smooth';\n          if (path === 'straight') {\n            cu = 0;\n            path = 'smooth';\n          }\n          var biggerSide = headSize > tailSize ? headSize : tailSize;\n          var _calc = strokeWidth + strokeWidth * biggerSide / 2;\n          var excRight = _calc;\n          var excLeft = _calc;\n          var excUp = _calc;\n          var excDown = _calc;\n          excLeft += Number(_extendSVGcanvas);\n          excRight += Number(_extendSVGcanvas);\n          excUp += Number(_extendSVGcanvas);\n          excDown += Number(_extendSVGcanvas);\n          ////////////////////////////////////\n          // arrow point to point calculations\n          var x1 = 0,\n            x2 = absDx,\n            y1 = 0,\n            y2 = absDy;\n          if (dx < 0) _a = [x2, x1], x1 = _a[0], x2 = _a[1];\n          if (dy < 0) _b = [y2, y1], y1 = _b[0], y2 = _b[1];\n          ////////////////////////////////////\n          // arrow curviness and arrowhead placement calculations\n          if (cu === 0) {\n            // in case of straight path\n            var headAngel = Math.atan(absDy / absDx);\n            if (showHead) {\n              x2 -= fHeadSize * (1 - headOffset) * xSign * Math.cos(headAngel);\n              y2 -= fHeadSize * (1 - headOffset) * ySign * Math.sin(headAngel);\n              headAngel *= ySign;\n              if (xSign < 0) headAngel = (Math.PI - headAngel * xSign) * xSign;\n              xHeadOffset = Math.cos(headAngel) * _headOffset - Math.sin(headAngel) * fHeadSize / 2;\n              yHeadOffset = Math.cos(headAngel) * fHeadSize / 2 + Math.sin(headAngel) * _headOffset;\n              headOrient = headAngel * 180 / Math.PI;\n            }\n            var tailAngel = Math.atan(absDy / absDx);\n            if (showTail) {\n              x1 += fTailSize * (1 - tailOffset) * xSign * Math.cos(tailAngel);\n              y1 += fTailSize * (1 - tailOffset) * ySign * Math.sin(tailAngel);\n              tailAngel *= -ySign;\n              if (xSign > 0) tailAngel = (Math.PI - tailAngel * xSign) * xSign;\n              xTailOffset = Math.cos(tailAngel) * _tailOffset - Math.sin(tailAngel) * fTailSize / 2;\n              yTailOffset = Math.cos(tailAngel) * fTailSize / 2 + Math.sin(tailAngel) * _tailOffset;\n              tailOrient = tailAngel * 180 / Math.PI;\n            }\n          } else {\n            // in case of smooth path\n            if (endAnchorPosition === 'middle') {\n              // in case a middle anchor is chosen for endAnchor choose from which side to attach to the middle of the element\n              if (absDx > absDy) {\n                endAnchorPosition = xSign ? 'left' : 'right';\n              } else {\n                endAnchorPosition = ySign ? 'top' : 'bottom';\n              }\n            }\n            if (showHead) {\n              if (['left', 'right'].includes(endAnchorPosition)) {\n                xHeadOffset += _headOffset * xSign;\n                x2 -= fHeadSize * (1 - headOffset) * xSign; //same!\n                yHeadOffset += fHeadSize * xSign / 2;\n                if (endAnchorPosition === 'left') {\n                  headOrient = 0;\n                  if (xSign < 0) headOrient += 180;\n                } else {\n                  headOrient = 180;\n                  if (xSign > 0) headOrient += 180;\n                }\n              } else if (['top', 'bottom'].includes(endAnchorPosition)) {\n                xHeadOffset += fHeadSize * -ySign / 2;\n                yHeadOffset += _headOffset * ySign;\n                y2 -= fHeadSize * ySign - yHeadOffset;\n                if (endAnchorPosition === 'top') {\n                  headOrient = 270;\n                  if (ySign > 0) headOrient += 180;\n                } else {\n                  headOrient = 90;\n                  if (ySign < 0) headOrient += 180;\n                }\n              }\n            }\n          }\n          if (showTail && cu !== 0) {\n            if (['left', 'right'].includes(startAnchorPosition)) {\n              xTailOffset += _tailOffset * -xSign;\n              x1 += fTailSize * xSign + xTailOffset;\n              yTailOffset += -(fTailSize * xSign) / 2;\n              if (startAnchorPosition === 'left') {\n                tailOrient = 180;\n                if (xSign < 0) tailOrient += 180;\n              } else {\n                tailOrient = 0;\n                if (xSign > 0) tailOrient += 180;\n              }\n            } else if (['top', 'bottom'].includes(startAnchorPosition)) {\n              yTailOffset += _tailOffset * -ySign;\n              y1 += fTailSize * ySign + yTailOffset;\n              xTailOffset += fTailSize * ySign / 2;\n              if (startAnchorPosition === 'top') {\n                tailOrient = 90;\n                if (ySign > 0) tailOrient += 180;\n              } else {\n                tailOrient = 270;\n                if (ySign < 0) tailOrient += 180;\n              }\n            }\n          }\n          var arrowHeadOffset = {\n            x: xHeadOffset,\n            y: yHeadOffset\n          };\n          var arrowTailOffset = {\n            x: xTailOffset,\n            y: yTailOffset\n          };\n          var cpx1 = x1,\n            cpy1 = y1,\n            cpx2 = x2,\n            cpy2 = y2;\n          var curvesPossibilities = {};\n          if (path === 'smooth') curvesPossibilities = {\n            hh: function () {\n              //horizontal - from right to left or the opposite\n              cpx1 += absDx * cu * xSign;\n              cpx2 -= absDx * cu * xSign;\n            },\n            vv: function () {\n              //vertical - from top to bottom or opposite\n              cpy1 += absDy * cu * ySign;\n              cpy2 -= absDy * cu * ySign;\n            },\n            hv: function () {\n              // start horizontally then vertically\n              // from v side to h side\n              cpx1 += absDx * cu * xSign;\n              cpy2 -= absDy * cu * ySign;\n            },\n            vh: function () {\n              // start vertically then horizontally\n              // from h side to v side\n              cpy1 += absDy * cu * ySign;\n              cpx2 -= absDx * cu * xSign;\n            }\n          };else if (path === 'grid') {\n            curvesPossibilities = {\n              hh: function () {\n                cpx1 += (absDx * gridBreak.relative + gridBreak.abs) * xSign;\n                cpx2 -= (absDx * (1 - gridBreak.relative) - gridBreak.abs) * xSign;\n                if (showHead) {\n                  cpx1 -= fHeadSize * (1 - headOffset) / 2 * xSign;\n                  cpx2 += fHeadSize * (1 - headOffset) / 2 * xSign;\n                }\n                if (showTail) {\n                  cpx1 -= fTailSize * (1 - tailOffset) / 2 * xSign;\n                  cpx2 += fTailSize * (1 - tailOffset) / 2 * xSign;\n                }\n              },\n              vv: function () {\n                cpy1 += (absDy * gridBreak.relative + gridBreak.abs) * ySign;\n                cpy2 -= (absDy * (1 - gridBreak.relative) - gridBreak.abs) * ySign;\n                if (showHead) {\n                  cpy1 -= fHeadSize * (1 - headOffset) / 2 * ySign;\n                  cpy2 += fHeadSize * (1 - headOffset) / 2 * ySign;\n                }\n                if (showTail) {\n                  cpy1 -= fTailSize * (1 - tailOffset) / 2 * ySign;\n                  cpy2 += fTailSize * (1 - tailOffset) / 2 * ySign;\n                }\n              },\n              hv: function () {\n                cpx1 = x2;\n              },\n              vh: function () {\n                cpy1 = y2;\n              }\n            };\n          }\n          // smart select best curve for the current anchors\n          var selectedCurviness = '';\n          if (['left', 'right'].includes(startAnchorPosition)) selectedCurviness += 'h';else if (['bottom', 'top'].includes(startAnchorPosition)) selectedCurviness += 'v';else if (startAnchorPosition === 'middle') selectedCurviness += 'm';\n          if (['left', 'right'].includes(endAnchorPosition)) selectedCurviness += 'h';else if (['bottom', 'top'].includes(endAnchorPosition)) selectedCurviness += 'v';else if (endAnchorPosition === 'middle') selectedCurviness += 'm';\n          if (absDx > absDy) selectedCurviness = selectedCurviness.replace(/m/g, 'h');else selectedCurviness = selectedCurviness.replace(/m/g, 'v');\n          curvesPossibilities[selectedCurviness]();\n          cpx1 += _cpx1Offset;\n          cpy1 += _cpy1Offset;\n          cpx2 += _cpx2Offset;\n          cpy2 += _cpy2Offset;\n          ////////////////////////////////////\n          // canvas smart size adjustments\n          var _h = buzzier_1.buzzierMinSols(x1, cpx1, cpx2, x2),\n            xSol1 = _h[0],\n            xSol2 = _h[1];\n          var _j = buzzier_1.buzzierMinSols(y1, cpy1, cpy2, y2),\n            ySol1 = _j[0],\n            ySol2 = _j[1];\n          if (xSol1 < 0) excLeft += -xSol1;\n          if (xSol2 > absDx) excRight += xSol2 - absDx;\n          if (ySol1 < 0) excUp += -ySol1;\n          if (ySol2 > absDy) excDown += ySol2 - absDy;\n          if (path === 'grid') {\n            excLeft += _calc;\n            excRight += _calc;\n            excUp += _calc;\n            excDown += _calc;\n          }\n          x1 += excLeft;\n          x2 += excLeft;\n          y1 += excUp;\n          y2 += excUp;\n          cpx1 += excLeft;\n          cpx2 += excLeft;\n          cpy1 += excUp;\n          cpy2 += excUp;\n          var cw = absDx + excLeft + excRight,\n            ch = absDy + excUp + excDown;\n          cx0 -= excLeft;\n          cy0 -= excUp;\n          //labels\n          var bzx = buzzier_1.bzFunction(x1, cpx1, cpx2, x2);\n          var bzy = buzzier_1.bzFunction(y1, cpy1, cpy2, y2);\n          var labelStartPos = {\n            x: bzx(0.01),\n            y: bzy(0.01)\n          };\n          var labelMiddlePos = {\n            x: bzx(0.5),\n            y: bzy(0.5)\n          };\n          var labelEndPos = {\n            x: bzx(0.99),\n            y: bzy(0.99)\n          };\n          var arrowPath;\n          if (path === 'grid') {\n            // todo: support gridRadius\n            //  arrowPath = `M ${x1} ${y1} L  ${cpx1 - 10} ${cpy1} a10,10 0 0 1 10,10\n            // L ${cpx2} ${cpy2 - 10} a10,10 0 0 0 10,10 L  ${x2} ${y2}`;\n            arrowPath = \"M \" + x1 + \" \" + y1 + \" L  \" + cpx1 + \" \" + cpy1 + \" L \" + cpx2 + \" \" + cpy2 + \" \" + x2 + \" \" + y2;\n          } else if (path === 'smooth') arrowPath = \"M \" + x1 + \" \" + y1 + \" C \" + cpx1 + \" \" + cpy1 + \", \" + cpx2 + \" \" + cpy2 + \", \" + x2 + \" \" + y2;\n          return {\n            cx0: cx0,\n            cy0: cy0,\n            x1: x1,\n            x2: x2,\n            y1: y1,\n            y2: y2,\n            cw: cw,\n            ch: ch,\n            cpx1: cpx1,\n            cpy1: cpy1,\n            cpx2: cpx2,\n            cpy2: cpy2,\n            dx: dx,\n            dy: dy,\n            absDx: absDx,\n            absDy: absDy,\n            headOrient: headOrient,\n            tailOrient: tailOrient,\n            labelStartPos: labelStartPos,\n            labelMiddlePos: labelMiddlePos,\n            labelEndPos: labelEndPos,\n            excLeft: excLeft,\n            excRight: excRight,\n            excUp: excUp,\n            excDown: excDown,\n            headOffset: _headOffset,\n            arrowHeadOffset: arrowHeadOffset,\n            arrowTailOffset: arrowTailOffset,\n            startPoints: startPoints,\n            endPoints: endPoints,\n            mainDivPos: mainDivPos,\n            xSign: xSign,\n            ySign: ySign,\n            lineLength: (_d = (_c = lineRef.current) === null || _c === void 0 ? void 0 : _c.getTotalLength()) !== null && _d !== void 0 ? _d : 0,\n            fHeadSize: fHeadSize,\n            fTailSize: fTailSize,\n            arrowPath: arrowPath\n          };\n        };\n        exports.getPosition = getPosition;\n\n        /***/\n      }),\n      /***/\"./src/Xarrow/utils/index.ts\": (\n      /*!***********************************!*\\\n        !*** ./src/Xarrow/utils/index.ts ***!\n        \\***********************************/\n      /***/\n      function (__unused_webpack_module, exports) {\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.getSvgPos = exports.getElemPos = exports.getShortestLine = exports.xStr2absRelative = exports.factorDpathStr = exports.getElementByPropGiven = void 0;\n        var getElementByPropGiven = function (ref) {\n          var myRef;\n          if (typeof ref === 'string') {\n            // myRef = document.getElementById(ref);\n            myRef = document.getElementById(ref);\n          } else myRef = ref === null || ref === void 0 ? void 0 : ref.current;\n          return myRef;\n        };\n        exports.getElementByPropGiven = getElementByPropGiven;\n        // receives string representing a d path and factoring only the numbers\n        var factorDpathStr = function (d, factor) {\n          var l = d.split(/(\\d+(?:\\.\\d+)?)/);\n          l = l.map(function (s) {\n            if (Number(s)) return (Number(s) * factor).toString();else return s;\n          });\n          return l.join('');\n        };\n        exports.factorDpathStr = factorDpathStr;\n        // return relative,abs\n        var xStr2absRelative = function (str) {\n          if (typeof str !== 'string') return {\n            abs: 0,\n            relative: 0.5\n          };\n          var sp = str.split('%');\n          var absLen = 0,\n            percentLen = 0;\n          if (sp.length == 1) {\n            var p = parseFloat(sp[0]);\n            if (!isNaN(p)) {\n              absLen = p;\n              return {\n                abs: absLen,\n                relative: 0\n              };\n            }\n          } else if (sp.length == 2) {\n            var _a = [parseFloat(sp[0]), parseFloat(sp[1])],\n              p1 = _a[0],\n              p2 = _a[1];\n            if (!isNaN(p1)) percentLen = p1 / 100;\n            if (!isNaN(p2)) absLen = p2;\n            if (!isNaN(p1) || !isNaN(p2)) return {\n              abs: absLen,\n              relative: percentLen\n            };\n          }\n        };\n        exports.xStr2absRelative = xStr2absRelative;\n        var dist = function (p1, p2) {\n          //length of line\n          return Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2));\n        };\n        var getShortestLine = function (sPoints, ePoints) {\n          // closes tPair Of Points which feet to the specified anchors\n          var minDist = Infinity,\n            d = Infinity;\n          var closestPair;\n          sPoints.forEach(function (sp) {\n            ePoints.forEach(function (ep) {\n              d = dist(sp, ep);\n              if (d < minDist) {\n                minDist = d;\n                closestPair = {\n                  chosenStart: sp,\n                  chosenEnd: ep\n                };\n              }\n            });\n          });\n          return closestPair;\n        };\n        exports.getShortestLine = getShortestLine;\n        var getElemPos = function (elem) {\n          if (!elem) return {\n            x: 0,\n            y: 0,\n            right: 0,\n            bottom: 0\n          };\n          var pos = elem.getBoundingClientRect();\n          return {\n            x: pos.left,\n            y: pos.top,\n            right: pos.right,\n            bottom: pos.bottom\n          };\n        };\n        exports.getElemPos = getElemPos;\n        var getSvgPos = function (svgRef) {\n          if (!svgRef.current) return {\n            x: 0,\n            y: 0\n          };\n          var _a = svgRef.current.getBoundingClientRect(),\n            xarrowElemX = _a.left,\n            xarrowElemY = _a.top;\n          var xarrowStyle = getComputedStyle(svgRef.current);\n          var xarrowStyleLeft = Number(xarrowStyle.left.slice(0, -2));\n          var xarrowStyleTop = Number(xarrowStyle.top.slice(0, -2));\n          return {\n            x: xarrowElemX - xarrowStyleLeft,\n            y: xarrowElemY - xarrowStyleTop\n          };\n        };\n        exports.getSvgPos = getSvgPos;\n\n        /***/\n      }),\n      /***/\"./src/Xwrapper.tsx\": (\n      /*!**************************!*\\\n        !*** ./src/Xwrapper.tsx ***!\n        \\**************************/\n      /***/\n      function (__unused_webpack_module, exports, __webpack_require__) {\n        var __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n          if (k2 === undefined) k2 = k;\n          Object.defineProperty(o, k2, {\n            enumerable: true,\n            get: function () {\n              return m[k];\n            }\n          });\n        } : function (o, m, k, k2) {\n          if (k2 === undefined) k2 = k;\n          o[k2] = m[k];\n        });\n        var __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n          Object.defineProperty(o, \"default\", {\n            enumerable: true,\n            value: v\n          });\n        } : function (o, v) {\n          o[\"default\"] = v;\n        });\n        var __importStar = this && this.__importStar || function (mod) {\n          if (mod && mod.__esModule) return mod;\n          var result = {};\n          if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n          __setModuleDefault(result, mod);\n          return result;\n        };\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.XarrowContext = exports.XelemContext = void 0;\n        var react_1 = __importStar(__webpack_require__(/*! react */\"react\"));\n        exports.XelemContext = react_1.default.createContext(null);\n        exports.XarrowContext = react_1.default.createContext(null);\n        var updateRef = {};\n        var updateRefCount = 0;\n        var log = console.log;\n        var XarrowProvider = function (_a) {\n          var children = _a.children,\n            instanceCount = _a.instanceCount;\n          var _b = react_1.useState({}),\n            setRender = _b[1];\n          var updateXarrow = function () {\n            return setRender({});\n          };\n          react_1.useEffect(function () {\n            instanceCount.current = updateRefCount; // so this instance would know what is id\n            updateRef[instanceCount.current] = updateXarrow;\n          }, []);\n          // log('XarrowProvider', updateRefCount);\n          return react_1.default.createElement(exports.XarrowContext.Provider, {\n            value: updateXarrow\n          }, children);\n        };\n        var XelemProvider = function (_a) {\n          var children = _a.children,\n            instanceCount = _a.instanceCount;\n          return react_1.default.createElement(exports.XelemContext.Provider, {\n            value: updateRef[instanceCount.current]\n          }, children);\n        };\n        var Xwrapper = function (_a) {\n          var children = _a.children;\n          var instanceCount = react_1.useRef(updateRefCount);\n          var _b = react_1.useState({}),\n            setRender = _b[1];\n          react_1.useEffect(function () {\n            updateRefCount++;\n            setRender({});\n            return function () {\n              delete updateRef[instanceCount.current];\n            };\n          }, []);\n          return react_1.default.createElement(XelemProvider, {\n            instanceCount: instanceCount\n          }, react_1.default.createElement(XarrowProvider, {\n            instanceCount: instanceCount\n          }, children));\n        };\n        exports.default = Xwrapper;\n\n        /***/\n      }),\n      /***/\"./src/constants.tsx\": (\n      /*!***************************!*\\\n        !*** ./src/constants.tsx ***!\n        \\***************************/\n      /***/\n      function (__unused_webpack_module, exports, __webpack_require__) {\n        var __importDefault = this && this.__importDefault || function (mod) {\n          return mod && mod.__esModule ? mod : {\n            \"default\": mod\n          };\n        };\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.cArrowShapes = exports.arrowShapes = exports.cSvgElems = exports.cPaths = exports.cAnchorEdge = void 0;\n        // constants used for typescript and proptypes definitions\n        var react_1 = __importDefault(__webpack_require__(/*! react */\"react\"));\n        exports.cAnchorEdge = ['middle', 'left', 'right', 'top', 'bottom', 'auto'];\n        exports.cPaths = ['smooth', 'grid', 'straight'];\n        exports.cSvgElems = ['circle', 'ellipse', 'line', 'path', 'polygon', 'polyline', 'rect'];\n        //default arrows svgs\n        exports.arrowShapes = {\n          arrow1: {\n            svgElem: react_1.default.createElement(\"path\", {\n              d: \"M 0 0 L 1 0.5 L 0 1 L 0.25 0.5 z\"\n            }),\n            offsetForward: 0.25\n          },\n          heart: {\n            svgElem: react_1.default.createElement(\"path\", {\n              d: \"M 0,0.25 A 0.125,0.125 0,0,1 0.5,0.25 A 0.125,0.125 0,0,1 1,0.25 Q 1,0.625 0.5,1 Q 0,0.625 0,0.25 z\"\n            }),\n            offsetForward: 0.1\n          },\n          circle: {\n            svgElem: react_1.default.createElement(\"circle\", {\n              r: 0.5,\n              cx: 0.5,\n              cy: 0.5\n            }),\n            offsetForward: 0\n          }\n        };\n        exports.cArrowShapes = Object.keys(exports.arrowShapes);\n\n        /***/\n      }),\n      /***/\"./src/index.tsx\": (\n      /*!***********************!*\\\n        !*** ./src/index.tsx ***!\n        \\***********************/\n      /***/\n      function (__unused_webpack_module, exports, __webpack_require__) {\n        var __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n          if (k2 === undefined) k2 = k;\n          Object.defineProperty(o, k2, {\n            enumerable: true,\n            get: function () {\n              return m[k];\n            }\n          });\n        } : function (o, m, k, k2) {\n          if (k2 === undefined) k2 = k;\n          o[k2] = m[k];\n        });\n        var __exportStar = this && this.__exportStar || function (m, exports) {\n          for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n        };\n        var __importDefault = this && this.__importDefault || function (mod) {\n          return mod && mod.__esModule ? mod : {\n            \"default\": mod\n          };\n        };\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.useXarrow = exports.Xwrapper = exports.default = void 0;\n        var Xarrow_1 = __webpack_require__(/*! ./Xarrow/Xarrow */\"./src/Xarrow/Xarrow.tsx\");\n        Object.defineProperty(exports, \"default\", {\n          enumerable: true,\n          get: function () {\n            return __importDefault(Xarrow_1).default;\n          }\n        });\n        __exportStar(__webpack_require__(/*! ./types */\"./src/types.ts\"), exports);\n        __exportStar(__webpack_require__(/*! ./constants */\"./src/constants.tsx\"), exports);\n        var Xwrapper_1 = __webpack_require__(/*! ./Xwrapper */\"./src/Xwrapper.tsx\");\n        Object.defineProperty(exports, \"Xwrapper\", {\n          enumerable: true,\n          get: function () {\n            return __importDefault(Xwrapper_1).default;\n          }\n        });\n        var useXarrow_1 = __webpack_require__(/*! ./useXarrow */\"./src/useXarrow.tsx\");\n        Object.defineProperty(exports, \"useXarrow\", {\n          enumerable: true,\n          get: function () {\n            return __importDefault(useXarrow_1).default;\n          }\n        });\n\n        /***/\n      }),\n      /***/\"./src/types.ts\": (\n      /*!**********************!*\\\n        !*** ./src/types.ts ***!\n        \\**********************/\n      /***/\n      function (__unused_webpack_module, exports) {\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        /***/\n      }),\n      /***/\"./src/useXarrow.tsx\": (\n      /*!***************************!*\\\n        !*** ./src/useXarrow.tsx ***!\n        \\***************************/\n      /***/\n      function (__unused_webpack_module, exports, __webpack_require__) {\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        var react_1 = __webpack_require__(/*! react */\"react\");\n        var Xwrapper_1 = __webpack_require__(/*! ./Xwrapper */\"./src/Xwrapper.tsx\");\n        var useXarrow = function () {\n          var _a = react_1.useState({}),\n            setRender = _a[1];\n          var reRender = function () {\n            return setRender({});\n          };\n          var updateXarrow = react_1.useContext(Xwrapper_1.XelemContext);\n          if (!updateXarrow) updateXarrow = function () {};\n          // throw new Error(\n          //   \"'Xwrapper' is required around element using 'useXarrow' hook! wrap your xarrows and connected elements with Xwrapper! \"\n          // );\n          react_1.useLayoutEffect(function () {\n            updateXarrow();\n          });\n          return reRender;\n        };\n        exports.default = useXarrow;\n\n        /***/\n      }),\n      /***/\"lodash\": (\n      /*!*************************!*\\\n        !*** external \"lodash\" ***!\n        \\*************************/\n      /***/\n      function (module) {\n        module.exports = __WEBPACK_EXTERNAL_MODULE_lodash__;\n\n        /***/\n      }),\n      /***/\"prop-types\": (\n      /*!*****************************!*\\\n        !*** external \"prop-types\" ***!\n        \\*****************************/\n      /***/\n      function (module) {\n        module.exports = __WEBPACK_EXTERNAL_MODULE_prop_types__;\n\n        /***/\n      }),\n      /***/\"react\": (\n      /*!************************!*\\\n        !*** external \"react\" ***!\n        \\************************/\n      /***/\n      function (module) {\n        module.exports = __WEBPACK_EXTERNAL_MODULE_react__;\n\n        /***/\n      })\n\n      /******/\n    };\n    /************************************************************************/\n    /******/ // The module cache\n    /******/\n    var __webpack_module_cache__ = {};\n    /******/\n    /******/ // The require function\n    /******/\n    function __webpack_require__(moduleId) {\n      /******/ // Check if module is in cache\n      /******/var cachedModule = __webpack_module_cache__[moduleId];\n      /******/\n      if (cachedModule !== undefined) {\n        /******/return cachedModule.exports;\n        /******/\n      }\n      /******/ // Create a new module (and put it into the cache)\n      /******/\n      var module = __webpack_module_cache__[moduleId] = {\n        /******/id: moduleId,\n        /******/loaded: false,\n        /******/exports: {}\n        /******/\n      };\n      /******/\n      /******/ // Execute the module function\n      /******/\n      __webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n      /******/\n      /******/ // Flag the module as loaded\n      /******/\n      module.loaded = true;\n      /******/\n      /******/ // Return the exports of the module\n      /******/\n      return module.exports;\n      /******/\n    }\n    /******/\n    /******/ // expose the module cache\n    /******/\n    __webpack_require__.c = __webpack_module_cache__;\n    /******/\n    /************************************************************************/\n    /******/ /* webpack/runtime/define property getters */\n    /******/\n    !function () {\n      /******/ // define getter functions for harmony exports\n      /******/__webpack_require__.d = function (exports, definition) {\n        /******/for (var key in definition) {\n          /******/if (__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n            /******/Object.defineProperty(exports, key, {\n              enumerable: true,\n              get: definition[key]\n            });\n            /******/\n          }\n          /******/\n        }\n        /******/\n      };\n      /******/\n    }();\n    /******/\n    /******/ /* webpack/runtime/hasOwnProperty shorthand */\n    /******/\n    !function () {\n      /******/__webpack_require__.o = function (obj, prop) {\n        return Object.prototype.hasOwnProperty.call(obj, prop);\n      };\n      /******/\n    }();\n    /******/\n    /******/ /* webpack/runtime/make namespace object */\n    /******/\n    !function () {\n      /******/ // define __esModule on exports\n      /******/__webpack_require__.r = function (exports) {\n        /******/if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n          /******/Object.defineProperty(exports, Symbol.toStringTag, {\n            value: 'Module'\n          });\n          /******/\n        }\n        /******/\n        Object.defineProperty(exports, '__esModule', {\n          value: true\n        });\n        /******/\n      };\n      /******/\n    }();\n    /******/\n    /******/ /* webpack/runtime/node module decorator */\n    /******/\n    !function () {\n      /******/__webpack_require__.nmd = function (module) {\n        /******/module.paths = [];\n        /******/\n        if (!module.children) module.children = [];\n        /******/\n        return module;\n        /******/\n      };\n      /******/\n    }();\n    /******/\n    /************************************************************************/\n    /******/\n    /******/ // module cache are used so entry inlining is disabled\n    /******/ // startup\n    /******/ // Load entry module and return exports\n    /******/\n    var __webpack_exports__ = __webpack_require__(__webpack_require__.s = \"./src/index.tsx\");\n    /******/\n    /******/\n    return __webpack_exports__;\n    /******/\n  }();\n});","map":{"version":3,"names":["webpackUniversalModuleDefinition","root","factory","exports","module","require","define","amd","__WEBPACK_EXTERNAL_MODULE_react__","__WEBPACK_EXTERNAL_MODULE_lodash__","__WEBPACK_EXTERNAL_MODULE_prop_types__","__webpack_modules__","./src/Xarrow/utils/buzzier.js","__unused_webpack_module","__webpack_exports__","__webpack_require__","r","d","bzFunction","buzzierMinSols","p1","p2","p3","p4","t","Math","pow","bz","A","B","C","sol1","sqrt","sol2","./src/Xarrow/Xarrow.tsx","__assign","Object","assign","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__createBinding","create","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","__spreadArray","to","from","il","j","__importDefault","react_1","useXarrowProps_1","Xwrapper_1","propTypes_1","GetPosition_1","log","console","Xarrow","props","_a","mainRef","useRef","svgRef","lineRef","headRef","tailRef","lineDrawAnimRef","lineDashAnimRef","headOpacityAnimRef","_b","current","useContext","XarrowContext","xProps","default","propsRefs","labels","lineColor","headColor","tailColor","strokeWidth","showHead","showTail","dashness","headShape","tailShape","showXarrow","animateDrawing","zIndex","passProps","arrowBodyProps","arrowHeadProps","arrowTailProps","SVGcanvasProps","divContainerProps","divContainerStyle","SVGcanvasStyle","_debug","shouldUpdatePosition","_c","useState","drawAnimEnded","setDrawAnimEnded","_d","setRender","forceRerender","_e","cx0","cy0","cw","ch","x1","y1","x2","y2","dx","dy","absDx","absDy","cpx1","cpy1","cpx2","cpy2","headOrient","tailOrient","arrowHeadOffset","x","y","arrowTailOffset","headOffset","excRight","excLeft","excUp","excDown","startPoints","endPoints","mainDivPos","xSign","ySign","lineLength","fHeadSize","fTailSize","arrowPath","labelStartPos","labelMiddlePos","labelEndPos","st","setSt","useLayoutEffect","pos","getPosition","xOffsetHead","yOffsetHead","xOffsetTail","yOffsetTail","dashoffset","strokeLen","nonStrokeLen","animDirection","animation","dashArray","animRepeatCount","animStartValue","animEndValue","prevSt","getTotalLength","useEffect","monitorDOMchanges","window","addEventListener","handleDrawAmimEnd","beginElement","handleDrawAmimBegin","style","opacity","removeEventListener","cleanMonitorDOMchanges","createElement","position","Fragment","ref","width","height","left","top","pointerEvents","border","overflow","stroke","strokeDasharray","fill","attributeName","values","dur","repeatCount","id","transform","svgElem","begin","cx","cy","start","middle","display","end","map","key","background","borderRadius","propTypes","./src/Xarrow/anchors.ts","nmd","calcAnchors","getAnchorsDefaultOffsets","right","bottom","anchors","anchorPos","anchor","defsOffsets","offset","c","./src/Xarrow/propTypes.ts","prop_types_1","constants_1","pAnchorPositionType","oneOf","cAnchorEdge","pAnchorCustomPositionType","exact","isRequired","number","_pAnchorType","oneOfType","pAnchorType","arrayOf","pRefType","string","any","_pLabelType","element","pLabelsType","pSvgEdgeShapeType","keys","arrowShapes","pSvgElemType","pSvgEdgeType","offsetForward","XarrowPropTypes","startAnchor","endAnchor","color","bool","headSize","tailSize","path","cPaths","curveness","gridBreak","object","_extendSVGcanvas","_cpx1Offset","_cpy1Offset","_cpx2Offset","_cpy2Offset","./src/Xarrow/useXarrowProps.ts","utils_1","lodash_1","parseLabels","label","parsedLabel","isValidElement","parseAnchor","anchorChoice","Array","isArray","anchorChoice2","filter","an","includes","autosAncs","push","flatMap","anchorObj","anchorName","anchorChoice3","anchorChoiceCustom","parseDashness","dashStroke","dashNone","animDashSpeed","parseEdgeShape","svgEdge","warn","cArrowShapes","parseGridBreak","resGridBreak","xStr2absRelative","relative","abs","withUpdate","propVal","updateRef","noParse","userProp","noParseWithUpdatePos","_","updatePos","parseNumWithUpdatePos","Number","parseNum","parsePropsFuncs","getElementByPropGiven","propsDeps","propName","_i","parseGivenProps","propsRef","entries","name_1","val","defaultProps","initialParsedProps","initialValVars","startPos","endPos","deepCompareEquals","a","b","isEqual","useDeepCompareMemoize","useDeepCompareEffect","callback","dependencies","useXarrowProps","userProps","refs","setPropsRefs","curProps","_loop_1","name","valVars","setValVars","getElemPos","./src/Xarrow/utils/GetPosition.tsx","anchors_1","index_1","buzzier_1","_f","getShortestLine","chosenStart","chosenEnd","startAnchorPosition","endAnchorPosition","startPoint","pick","endPoint","getSvgPos","min","_g","tailOffset","xHeadOffset","yHeadOffset","xTailOffset","yTailOffset","_headOffset","_tailOffset","cu","biggerSide","_calc","headAngel","atan","cos","sin","PI","tailAngel","curvesPossibilities","hh","vv","hv","vh","selectedCurviness","replace","_h","xSol1","xSol2","_j","ySol1","ySol2","bzx","bzy","./src/Xarrow/utils/index.ts","factorDpathStr","myRef","document","getElementById","factor","l","split","toString","join","str","sp","absLen","percentLen","parseFloat","isNaN","dist","sPoints","ePoints","minDist","Infinity","closestPair","forEach","ep","elem","getBoundingClientRect","xarrowElemX","xarrowElemY","xarrowStyle","getComputedStyle","xarrowStyleLeft","slice","xarrowStyleTop","./src/Xwrapper.tsx","XelemContext","createContext","updateRefCount","XarrowProvider","children","instanceCount","updateXarrow","Provider","XelemProvider","Xwrapper","./src/constants.tsx","cSvgElems","arrow1","heart","circle","./src/index.tsx","__exportStar","useXarrow","Xarrow_1","useXarrow_1","./src/types.ts","./src/useXarrow.tsx","reRender","lodash","prop-types","react","__webpack_module_cache__","moduleId","cachedModule","loaded","definition","obj","prop","Symbol","toStringTag","paths"],"sources":["C:/Users/vmoun/OneDrive/Desktop/newtieckettool/node_modules/react-xarrows/lib/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"lodash\"), require(\"prop-types\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"reactXarrow\", [\"react\", \"lodash\", \"prop-types\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"reactXarrow\"] = factory(require(\"react\"), require(\"lodash\"), require(\"prop-types\"));\n\telse\n\t\troot[\"reactXarrow\"] = factory(root[\"react\"], root[\"lodash\"], root[\"prop-types\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_react__, __WEBPACK_EXTERNAL_MODULE_lodash__, __WEBPACK_EXTERNAL_MODULE_prop_types__) {\nreturn /******/ (function() { // webpackBootstrap\n/******/ \t\"use strict\";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ \"./src/Xarrow/utils/buzzier.js\":\n/*!*************************************!*\\\n  !*** ./src/Xarrow/utils/buzzier.js ***!\n  \\*************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"bzFunction\": function() { return /* binding */ bzFunction; },\n/* harmony export */   \"buzzierMinSols\": function() { return /* binding */ buzzierMinSols; }\n/* harmony export */ });\n// Buzier curve calculations\n\n/**\r\n * returns buzzier curve function with 2 controls points\r\n * bzCurve with 2 control points function(4 points total):  bz = (1−t)^3*p1 + 3(1−t)^2*t*p2 +3(1−t)*t^2*p3 + t^3*p4\r\n */\nvar bzFunction = function bzFunction(p1, p2, p3, p4) {\n  return function (t) {\n    return Math.pow(1 - t, 3) * p1 + 3 * Math.pow(1 - t, 2) * t * p2 + 3 * (1 - t) * Math.pow(t, 2) * p3 + Math.pow(t, 3) * p4;\n  };\n};\n/**\r\n * returns 2 solutions from extram points for buzzier curve with 2 controls points\r\n */\n\nvar buzzierMinSols = function buzzierMinSols(p1, p2, p3, p4) {\n  var bz = bzFunction(p1, p2, p3, p4); // dt(bz) = -3 p1 (1 - t)^2 + 3 p2 (1 - t)^2 - 6 p2 (1 - t) t + 6 p3 (1 - t) t - 3 p3 t^2 + 3 p4 t^2\n  // when p1=(x1,y1),p2=(cpx1,cpy1),p3=(cpx2,cpy2),p4=(x2,y2)\n  // then extrema points is when dt(bz) = 0\n  // solutions =>  t = ((-6 p1 + 12 p2 - 6 p3) ± sqrt((6 p1 - 12 p2 + 6 p3)^2 - 4 (3 p2 - 3 p1) (-3 p1 + 9 p2 - 9 p3 + 3 p4)))/(2 (-3 p1 + 9 p2 - 9 p3 + 3 p4))  when (p1 + 3 p3!=3 p2 + p4)\n  // if we mark A=(-6 p1 + 12 p2 - 6 p3) and B=(6 p1 - 12 p2 + 6 p3)^2 - 4 (3 p2 - 3 p1) (-3 p1 + 9 p2 - 9 p3 + 3 p4)) and C =(2 (-3 p1 + 9 p2 - 9 p3 + 3 p4) then\n  // tSol = A ± sqrt(B)\n  // then solution we want is: bz(tSol)\n\n  var A = -6 * p1 + 12 * p2 - 6 * p3;\n  var B = Math.pow(-6 * p1 + 12 * p2 - 6 * p3, 2) - 4 * (3 * p2 - 3 * p1) * (-3 * p1 + 9 * p2 - 9 * p3 + 3 * p4);\n  var C = 2 * (-3 * p1 + 9 * p2 - 9 * p3 + 3 * p4);\n  var sol1 = bz((A + Math.sqrt(B)) / C);\n  var sol2 = bz((A - Math.sqrt(B)) / C);\n  return [sol1, sol2];\n};\n\n/***/ }),\n\n/***/ \"./src/Xarrow/Xarrow.tsx\":\n/*!*******************************!*\\\n  !*** ./src/Xarrow/Xarrow.tsx ***!\n  \\*******************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\r\nvar useXarrowProps_1 = __importDefault(__webpack_require__(/*! ./useXarrowProps */ \"./src/Xarrow/useXarrowProps.ts\"));\r\nvar Xwrapper_1 = __webpack_require__(/*! ../Xwrapper */ \"./src/Xwrapper.tsx\");\r\nvar propTypes_1 = __importDefault(__webpack_require__(/*! ./propTypes */ \"./src/Xarrow/propTypes.ts\"));\r\nvar GetPosition_1 = __webpack_require__(/*! ./utils/GetPosition */ \"./src/Xarrow/utils/GetPosition.tsx\");\r\nvar log = console.log;\r\nvar Xarrow = function (props) {\r\n    // log('xarrow update');\r\n    var _a;\r\n    var mainRef = react_1.useRef({\r\n        svgRef: react_1.useRef(null),\r\n        lineRef: react_1.useRef(null),\r\n        headRef: react_1.useRef(null),\r\n        tailRef: react_1.useRef(null),\r\n        lineDrawAnimRef: react_1.useRef(null),\r\n        lineDashAnimRef: react_1.useRef(null),\r\n        headOpacityAnimRef: react_1.useRef(null),\r\n    });\r\n    var _b = mainRef.current, svgRef = _b.svgRef, lineRef = _b.lineRef, headRef = _b.headRef, tailRef = _b.tailRef, lineDrawAnimRef = _b.lineDrawAnimRef, lineDashAnimRef = _b.lineDashAnimRef, headOpacityAnimRef = _b.headOpacityAnimRef;\r\n    react_1.useContext(Xwrapper_1.XarrowContext);\r\n    var xProps = useXarrowProps_1.default(props, mainRef.current);\r\n    var propsRefs = xProps[0];\r\n    var labels = propsRefs.labels, lineColor = propsRefs.lineColor, headColor = propsRefs.headColor, tailColor = propsRefs.tailColor, strokeWidth = propsRefs.strokeWidth, showHead = propsRefs.showHead, showTail = propsRefs.showTail, dashness = propsRefs.dashness, headShape = propsRefs.headShape, tailShape = propsRefs.tailShape, showXarrow = propsRefs.showXarrow, animateDrawing = propsRefs.animateDrawing, zIndex = propsRefs.zIndex, passProps = propsRefs.passProps, arrowBodyProps = propsRefs.arrowBodyProps, arrowHeadProps = propsRefs.arrowHeadProps, arrowTailProps = propsRefs.arrowTailProps, SVGcanvasProps = propsRefs.SVGcanvasProps, divContainerProps = propsRefs.divContainerProps, divContainerStyle = propsRefs.divContainerStyle, SVGcanvasStyle = propsRefs.SVGcanvasStyle, _debug = propsRefs._debug, shouldUpdatePosition = propsRefs.shouldUpdatePosition;\r\n    animateDrawing = props.animateDrawing;\r\n    var _c = react_1.useState(!animateDrawing), drawAnimEnded = _c[0], setDrawAnimEnded = _c[1];\r\n    var _d = react_1.useState({}), setRender = _d[1];\r\n    var forceRerender = function () { return setRender({}); };\r\n    var _e = react_1.useState({\r\n        //initial state\r\n        cx0: 0,\r\n        cy0: 0,\r\n        cw: 0,\r\n        ch: 0,\r\n        x1: 0,\r\n        y1: 0,\r\n        x2: 0,\r\n        y2: 0,\r\n        dx: 0,\r\n        dy: 0,\r\n        absDx: 0,\r\n        absDy: 0,\r\n        cpx1: 0,\r\n        cpy1: 0,\r\n        cpx2: 0,\r\n        cpy2: 0,\r\n        headOrient: 0,\r\n        tailOrient: 0,\r\n        arrowHeadOffset: { x: 0, y: 0 },\r\n        arrowTailOffset: { x: 0, y: 0 },\r\n        headOffset: 0,\r\n        excRight: 0,\r\n        excLeft: 0,\r\n        excUp: 0,\r\n        excDown: 0,\r\n        startPoints: [],\r\n        endPoints: [],\r\n        mainDivPos: { x: 0, y: 0 },\r\n        xSign: 1,\r\n        ySign: 1,\r\n        lineLength: 0,\r\n        fHeadSize: 1,\r\n        fTailSize: 1,\r\n        arrowPath: \"\",\r\n        labelStartPos: { x: 0, y: 0 },\r\n        labelMiddlePos: { x: 0, y: 0 },\r\n        labelEndPos: { x: 0, y: 0 },\r\n    }), st = _e[0], setSt = _e[1];\r\n    /**\r\n     * The Main logic of path calculation for the arrow.\r\n     * calculate new path, adjusting canvas, and set state based on given properties.\r\n     * */\r\n    react_1.useLayoutEffect(function () {\r\n        if (shouldUpdatePosition.current) {\r\n            // log('xarrow getPosition');\r\n            var pos = GetPosition_1.getPosition(xProps, mainRef);\r\n            // log('pos', pos);\r\n            setSt(pos);\r\n            shouldUpdatePosition.current = false;\r\n        }\r\n    });\r\n    // log('st', st);\r\n    var xOffsetHead = st.x2 - st.arrowHeadOffset.x;\r\n    var yOffsetHead = st.y2 - st.arrowHeadOffset.y;\r\n    var xOffsetTail = st.x1 - st.arrowTailOffset.x;\r\n    var yOffsetTail = st.y1 - st.arrowTailOffset.y;\r\n    var dashoffset = dashness.strokeLen + dashness.nonStrokeLen;\r\n    var animDirection = 1;\r\n    if (dashness.animation < 0) {\r\n        dashness.animation *= -1;\r\n        animDirection = -1;\r\n    }\r\n    var dashArray, animation, animRepeatCount, animStartValue, animEndValue = 0;\r\n    if (animateDrawing && drawAnimEnded == false) {\r\n        if (typeof animateDrawing === 'boolean')\r\n            animateDrawing = 1;\r\n        animation = animateDrawing + 's';\r\n        dashArray = st.lineLength;\r\n        animStartValue = st.lineLength;\r\n        animRepeatCount = 1;\r\n        if (animateDrawing < 0) {\r\n            _a = [animEndValue, animStartValue], animStartValue = _a[0], animEndValue = _a[1];\r\n            animation = animateDrawing * -1 + 's';\r\n        }\r\n    }\r\n    else {\r\n        dashArray = dashness.strokeLen + \" \" + dashness.nonStrokeLen;\r\n        animation = 1 / dashness.animation + \"s\";\r\n        animStartValue = dashoffset * animDirection;\r\n        animRepeatCount = 'indefinite';\r\n        animEndValue = 0;\r\n    }\r\n    // handle draw animation\r\n    react_1.useLayoutEffect(function () {\r\n        if (lineRef.current)\r\n            setSt(function (prevSt) { var _a, _b; return (__assign(__assign({}, prevSt), { lineLength: (_b = (_a = lineRef.current) === null || _a === void 0 ? void 0 : _a.getTotalLength()) !== null && _b !== void 0 ? _b : 0 })); });\r\n    }, [lineRef.current]);\r\n    // set all props on first render\r\n    react_1.useEffect(function () {\r\n        var monitorDOMchanges = function () {\r\n            window.addEventListener('resize', forceRerender);\r\n            var handleDrawAmimEnd = function () {\r\n                var _a, _b;\r\n                setDrawAnimEnded(true);\r\n                // @ts-ignore\r\n                (_a = headOpacityAnimRef.current) === null || _a === void 0 ? void 0 : _a.beginElement();\r\n                // @ts-ignore\r\n                (_b = lineDashAnimRef.current) === null || _b === void 0 ? void 0 : _b.beginElement();\r\n            };\r\n            var handleDrawAmimBegin = function () { return (headRef.current.style.opacity = '0'); };\r\n            if (lineDrawAnimRef.current && headRef.current) {\r\n                lineDrawAnimRef.current.addEventListener('endEvent', handleDrawAmimEnd);\r\n                lineDrawAnimRef.current.addEventListener('beginEvent', handleDrawAmimBegin);\r\n            }\r\n            return function () {\r\n                window.removeEventListener('resize', forceRerender);\r\n                if (lineDrawAnimRef.current) {\r\n                    lineDrawAnimRef.current.removeEventListener('endEvent', handleDrawAmimEnd);\r\n                    if (headRef.current)\r\n                        lineDrawAnimRef.current.removeEventListener('beginEvent', handleDrawAmimBegin);\r\n                }\r\n            };\r\n        };\r\n        var cleanMonitorDOMchanges = monitorDOMchanges();\r\n        return function () {\r\n            setDrawAnimEnded(false);\r\n            cleanMonitorDOMchanges();\r\n        };\r\n    }, [showXarrow]);\r\n    //todo: could make some advanced generic typescript inferring. for example get type from headShape.elem:T and\r\n    // tailShape.elem:K force the type for passProps,arrowHeadProps,arrowTailProps property. for now `as any` is used to\r\n    // avoid typescript conflicts\r\n    // so todo- fix all the `passProps as any` assertions\r\n    return (react_1.default.createElement(\"div\", __assign({}, divContainerProps, { style: __assign({ position: 'absolute', zIndex: zIndex }, divContainerStyle) }), showXarrow ? (react_1.default.createElement(react_1.default.Fragment, null,\r\n        react_1.default.createElement(\"svg\", __assign({ ref: svgRef, width: st.cw, height: st.ch, style: __assign({ position: 'absolute', left: st.cx0, top: st.cy0, pointerEvents: 'none', border: _debug ? '1px dashed yellow' : null }, SVGcanvasStyle), overflow: \"auto\" }, SVGcanvasProps),\r\n            react_1.default.createElement(\"path\", __assign({ ref: lineRef, d: st.arrowPath, stroke: lineColor, strokeDasharray: dashArray, \r\n                // strokeDasharray={'0 0'}\r\n                strokeWidth: strokeWidth, fill: \"transparent\", pointerEvents: \"visibleStroke\" }, passProps, arrowBodyProps),\r\n                react_1.default.createElement(react_1.default.Fragment, null, drawAnimEnded ? (react_1.default.createElement(react_1.default.Fragment, null, dashness.animation ? (react_1.default.createElement(\"animate\", { ref: lineDashAnimRef, attributeName: \"stroke-dashoffset\", values: dashoffset * animDirection + \";0\", dur: 1 / dashness.animation + \"s\", repeatCount: \"indefinite\" })) : null)) : (react_1.default.createElement(react_1.default.Fragment, null, animateDrawing ? (react_1.default.createElement(\"animate\", { ref: lineDrawAnimRef, id: \"svgEndAnimate\", attributeName: \"stroke-dashoffset\", values: animStartValue + \";\" + animEndValue, dur: animation, repeatCount: animRepeatCount })) : null)))),\r\n            showTail ? (react_1.default.createElement(\"g\", __assign({ fill: tailColor, pointerEvents: \"auto\", transform: \"translate(\" + xOffsetTail + \",\" + yOffsetTail + \") rotate(\" + st.tailOrient + \") scale(\" + st.fTailSize + \")\" }, passProps, arrowTailProps), tailShape.svgElem)) : null,\r\n            showHead ? (react_1.default.createElement(\"g\", __assign({ ref: headRef, \r\n                // d={normalArrowShape}\r\n                fill: headColor, pointerEvents: \"auto\", transform: \"translate(\" + xOffsetHead + \",\" + yOffsetHead + \") rotate(\" + st.headOrient + \") scale(\" + st.fHeadSize + \")\", opacity: animateDrawing && !drawAnimEnded ? 0 : 1 }, passProps, arrowHeadProps),\r\n                react_1.default.createElement(\"animate\", { ref: headOpacityAnimRef, dur: '0.4', attributeName: \"opacity\", from: \"0\", to: \"1\", begin: \"indefinite\", repeatCount: \"0\", fill: \"freeze\" }),\r\n                headShape.svgElem)) : null,\r\n            _debug ? (react_1.default.createElement(react_1.default.Fragment, null,\r\n                react_1.default.createElement(\"circle\", { r: \"5\", cx: st.cpx1, cy: st.cpy1, fill: \"green\" }),\r\n                react_1.default.createElement(\"circle\", { r: \"5\", cx: st.cpx2, cy: st.cpy2, fill: \"blue\" }),\r\n                react_1.default.createElement(\"rect\", { x: st.excLeft, y: st.excUp, width: st.absDx, height: st.absDy, fill: \"none\", stroke: \"pink\", strokeWidth: \"2px\" }))) : null),\r\n        labels.start ? (react_1.default.createElement(\"div\", { style: {\r\n                transform: st.dx < 0 ? 'translate(-100% , -50%)' : 'translate(-0% , -50%)',\r\n                width: 'max-content',\r\n                position: 'absolute',\r\n                left: st.cx0 + st.labelStartPos.x,\r\n                top: st.cy0 + st.labelStartPos.y - strokeWidth - 5,\r\n            } }, labels.start)) : null,\r\n        labels.middle ? (react_1.default.createElement(\"div\", { style: {\r\n                display: 'table',\r\n                width: 'max-content',\r\n                transform: 'translate(-50% , -50%)',\r\n                position: 'absolute',\r\n                left: st.cx0 + st.labelMiddlePos.x,\r\n                top: st.cy0 + st.labelMiddlePos.y,\r\n            } }, labels.middle)) : null,\r\n        labels.end ? (react_1.default.createElement(\"div\", { style: {\r\n                transform: st.dx > 0 ? 'translate(-100% , -50%)' : 'translate(-0% , -50%)',\r\n                width: 'max-content',\r\n                position: 'absolute',\r\n                left: st.cx0 + st.labelEndPos.x,\r\n                top: st.cy0 + st.labelEndPos.y + strokeWidth + 5,\r\n            } }, labels.end)) : null,\r\n        _debug ? (react_1.default.createElement(react_1.default.Fragment, null, __spreadArray(__spreadArray([], st.startPoints), st.endPoints).map(function (p, i) {\r\n            return (react_1.default.createElement(\"div\", { key: i, style: {\r\n                    background: 'gray',\r\n                    opacity: 0.5,\r\n                    borderRadius: '50%',\r\n                    transform: 'translate(-50%, -50%)',\r\n                    height: 5,\r\n                    width: 5,\r\n                    position: 'absolute',\r\n                    left: p.x - st.mainDivPos.x,\r\n                    top: p.y - st.mainDivPos.y,\r\n                } }));\r\n        }))) : null)) : null));\r\n};\r\n//////////////////////////////\r\n// propTypes\r\nXarrow.propTypes = propTypes_1.default;\r\nexports.default = Xarrow;\r\n\n\n/***/ }),\n\n/***/ \"./src/Xarrow/anchors.ts\":\n/*!*******************************!*\\\n  !*** ./src/Xarrow/anchors.ts ***!\n  \\*******************************/\n/***/ (function(module, exports, __webpack_require__) {\n\n/* module decorator */ module = __webpack_require__.nmd(module);\n\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.calcAnchors = void 0;\r\nvar getAnchorsDefaultOffsets = function (width, height) {\r\n    return {\r\n        middle: { x: width * 0.5, y: height * 0.5 },\r\n        left: { x: 0, y: height * 0.5 },\r\n        right: { x: width, y: height * 0.5 },\r\n        top: { x: width * 0.5, y: 0 },\r\n        bottom: { x: width * 0.5, y: height },\r\n    };\r\n};\r\nvar calcAnchors = function (anchors, anchorPos) {\r\n    // now prepare this list of anchors to object expected by the `getShortestLine` function\r\n    return anchors.map(function (anchor) {\r\n        var defsOffsets = getAnchorsDefaultOffsets(anchorPos.right - anchorPos.x, anchorPos.bottom - anchorPos.y);\r\n        var _a = defsOffsets[anchor.position], x = _a.x, y = _a.y;\r\n        return {\r\n            x: anchorPos.x + x + anchor.offset.x,\r\n            y: anchorPos.y + y + anchor.offset.y,\r\n            anchor: anchor,\r\n        };\r\n    });\r\n};\r\nexports.calcAnchors = calcAnchors;\r\nif (__webpack_require__.c[__webpack_require__.s] === module) {\r\n    // const res = parseAnchor(['auto'], {\r\n    //   x: 0,\r\n    //   y: 0,\r\n    //   bottom: 10,\r\n    //   right: 20,\r\n    // });\r\n    // console.log(res);\r\n}\r\n\n\n/***/ }),\n\n/***/ \"./src/Xarrow/propTypes.ts\":\n/*!*********************************!*\\\n  !*** ./src/Xarrow/propTypes.ts ***!\n  \\*********************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar prop_types_1 = __importDefault(__webpack_require__(/*! prop-types */ \"prop-types\"));\r\nvar constants_1 = __webpack_require__(/*! ../constants */ \"./src/constants.tsx\");\r\nvar pAnchorPositionType = prop_types_1.default.oneOf(constants_1.cAnchorEdge);\r\nvar pAnchorCustomPositionType = prop_types_1.default.exact({\r\n    position: pAnchorPositionType.isRequired,\r\n    offset: prop_types_1.default.exact({\r\n        x: prop_types_1.default.number,\r\n        y: prop_types_1.default.number,\r\n    }).isRequired,\r\n});\r\nvar _pAnchorType = prop_types_1.default.oneOfType([pAnchorPositionType, pAnchorCustomPositionType]);\r\nvar pAnchorType = prop_types_1.default.oneOfType([_pAnchorType, prop_types_1.default.arrayOf(_pAnchorType)]);\r\nvar pRefType = prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.exact({ current: prop_types_1.default.any })]);\r\nvar _pLabelType = prop_types_1.default.oneOfType([prop_types_1.default.element, prop_types_1.default.string]);\r\nvar pLabelsType = prop_types_1.default.exact({\r\n    start: _pLabelType,\r\n    middle: _pLabelType,\r\n    end: _pLabelType,\r\n});\r\nvar pSvgEdgeShapeType = prop_types_1.default.oneOf(Object.keys(constants_1.arrowShapes));\r\n// const pSvgElemType = PT.oneOf(cSvgElems);\r\nvar pSvgElemType = prop_types_1.default.any;\r\nvar pSvgEdgeType = prop_types_1.default.oneOfType([\r\n    pSvgEdgeShapeType,\r\n    prop_types_1.default.exact({\r\n        svgElem: pSvgElemType,\r\n        offsetForward: prop_types_1.default.number,\r\n    }).isRequired,\r\n]);\r\nvar XarrowPropTypes = {\r\n    start: pRefType.isRequired,\r\n    end: pRefType.isRequired,\r\n    startAnchor: pAnchorType,\r\n    endAnchor: pAnchorType,\r\n    labels: prop_types_1.default.oneOfType([_pLabelType, pLabelsType]),\r\n    color: prop_types_1.default.string,\r\n    lineColor: prop_types_1.default.string,\r\n    showHead: prop_types_1.default.bool,\r\n    headColor: prop_types_1.default.string,\r\n    headSize: prop_types_1.default.number,\r\n    tailSize: prop_types_1.default.number,\r\n    tailColor: prop_types_1.default.string,\r\n    strokeWidth: prop_types_1.default.number,\r\n    showTail: prop_types_1.default.bool,\r\n    path: prop_types_1.default.oneOf(constants_1.cPaths),\r\n    showXarrow: prop_types_1.default.bool,\r\n    curveness: prop_types_1.default.number,\r\n    gridBreak: prop_types_1.default.string,\r\n    dashness: prop_types_1.default.oneOfType([prop_types_1.default.bool, prop_types_1.default.object]),\r\n    headShape: pSvgEdgeType,\r\n    tailShape: pSvgEdgeType,\r\n    animateDrawing: prop_types_1.default.oneOfType([prop_types_1.default.bool, prop_types_1.default.number]),\r\n    zIndex: prop_types_1.default.number,\r\n    passProps: prop_types_1.default.object,\r\n    arrowBodyProps: prop_types_1.default.object,\r\n    arrowHeadProps: prop_types_1.default.object,\r\n    arrowTailProps: prop_types_1.default.object,\r\n    SVGcanvasProps: prop_types_1.default.object,\r\n    divContainerProps: prop_types_1.default.object,\r\n    _extendSVGcanvas: prop_types_1.default.number,\r\n    _debug: prop_types_1.default.bool,\r\n    _cpx1Offset: prop_types_1.default.number,\r\n    _cpy1Offset: prop_types_1.default.number,\r\n    _cpx2Offset: prop_types_1.default.number,\r\n    _cpy2Offset: prop_types_1.default.number,\r\n};\r\nexports.default = XarrowPropTypes;\r\n\n\n/***/ }),\n\n/***/ \"./src/Xarrow/useXarrowProps.ts\":\n/*!**************************************!*\\\n  !*** ./src/Xarrow/useXarrowProps.ts ***!\n  \\**************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\r\nvar utils_1 = __webpack_require__(/*! ./utils */ \"./src/Xarrow/utils/index.ts\");\r\nvar lodash_1 = __importDefault(__webpack_require__(/*! lodash */ \"lodash\"));\r\nvar constants_1 = __webpack_require__(/*! ../constants */ \"./src/constants.tsx\");\r\nvar parseLabels = function (label) {\r\n    var parsedLabel = { start: null, middle: null, end: null };\r\n    if (label) {\r\n        if (typeof label === 'string' || react_1.default.isValidElement(label))\r\n            parsedLabel.middle = label;\r\n        else {\r\n            for (var key in label) {\r\n                parsedLabel[key] = label[key];\r\n            }\r\n        }\r\n    }\r\n    return parsedLabel;\r\n};\r\nvar parseAnchor = function (anchor) {\r\n    // convert to array\r\n    var anchorChoice = Array.isArray(anchor) ? anchor : [anchor];\r\n    //convert to array of objects\r\n    var anchorChoice2 = anchorChoice.map(function (anchorChoice) {\r\n        if (typeof anchorChoice === 'string') {\r\n            return { position: anchorChoice };\r\n        }\r\n        else\r\n            return anchorChoice;\r\n    });\r\n    //remove any invalid anchor names\r\n    anchorChoice2 = anchorChoice2.filter(function (an) { return constants_1.cAnchorEdge.includes(an.position); });\r\n    if (anchorChoice2.length == 0)\r\n        anchorChoice2 = [{ position: 'auto' }];\r\n    //replace any 'auto' with ['left','right','bottom','top']\r\n    var autosAncs = anchorChoice2.filter(function (an) { return an.position === 'auto'; });\r\n    if (autosAncs.length > 0) {\r\n        anchorChoice2 = anchorChoice2.filter(function (an) { return an.position !== 'auto'; });\r\n        anchorChoice2.push.apply(anchorChoice2, autosAncs.flatMap(function (anchorObj) {\r\n            return ['left', 'right', 'top', 'bottom'].map(function (anchorName) {\r\n                return __assign(__assign({}, anchorObj), { position: anchorName });\r\n            });\r\n        }));\r\n    }\r\n    // default values\r\n    var anchorChoice3 = anchorChoice2.map(function (anchorChoice) {\r\n        if (typeof anchorChoice === 'object') {\r\n            var anchorChoiceCustom = anchorChoice;\r\n            if (!anchorChoiceCustom.position)\r\n                anchorChoiceCustom.position = 'auto';\r\n            if (!anchorChoiceCustom.offset)\r\n                anchorChoiceCustom.offset = { x: 0, y: 0 };\r\n            if (!anchorChoiceCustom.offset.y)\r\n                anchorChoiceCustom.offset.y = 0;\r\n            if (!anchorChoiceCustom.offset.x)\r\n                anchorChoiceCustom.offset.x = 0;\r\n            anchorChoiceCustom = anchorChoiceCustom;\r\n            return anchorChoiceCustom;\r\n        }\r\n        else\r\n            return anchorChoice;\r\n    });\r\n    return anchorChoice3;\r\n};\r\nvar parseDashness = function (dashness, props) {\r\n    var dashStroke = 0, dashNone = 0, animDashSpeed, animDirection = 1;\r\n    if (typeof dashness === 'object') {\r\n        dashStroke = dashness.strokeLen || props.strokeWidth * 2;\r\n        dashNone = dashness.strokeLen ? dashness.nonStrokeLen : props.strokeWidth;\r\n        animDashSpeed = dashness.animation ? dashness.animation : null;\r\n    }\r\n    else if (typeof dashness === 'boolean' && dashness) {\r\n        dashStroke = props.strokeWidth * 2;\r\n        dashNone = props.strokeWidth;\r\n        animDashSpeed = null;\r\n    }\r\n    return { strokeLen: dashStroke, nonStrokeLen: dashNone, animation: animDashSpeed, animDirection: animDirection };\r\n};\r\nvar parseEdgeShape = function (svgEdge) {\r\n    if (typeof svgEdge == 'string') {\r\n        if (svgEdge in constants_1.arrowShapes)\r\n            svgEdge = constants_1.arrowShapes[svgEdge];\r\n        else {\r\n            console.warn(\"'\" + svgEdge + \"' is not supported arrow shape. the supported arrow shapes is one of \" + constants_1.cArrowShapes + \".\\n           reverting to default shape.\");\r\n            svgEdge = constants_1.arrowShapes['arrow1'];\r\n        }\r\n    }\r\n    svgEdge = svgEdge;\r\n    if ((svgEdge === null || svgEdge === void 0 ? void 0 : svgEdge.offsetForward) === undefined)\r\n        svgEdge.offsetForward = 0.25;\r\n    if ((svgEdge === null || svgEdge === void 0 ? void 0 : svgEdge.svgElem) === undefined)\r\n        svgEdge.svgElem = 'path';\r\n    // if (svgEdge?.svgProps === undefined) svgEdge.svgProps = arrowShapes.arrow1.svgProps;\r\n    return svgEdge;\r\n};\r\nvar parseGridBreak = function (gridBreak) {\r\n    var resGridBreak = utils_1.xStr2absRelative(gridBreak);\r\n    if (!resGridBreak)\r\n        resGridBreak = { relative: 0.5, abs: 0 };\r\n    return resGridBreak;\r\n};\r\n/**\r\n * should be wrapped with any changed prop that is affecting the points path positioning\r\n * @param propVal\r\n * @param updateRef\r\n */\r\nvar withUpdate = function (propVal, updateRef) {\r\n    if (updateRef)\r\n        updateRef.current = true;\r\n    return propVal;\r\n};\r\nvar noParse = function (userProp) { return userProp; };\r\nvar noParseWithUpdatePos = function (userProp, _, updatePos) { return withUpdate(userProp, updatePos); };\r\nvar parseNumWithUpdatePos = function (userProp, _, updatePos) { return withUpdate(Number(userProp), updatePos); };\r\nvar parseNum = function (userProp) { return Number(userProp); };\r\nvar parsePropsFuncs = {\r\n    start: function (userProp) { return utils_1.getElementByPropGiven(userProp); },\r\n    end: function (userProp) { return utils_1.getElementByPropGiven(userProp); },\r\n    startAnchor: function (userProp, _, updatePos) { return withUpdate(parseAnchor(userProp), updatePos); },\r\n    endAnchor: function (userProp, _, updatePos) { return withUpdate(parseAnchor(userProp), updatePos); },\r\n    labels: function (userProp) { return parseLabels(userProp); },\r\n    color: noParse,\r\n    lineColor: function (userProp, propsRefs) { return userProp || propsRefs.color; },\r\n    headColor: function (userProp, propsRefs) { return userProp || propsRefs.color; },\r\n    tailColor: function (userProp, propsRefs) { return userProp || propsRefs.color; },\r\n    strokeWidth: parseNumWithUpdatePos,\r\n    showHead: noParseWithUpdatePos,\r\n    headSize: parseNumWithUpdatePos,\r\n    showTail: noParseWithUpdatePos,\r\n    tailSize: parseNumWithUpdatePos,\r\n    path: noParseWithUpdatePos,\r\n    curveness: parseNumWithUpdatePos,\r\n    gridBreak: function (userProp, _, updatePos) { return withUpdate(parseGridBreak(userProp), updatePos); },\r\n    // // gridRadius = strokeWidth * 2, //todo\r\n    dashness: function (userProp, propsRefs) { return parseDashness(userProp, propsRefs); },\r\n    headShape: function (userProp) { return parseEdgeShape(userProp); },\r\n    tailShape: function (userProp) { return parseEdgeShape(userProp); },\r\n    showXarrow: noParse,\r\n    animateDrawing: noParse,\r\n    zIndex: parseNum,\r\n    passProps: noParse,\r\n    arrowBodyProps: noParseWithUpdatePos,\r\n    arrowHeadProps: noParseWithUpdatePos,\r\n    arrowTailProps: noParseWithUpdatePos,\r\n    SVGcanvasProps: noParseWithUpdatePos,\r\n    divContainerProps: noParseWithUpdatePos,\r\n    divContainerStyle: noParseWithUpdatePos,\r\n    SVGcanvasStyle: noParseWithUpdatePos,\r\n    _extendSVGcanvas: noParseWithUpdatePos,\r\n    _debug: noParseWithUpdatePos,\r\n    _cpx1Offset: noParseWithUpdatePos,\r\n    _cpy1Offset: noParseWithUpdatePos,\r\n    _cpx2Offset: noParseWithUpdatePos,\r\n    _cpy2Offset: noParseWithUpdatePos,\r\n};\r\n//build dependencies\r\nvar propsDeps = {};\r\n//each prop depends on himself\r\nfor (var propName in parsePropsFuncs) {\r\n    propsDeps[propName] = [propName];\r\n}\r\n// 'lineColor', 'headColor', 'tailColor' props also depends on 'color' prop\r\nfor (var _i = 0, _a = ['lineColor', 'headColor', 'tailColor']; _i < _a.length; _i++) {\r\n    var propName = _a[_i];\r\n    propsDeps[propName].push('color');\r\n}\r\nvar parseGivenProps = function (props, propsRef) {\r\n    var _a;\r\n    for (var _i = 0, _b = Object.entries(props); _i < _b.length; _i++) {\r\n        var _c = _b[_i], name_1 = _c[0], val = _c[1];\r\n        propsRef[name_1] = (_a = parsePropsFuncs === null || parsePropsFuncs === void 0 ? void 0 : parsePropsFuncs[name_1]) === null || _a === void 0 ? void 0 : _a.call(parsePropsFuncs, val, propsRef);\r\n    }\r\n    return propsRef;\r\n};\r\nvar defaultProps = {\r\n    start: null,\r\n    end: null,\r\n    startAnchor: 'auto',\r\n    endAnchor: 'auto',\r\n    labels: null,\r\n    color: 'CornflowerBlue',\r\n    lineColor: null,\r\n    headColor: null,\r\n    tailColor: null,\r\n    strokeWidth: 4,\r\n    showHead: true,\r\n    headSize: 6,\r\n    showTail: false,\r\n    tailSize: 6,\r\n    path: 'smooth',\r\n    curveness: 0.8,\r\n    gridBreak: '50%',\r\n    // gridRadius : strokeWidth * 2, //todo\r\n    dashness: false,\r\n    headShape: 'arrow1',\r\n    tailShape: 'arrow1',\r\n    showXarrow: true,\r\n    animateDrawing: false,\r\n    zIndex: 0,\r\n    passProps: {},\r\n    arrowBodyProps: {},\r\n    arrowHeadProps: {},\r\n    arrowTailProps: {},\r\n    SVGcanvasProps: {},\r\n    divContainerProps: {},\r\n    divContainerStyle: {},\r\n    SVGcanvasStyle: {},\r\n    _extendSVGcanvas: 0,\r\n    _debug: false,\r\n    _cpx1Offset: 0,\r\n    _cpy1Offset: 0,\r\n    _cpx2Offset: 0,\r\n    _cpy2Offset: 0,\r\n};\r\nvar initialParsedProps = {};\r\ninitialParsedProps = parseGivenProps(defaultProps, initialParsedProps);\r\nvar initialValVars = {\r\n    startPos: { x: 0, y: 0, right: 0, bottom: 0 },\r\n    endPos: { x: 0, y: 0, right: 0, bottom: 0 },\r\n};\r\n// const parseAllProps = () => parseGivenProps(defaultProps, initialParsedProps);\r\nfunction deepCompareEquals(a, b) {\r\n    return lodash_1.default.isEqual(a, b);\r\n}\r\nfunction useDeepCompareMemoize(value) {\r\n    var ref = react_1.useRef();\r\n    // it can be done by using useMemo as well\r\n    // but useRef is rather cleaner and easier\r\n    if (!deepCompareEquals(value, ref.current)) {\r\n        ref.current = value;\r\n    }\r\n    return ref.current;\r\n}\r\nfunction useDeepCompareEffect(callback, dependencies) {\r\n    react_1.useLayoutEffect(callback, dependencies.map(useDeepCompareMemoize));\r\n}\r\n/**\r\n * smart hook that provides parsed props to Xarrow and will trigger rerender whenever given prop is changed.\r\n */\r\nvar useXarrowProps = function (userProps, refs) {\r\n    var _a = react_1.useState(initialParsedProps), propsRefs = _a[0], setPropsRefs = _a[1];\r\n    var shouldUpdatePosition = react_1.useRef(false);\r\n    // const _propsRefs = useRef(initialParsedProps);\r\n    // const propsRefs = _propsRefs.current;\r\n    propsRefs['shouldUpdatePosition'] = shouldUpdatePosition;\r\n    var curProps = __assign(__assign({}, defaultProps), userProps);\r\n    var _loop_1 = function (propName) {\r\n        react_1.useLayoutEffect(function () {\r\n            var _a;\r\n            propsRefs[propName] = (_a = parsePropsFuncs === null || parsePropsFuncs === void 0 ? void 0 : parsePropsFuncs[propName]) === null || _a === void 0 ? void 0 : _a.call(parsePropsFuncs, curProps[propName], propsRefs, shouldUpdatePosition);\r\n            // console.log('prop update:', propName, 'with value', propsRefs[propName]);\r\n            setPropsRefs(__assign({}, propsRefs));\r\n        }, propsDeps[propName].map(function (name) { return userProps[name]; }));\r\n    };\r\n    // react states the number of hooks per render must stay constant,\r\n    // this is ok we are using these hooks in a loop, because the number of props in defaultProps is constant,\r\n    // so the number of hook we will fire each render will always be the same.\r\n    // update the value of the ref that represents the corresponding prop\r\n    // for example: if given 'start' prop would change call getElementByPropGiven(props.start) and save value into propsRefs.start.current\r\n    // why to save refs to props parsed values? some of the props require relatively expensive computations(like 'start' and 'startAnchor').\r\n    // this will always run in the same order and THAT'S WAY ITS LEGAL\r\n    for (var propName in defaultProps) {\r\n        _loop_1(propName);\r\n    }\r\n    // rerender whenever position of start element or end element changes\r\n    var _b = react_1.useState(initialValVars), valVars = _b[0], setValVars = _b[1];\r\n    var startPos = utils_1.getElemPos(propsRefs.start);\r\n    useDeepCompareEffect(function () {\r\n        valVars.startPos = startPos;\r\n        shouldUpdatePosition.current = true;\r\n        setValVars(__assign({}, valVars));\r\n        // console.log('start update pos', startPos);\r\n    }, [startPos]);\r\n    var endPos = utils_1.getElemPos(propsRefs.end);\r\n    useDeepCompareEffect(function () {\r\n        valVars.endPos = endPos;\r\n        shouldUpdatePosition.current = true;\r\n        setValVars(__assign({}, valVars));\r\n        // console.log('end update pos', endPos);\r\n    }, [endPos]);\r\n    react_1.useLayoutEffect(function () {\r\n        // console.log('svg shape changed!');\r\n        shouldUpdatePosition.current = true;\r\n        setValVars(__assign({}, valVars));\r\n    }, [propsRefs.headShape.svgElem, propsRefs.tailShape.svgElem]);\r\n    return [propsRefs, valVars];\r\n};\r\nexports.default = useXarrowProps;\r\n\n\n/***/ }),\n\n/***/ \"./src/Xarrow/utils/GetPosition.tsx\":\n/*!******************************************!*\\\n  !*** ./src/Xarrow/utils/GetPosition.tsx ***!\n  \\******************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.getPosition = void 0;\r\nvar anchors_1 = __webpack_require__(/*! ../anchors */ \"./src/Xarrow/anchors.ts\");\r\nvar index_1 = __webpack_require__(/*! ./index */ \"./src/Xarrow/utils/index.ts\");\r\nvar lodash_1 = __importDefault(__webpack_require__(/*! lodash */ \"lodash\"));\r\nvar constants_1 = __webpack_require__(/*! ../../constants */ \"./src/constants.tsx\");\r\nvar buzzier_1 = __webpack_require__(/*! ./buzzier */ \"./src/Xarrow/utils/buzzier.js\");\r\n/**\r\n * The Main logic of path calculation for the arrow.\r\n * calculate new path, adjusting canvas, and set state based on given properties.\r\n * */\r\nvar getPosition = function (xProps, mainRef) {\r\n    var _a, _b;\r\n    var _c, _d;\r\n    var propsRefs = xProps[0], valVars = xProps[1];\r\n    var startAnchor = propsRefs.startAnchor, endAnchor = propsRefs.endAnchor, strokeWidth = propsRefs.strokeWidth, showHead = propsRefs.showHead, headSize = propsRefs.headSize, showTail = propsRefs.showTail, tailSize = propsRefs.tailSize, path = propsRefs.path, curveness = propsRefs.curveness, gridBreak = propsRefs.gridBreak, headShape = propsRefs.headShape, tailShape = propsRefs.tailShape, _extendSVGcanvas = propsRefs._extendSVGcanvas, _cpx1Offset = propsRefs._cpx1Offset, _cpy1Offset = propsRefs._cpy1Offset, _cpx2Offset = propsRefs._cpx2Offset, _cpy2Offset = propsRefs._cpy2Offset;\r\n    var startPos = valVars.startPos, endPos = valVars.endPos;\r\n    var _e = mainRef.current, svgRef = _e.svgRef, lineRef = _e.lineRef;\r\n    var headOrient = 0;\r\n    var tailOrient = 0;\r\n    // convert startAnchor and endAnchor to list of objects represents allowed anchors.\r\n    var startPoints = anchors_1.calcAnchors(startAnchor, startPos);\r\n    var endPoints = anchors_1.calcAnchors(endAnchor, endPos);\r\n    // choose the smallest path for 2 points from these possibilities.\r\n    var _f = index_1.getShortestLine(startPoints, endPoints), chosenStart = _f.chosenStart, chosenEnd = _f.chosenEnd;\r\n    var startAnchorPosition = chosenStart.anchor.position, endAnchorPosition = chosenEnd.anchor.position;\r\n    var startPoint = lodash_1.default.pick(chosenStart, ['x', 'y']), endPoint = lodash_1.default.pick(chosenEnd, ['x', 'y']);\r\n    var mainDivPos = index_1.getSvgPos(svgRef);\r\n    var cx0 = Math.min(startPoint.x, endPoint.x) - mainDivPos.x;\r\n    var cy0 = Math.min(startPoint.y, endPoint.y) - mainDivPos.y;\r\n    var dx = endPoint.x - startPoint.x;\r\n    var dy = endPoint.y - startPoint.y;\r\n    var absDx = Math.abs(endPoint.x - startPoint.x);\r\n    var absDy = Math.abs(endPoint.y - startPoint.y);\r\n    var xSign = dx > 0 ? 1 : -1;\r\n    var ySign = dy > 0 ? 1 : -1;\r\n    var _g = [headShape.offsetForward, tailShape.offsetForward], headOffset = _g[0], tailOffset = _g[1];\r\n    var fHeadSize = headSize * strokeWidth; //factored head size\r\n    var fTailSize = tailSize * strokeWidth; //factored head size\r\n    // const { current: _headBox } = headBox;\r\n    var xHeadOffset = 0;\r\n    var yHeadOffset = 0;\r\n    var xTailOffset = 0;\r\n    var yTailOffset = 0;\r\n    var _headOffset = fHeadSize * headOffset;\r\n    var _tailOffset = fTailSize * tailOffset;\r\n    var cu = Number(curveness);\r\n    // gridRadius = Number(gridRadius);\r\n    if (!constants_1.cPaths.includes(path))\r\n        path = 'smooth';\r\n    if (path === 'straight') {\r\n        cu = 0;\r\n        path = 'smooth';\r\n    }\r\n    var biggerSide = headSize > tailSize ? headSize : tailSize;\r\n    var _calc = strokeWidth + (strokeWidth * biggerSide) / 2;\r\n    var excRight = _calc;\r\n    var excLeft = _calc;\r\n    var excUp = _calc;\r\n    var excDown = _calc;\r\n    excLeft += Number(_extendSVGcanvas);\r\n    excRight += Number(_extendSVGcanvas);\r\n    excUp += Number(_extendSVGcanvas);\r\n    excDown += Number(_extendSVGcanvas);\r\n    ////////////////////////////////////\r\n    // arrow point to point calculations\r\n    var x1 = 0, x2 = absDx, y1 = 0, y2 = absDy;\r\n    if (dx < 0)\r\n        _a = [x2, x1], x1 = _a[0], x2 = _a[1];\r\n    if (dy < 0)\r\n        _b = [y2, y1], y1 = _b[0], y2 = _b[1];\r\n    ////////////////////////////////////\r\n    // arrow curviness and arrowhead placement calculations\r\n    if (cu === 0) {\r\n        // in case of straight path\r\n        var headAngel = Math.atan(absDy / absDx);\r\n        if (showHead) {\r\n            x2 -= fHeadSize * (1 - headOffset) * xSign * Math.cos(headAngel);\r\n            y2 -= fHeadSize * (1 - headOffset) * ySign * Math.sin(headAngel);\r\n            headAngel *= ySign;\r\n            if (xSign < 0)\r\n                headAngel = (Math.PI - headAngel * xSign) * xSign;\r\n            xHeadOffset = Math.cos(headAngel) * _headOffset - (Math.sin(headAngel) * fHeadSize) / 2;\r\n            yHeadOffset = (Math.cos(headAngel) * fHeadSize) / 2 + Math.sin(headAngel) * _headOffset;\r\n            headOrient = (headAngel * 180) / Math.PI;\r\n        }\r\n        var tailAngel = Math.atan(absDy / absDx);\r\n        if (showTail) {\r\n            x1 += fTailSize * (1 - tailOffset) * xSign * Math.cos(tailAngel);\r\n            y1 += fTailSize * (1 - tailOffset) * ySign * Math.sin(tailAngel);\r\n            tailAngel *= -ySign;\r\n            if (xSign > 0)\r\n                tailAngel = (Math.PI - tailAngel * xSign) * xSign;\r\n            xTailOffset = Math.cos(tailAngel) * _tailOffset - (Math.sin(tailAngel) * fTailSize) / 2;\r\n            yTailOffset = (Math.cos(tailAngel) * fTailSize) / 2 + Math.sin(tailAngel) * _tailOffset;\r\n            tailOrient = (tailAngel * 180) / Math.PI;\r\n        }\r\n    }\r\n    else {\r\n        // in case of smooth path\r\n        if (endAnchorPosition === 'middle') {\r\n            // in case a middle anchor is chosen for endAnchor choose from which side to attach to the middle of the element\r\n            if (absDx > absDy) {\r\n                endAnchorPosition = xSign ? 'left' : 'right';\r\n            }\r\n            else {\r\n                endAnchorPosition = ySign ? 'top' : 'bottom';\r\n            }\r\n        }\r\n        if (showHead) {\r\n            if (['left', 'right'].includes(endAnchorPosition)) {\r\n                xHeadOffset += _headOffset * xSign;\r\n                x2 -= fHeadSize * (1 - headOffset) * xSign; //same!\r\n                yHeadOffset += (fHeadSize * xSign) / 2;\r\n                if (endAnchorPosition === 'left') {\r\n                    headOrient = 0;\r\n                    if (xSign < 0)\r\n                        headOrient += 180;\r\n                }\r\n                else {\r\n                    headOrient = 180;\r\n                    if (xSign > 0)\r\n                        headOrient += 180;\r\n                }\r\n            }\r\n            else if (['top', 'bottom'].includes(endAnchorPosition)) {\r\n                xHeadOffset += (fHeadSize * -ySign) / 2;\r\n                yHeadOffset += _headOffset * ySign;\r\n                y2 -= fHeadSize * ySign - yHeadOffset;\r\n                if (endAnchorPosition === 'top') {\r\n                    headOrient = 270;\r\n                    if (ySign > 0)\r\n                        headOrient += 180;\r\n                }\r\n                else {\r\n                    headOrient = 90;\r\n                    if (ySign < 0)\r\n                        headOrient += 180;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (showTail && cu !== 0) {\r\n        if (['left', 'right'].includes(startAnchorPosition)) {\r\n            xTailOffset += _tailOffset * -xSign;\r\n            x1 += fTailSize * xSign + xTailOffset;\r\n            yTailOffset += -(fTailSize * xSign) / 2;\r\n            if (startAnchorPosition === 'left') {\r\n                tailOrient = 180;\r\n                if (xSign < 0)\r\n                    tailOrient += 180;\r\n            }\r\n            else {\r\n                tailOrient = 0;\r\n                if (xSign > 0)\r\n                    tailOrient += 180;\r\n            }\r\n        }\r\n        else if (['top', 'bottom'].includes(startAnchorPosition)) {\r\n            yTailOffset += _tailOffset * -ySign;\r\n            y1 += fTailSize * ySign + yTailOffset;\r\n            xTailOffset += (fTailSize * ySign) / 2;\r\n            if (startAnchorPosition === 'top') {\r\n                tailOrient = 90;\r\n                if (ySign > 0)\r\n                    tailOrient += 180;\r\n            }\r\n            else {\r\n                tailOrient = 270;\r\n                if (ySign < 0)\r\n                    tailOrient += 180;\r\n            }\r\n        }\r\n    }\r\n    var arrowHeadOffset = { x: xHeadOffset, y: yHeadOffset };\r\n    var arrowTailOffset = { x: xTailOffset, y: yTailOffset };\r\n    var cpx1 = x1, cpy1 = y1, cpx2 = x2, cpy2 = y2;\r\n    var curvesPossibilities = {};\r\n    if (path === 'smooth')\r\n        curvesPossibilities = {\r\n            hh: function () {\r\n                //horizontal - from right to left or the opposite\r\n                cpx1 += absDx * cu * xSign;\r\n                cpx2 -= absDx * cu * xSign;\r\n            },\r\n            vv: function () {\r\n                //vertical - from top to bottom or opposite\r\n                cpy1 += absDy * cu * ySign;\r\n                cpy2 -= absDy * cu * ySign;\r\n            },\r\n            hv: function () {\r\n                // start horizontally then vertically\r\n                // from v side to h side\r\n                cpx1 += absDx * cu * xSign;\r\n                cpy2 -= absDy * cu * ySign;\r\n            },\r\n            vh: function () {\r\n                // start vertically then horizontally\r\n                // from h side to v side\r\n                cpy1 += absDy * cu * ySign;\r\n                cpx2 -= absDx * cu * xSign;\r\n            },\r\n        };\r\n    else if (path === 'grid') {\r\n        curvesPossibilities = {\r\n            hh: function () {\r\n                cpx1 += (absDx * gridBreak.relative + gridBreak.abs) * xSign;\r\n                cpx2 -= (absDx * (1 - gridBreak.relative) - gridBreak.abs) * xSign;\r\n                if (showHead) {\r\n                    cpx1 -= ((fHeadSize * (1 - headOffset)) / 2) * xSign;\r\n                    cpx2 += ((fHeadSize * (1 - headOffset)) / 2) * xSign;\r\n                }\r\n                if (showTail) {\r\n                    cpx1 -= ((fTailSize * (1 - tailOffset)) / 2) * xSign;\r\n                    cpx2 += ((fTailSize * (1 - tailOffset)) / 2) * xSign;\r\n                }\r\n            },\r\n            vv: function () {\r\n                cpy1 += (absDy * gridBreak.relative + gridBreak.abs) * ySign;\r\n                cpy2 -= (absDy * (1 - gridBreak.relative) - gridBreak.abs) * ySign;\r\n                if (showHead) {\r\n                    cpy1 -= ((fHeadSize * (1 - headOffset)) / 2) * ySign;\r\n                    cpy2 += ((fHeadSize * (1 - headOffset)) / 2) * ySign;\r\n                }\r\n                if (showTail) {\r\n                    cpy1 -= ((fTailSize * (1 - tailOffset)) / 2) * ySign;\r\n                    cpy2 += ((fTailSize * (1 - tailOffset)) / 2) * ySign;\r\n                }\r\n            },\r\n            hv: function () {\r\n                cpx1 = x2;\r\n            },\r\n            vh: function () {\r\n                cpy1 = y2;\r\n            },\r\n        };\r\n    }\r\n    // smart select best curve for the current anchors\r\n    var selectedCurviness = '';\r\n    if (['left', 'right'].includes(startAnchorPosition))\r\n        selectedCurviness += 'h';\r\n    else if (['bottom', 'top'].includes(startAnchorPosition))\r\n        selectedCurviness += 'v';\r\n    else if (startAnchorPosition === 'middle')\r\n        selectedCurviness += 'm';\r\n    if (['left', 'right'].includes(endAnchorPosition))\r\n        selectedCurviness += 'h';\r\n    else if (['bottom', 'top'].includes(endAnchorPosition))\r\n        selectedCurviness += 'v';\r\n    else if (endAnchorPosition === 'middle')\r\n        selectedCurviness += 'm';\r\n    if (absDx > absDy)\r\n        selectedCurviness = selectedCurviness.replace(/m/g, 'h');\r\n    else\r\n        selectedCurviness = selectedCurviness.replace(/m/g, 'v');\r\n    curvesPossibilities[selectedCurviness]();\r\n    cpx1 += _cpx1Offset;\r\n    cpy1 += _cpy1Offset;\r\n    cpx2 += _cpx2Offset;\r\n    cpy2 += _cpy2Offset;\r\n    ////////////////////////////////////\r\n    // canvas smart size adjustments\r\n    var _h = buzzier_1.buzzierMinSols(x1, cpx1, cpx2, x2), xSol1 = _h[0], xSol2 = _h[1];\r\n    var _j = buzzier_1.buzzierMinSols(y1, cpy1, cpy2, y2), ySol1 = _j[0], ySol2 = _j[1];\r\n    if (xSol1 < 0)\r\n        excLeft += -xSol1;\r\n    if (xSol2 > absDx)\r\n        excRight += xSol2 - absDx;\r\n    if (ySol1 < 0)\r\n        excUp += -ySol1;\r\n    if (ySol2 > absDy)\r\n        excDown += ySol2 - absDy;\r\n    if (path === 'grid') {\r\n        excLeft += _calc;\r\n        excRight += _calc;\r\n        excUp += _calc;\r\n        excDown += _calc;\r\n    }\r\n    x1 += excLeft;\r\n    x2 += excLeft;\r\n    y1 += excUp;\r\n    y2 += excUp;\r\n    cpx1 += excLeft;\r\n    cpx2 += excLeft;\r\n    cpy1 += excUp;\r\n    cpy2 += excUp;\r\n    var cw = absDx + excLeft + excRight, ch = absDy + excUp + excDown;\r\n    cx0 -= excLeft;\r\n    cy0 -= excUp;\r\n    //labels\r\n    var bzx = buzzier_1.bzFunction(x1, cpx1, cpx2, x2);\r\n    var bzy = buzzier_1.bzFunction(y1, cpy1, cpy2, y2);\r\n    var labelStartPos = { x: bzx(0.01), y: bzy(0.01) };\r\n    var labelMiddlePos = { x: bzx(0.5), y: bzy(0.5) };\r\n    var labelEndPos = { x: bzx(0.99), y: bzy(0.99) };\r\n    var arrowPath;\r\n    if (path === 'grid') {\r\n        // todo: support gridRadius\r\n        //  arrowPath = `M ${x1} ${y1} L  ${cpx1 - 10} ${cpy1} a10,10 0 0 1 10,10\r\n        // L ${cpx2} ${cpy2 - 10} a10,10 0 0 0 10,10 L  ${x2} ${y2}`;\r\n        arrowPath = \"M \" + x1 + \" \" + y1 + \" L  \" + cpx1 + \" \" + cpy1 + \" L \" + cpx2 + \" \" + cpy2 + \" \" + x2 + \" \" + y2;\r\n    }\r\n    else if (path === 'smooth')\r\n        arrowPath = \"M \" + x1 + \" \" + y1 + \" C \" + cpx1 + \" \" + cpy1 + \", \" + cpx2 + \" \" + cpy2 + \", \" + x2 + \" \" + y2;\r\n    return {\r\n        cx0: cx0,\r\n        cy0: cy0,\r\n        x1: x1,\r\n        x2: x2,\r\n        y1: y1,\r\n        y2: y2,\r\n        cw: cw,\r\n        ch: ch,\r\n        cpx1: cpx1,\r\n        cpy1: cpy1,\r\n        cpx2: cpx2,\r\n        cpy2: cpy2,\r\n        dx: dx,\r\n        dy: dy,\r\n        absDx: absDx,\r\n        absDy: absDy,\r\n        headOrient: headOrient,\r\n        tailOrient: tailOrient,\r\n        labelStartPos: labelStartPos,\r\n        labelMiddlePos: labelMiddlePos,\r\n        labelEndPos: labelEndPos,\r\n        excLeft: excLeft,\r\n        excRight: excRight,\r\n        excUp: excUp,\r\n        excDown: excDown,\r\n        headOffset: _headOffset,\r\n        arrowHeadOffset: arrowHeadOffset,\r\n        arrowTailOffset: arrowTailOffset,\r\n        startPoints: startPoints,\r\n        endPoints: endPoints,\r\n        mainDivPos: mainDivPos,\r\n        xSign: xSign,\r\n        ySign: ySign,\r\n        lineLength: (_d = (_c = lineRef.current) === null || _c === void 0 ? void 0 : _c.getTotalLength()) !== null && _d !== void 0 ? _d : 0,\r\n        fHeadSize: fHeadSize,\r\n        fTailSize: fTailSize,\r\n        arrowPath: arrowPath,\r\n    };\r\n};\r\nexports.getPosition = getPosition;\r\n\n\n/***/ }),\n\n/***/ \"./src/Xarrow/utils/index.ts\":\n/*!***********************************!*\\\n  !*** ./src/Xarrow/utils/index.ts ***!\n  \\***********************************/\n/***/ (function(__unused_webpack_module, exports) {\n\n\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.getSvgPos = exports.getElemPos = exports.getShortestLine = exports.xStr2absRelative = exports.factorDpathStr = exports.getElementByPropGiven = void 0;\r\nvar getElementByPropGiven = function (ref) {\r\n    var myRef;\r\n    if (typeof ref === 'string') {\r\n        // myRef = document.getElementById(ref);\r\n        myRef = document.getElementById(ref);\r\n    }\r\n    else\r\n        myRef = ref === null || ref === void 0 ? void 0 : ref.current;\r\n    return myRef;\r\n};\r\nexports.getElementByPropGiven = getElementByPropGiven;\r\n// receives string representing a d path and factoring only the numbers\r\nvar factorDpathStr = function (d, factor) {\r\n    var l = d.split(/(\\d+(?:\\.\\d+)?)/);\r\n    l = l.map(function (s) {\r\n        if (Number(s))\r\n            return (Number(s) * factor).toString();\r\n        else\r\n            return s;\r\n    });\r\n    return l.join('');\r\n};\r\nexports.factorDpathStr = factorDpathStr;\r\n// return relative,abs\r\nvar xStr2absRelative = function (str) {\r\n    if (typeof str !== 'string')\r\n        return { abs: 0, relative: 0.5 };\r\n    var sp = str.split('%');\r\n    var absLen = 0, percentLen = 0;\r\n    if (sp.length == 1) {\r\n        var p = parseFloat(sp[0]);\r\n        if (!isNaN(p)) {\r\n            absLen = p;\r\n            return { abs: absLen, relative: 0 };\r\n        }\r\n    }\r\n    else if (sp.length == 2) {\r\n        var _a = [parseFloat(sp[0]), parseFloat(sp[1])], p1 = _a[0], p2 = _a[1];\r\n        if (!isNaN(p1))\r\n            percentLen = p1 / 100;\r\n        if (!isNaN(p2))\r\n            absLen = p2;\r\n        if (!isNaN(p1) || !isNaN(p2))\r\n            return { abs: absLen, relative: percentLen };\r\n    }\r\n};\r\nexports.xStr2absRelative = xStr2absRelative;\r\nvar dist = function (p1, p2) {\r\n    //length of line\r\n    return Math.sqrt(Math.pow((p1.x - p2.x), 2) + Math.pow((p1.y - p2.y), 2));\r\n};\r\nvar getShortestLine = function (sPoints, ePoints) {\r\n    // closes tPair Of Points which feet to the specified anchors\r\n    var minDist = Infinity, d = Infinity;\r\n    var closestPair;\r\n    sPoints.forEach(function (sp) {\r\n        ePoints.forEach(function (ep) {\r\n            d = dist(sp, ep);\r\n            if (d < minDist) {\r\n                minDist = d;\r\n                closestPair = { chosenStart: sp, chosenEnd: ep };\r\n            }\r\n        });\r\n    });\r\n    return closestPair;\r\n};\r\nexports.getShortestLine = getShortestLine;\r\nvar getElemPos = function (elem) {\r\n    if (!elem)\r\n        return { x: 0, y: 0, right: 0, bottom: 0 };\r\n    var pos = elem.getBoundingClientRect();\r\n    return {\r\n        x: pos.left,\r\n        y: pos.top,\r\n        right: pos.right,\r\n        bottom: pos.bottom,\r\n    };\r\n};\r\nexports.getElemPos = getElemPos;\r\nvar getSvgPos = function (svgRef) {\r\n    if (!svgRef.current)\r\n        return { x: 0, y: 0 };\r\n    var _a = svgRef.current.getBoundingClientRect(), xarrowElemX = _a.left, xarrowElemY = _a.top;\r\n    var xarrowStyle = getComputedStyle(svgRef.current);\r\n    var xarrowStyleLeft = Number(xarrowStyle.left.slice(0, -2));\r\n    var xarrowStyleTop = Number(xarrowStyle.top.slice(0, -2));\r\n    return {\r\n        x: xarrowElemX - xarrowStyleLeft,\r\n        y: xarrowElemY - xarrowStyleTop,\r\n    };\r\n};\r\nexports.getSvgPos = getSvgPos;\r\n\n\n/***/ }),\n\n/***/ \"./src/Xwrapper.tsx\":\n/*!**************************!*\\\n  !*** ./src/Xwrapper.tsx ***!\n  \\**************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.XarrowContext = exports.XelemContext = void 0;\r\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\r\nexports.XelemContext = react_1.default.createContext(null);\r\nexports.XarrowContext = react_1.default.createContext(null);\r\nvar updateRef = {};\r\nvar updateRefCount = 0;\r\nvar log = console.log;\r\nvar XarrowProvider = function (_a) {\r\n    var children = _a.children, instanceCount = _a.instanceCount;\r\n    var _b = react_1.useState({}), setRender = _b[1];\r\n    var updateXarrow = function () { return setRender({}); };\r\n    react_1.useEffect(function () {\r\n        instanceCount.current = updateRefCount; // so this instance would know what is id\r\n        updateRef[instanceCount.current] = updateXarrow;\r\n    }, []);\r\n    // log('XarrowProvider', updateRefCount);\r\n    return react_1.default.createElement(exports.XarrowContext.Provider, { value: updateXarrow }, children);\r\n};\r\nvar XelemProvider = function (_a) {\r\n    var children = _a.children, instanceCount = _a.instanceCount;\r\n    return react_1.default.createElement(exports.XelemContext.Provider, { value: updateRef[instanceCount.current] }, children);\r\n};\r\nvar Xwrapper = function (_a) {\r\n    var children = _a.children;\r\n    var instanceCount = react_1.useRef(updateRefCount);\r\n    var _b = react_1.useState({}), setRender = _b[1];\r\n    react_1.useEffect(function () {\r\n        updateRefCount++;\r\n        setRender({});\r\n        return function () {\r\n            delete updateRef[instanceCount.current];\r\n        };\r\n    }, []);\r\n    return (react_1.default.createElement(XelemProvider, { instanceCount: instanceCount },\r\n        react_1.default.createElement(XarrowProvider, { instanceCount: instanceCount }, children)));\r\n};\r\nexports.default = Xwrapper;\r\n\n\n/***/ }),\n\n/***/ \"./src/constants.tsx\":\n/*!***************************!*\\\n  !*** ./src/constants.tsx ***!\n  \\***************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.cArrowShapes = exports.arrowShapes = exports.cSvgElems = exports.cPaths = exports.cAnchorEdge = void 0;\r\n// constants used for typescript and proptypes definitions\r\nvar react_1 = __importDefault(__webpack_require__(/*! react */ \"react\"));\r\nexports.cAnchorEdge = ['middle', 'left', 'right', 'top', 'bottom', 'auto'];\r\nexports.cPaths = ['smooth', 'grid', 'straight'];\r\nexports.cSvgElems = ['circle', 'ellipse', 'line', 'path', 'polygon', 'polyline', 'rect'];\r\n//default arrows svgs\r\nexports.arrowShapes = {\r\n    arrow1: { svgElem: react_1.default.createElement(\"path\", { d: \"M 0 0 L 1 0.5 L 0 1 L 0.25 0.5 z\" }), offsetForward: 0.25 },\r\n    heart: {\r\n        svgElem: (react_1.default.createElement(\"path\", { d: \"M 0,0.25 A 0.125,0.125 0,0,1 0.5,0.25 A 0.125,0.125 0,0,1 1,0.25 Q 1,0.625 0.5,1 Q 0,0.625 0,0.25 z\" })),\r\n        offsetForward: 0.1,\r\n    },\r\n    circle: {\r\n        svgElem: react_1.default.createElement(\"circle\", { r: 0.5, cx: 0.5, cy: 0.5 }),\r\n        offsetForward: 0,\r\n    },\r\n};\r\nexports.cArrowShapes = Object.keys(exports.arrowShapes);\r\n\n\n/***/ }),\n\n/***/ \"./src/index.tsx\":\n/*!***********************!*\\\n  !*** ./src/index.tsx ***!\n  \\***********************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.useXarrow = exports.Xwrapper = exports.default = void 0;\r\nvar Xarrow_1 = __webpack_require__(/*! ./Xarrow/Xarrow */ \"./src/Xarrow/Xarrow.tsx\");\r\nObject.defineProperty(exports, \"default\", ({ enumerable: true, get: function () { return __importDefault(Xarrow_1).default; } }));\r\n__exportStar(__webpack_require__(/*! ./types */ \"./src/types.ts\"), exports);\r\n__exportStar(__webpack_require__(/*! ./constants */ \"./src/constants.tsx\"), exports);\r\nvar Xwrapper_1 = __webpack_require__(/*! ./Xwrapper */ \"./src/Xwrapper.tsx\");\r\nObject.defineProperty(exports, \"Xwrapper\", ({ enumerable: true, get: function () { return __importDefault(Xwrapper_1).default; } }));\r\nvar useXarrow_1 = __webpack_require__(/*! ./useXarrow */ \"./src/useXarrow.tsx\");\r\nObject.defineProperty(exports, \"useXarrow\", ({ enumerable: true, get: function () { return __importDefault(useXarrow_1).default; } }));\r\n\n\n/***/ }),\n\n/***/ \"./src/types.ts\":\n/*!**********************!*\\\n  !*** ./src/types.ts ***!\n  \\**********************/\n/***/ (function(__unused_webpack_module, exports) {\n\n\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\n\n\n/***/ }),\n\n/***/ \"./src/useXarrow.tsx\":\n/*!***************************!*\\\n  !*** ./src/useXarrow.tsx ***!\n  \\***************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar react_1 = __webpack_require__(/*! react */ \"react\");\r\nvar Xwrapper_1 = __webpack_require__(/*! ./Xwrapper */ \"./src/Xwrapper.tsx\");\r\nvar useXarrow = function () {\r\n    var _a = react_1.useState({}), setRender = _a[1];\r\n    var reRender = function () { return setRender({}); };\r\n    var updateXarrow = react_1.useContext(Xwrapper_1.XelemContext);\r\n    if (!updateXarrow)\r\n        updateXarrow = function () { };\r\n    // throw new Error(\r\n    //   \"'Xwrapper' is required around element using 'useXarrow' hook! wrap your xarrows and connected elements with Xwrapper! \"\r\n    // );\r\n    react_1.useLayoutEffect(function () {\r\n        updateXarrow();\r\n    });\r\n    return reRender;\r\n};\r\nexports.default = useXarrow;\r\n\n\n/***/ }),\n\n/***/ \"lodash\":\n/*!*************************!*\\\n  !*** external \"lodash\" ***!\n  \\*************************/\n/***/ (function(module) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_lodash__;\n\n/***/ }),\n\n/***/ \"prop-types\":\n/*!*****************************!*\\\n  !*** external \"prop-types\" ***!\n  \\*****************************/\n/***/ (function(module) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_prop_types__;\n\n/***/ }),\n\n/***/ \"react\":\n/*!************************!*\\\n  !*** external \"react\" ***!\n  \\************************/\n/***/ (function(module) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_react__;\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = __webpack_module_cache__;\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t!function() {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = function(exports, definition) {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t!function() {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = function(exports) {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/node module decorator */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.nmd = function(module) {\n/******/ \t\t\tmodule.paths = [];\n/******/ \t\t\tif (!module.children) module.children = [];\n/******/ \t\t\treturn module;\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// module cache are used so entry inlining is disabled\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \tvar __webpack_exports__ = __webpack_require__(__webpack_require__.s = \"./src/index.tsx\");\n/******/ \t\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}