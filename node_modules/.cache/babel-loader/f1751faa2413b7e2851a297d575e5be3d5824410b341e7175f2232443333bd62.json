{"ast":null,"code":"\n// //////////////////////////////////////////////////////////////////\n// //for updated the ticket\n\n// import React, { useEffect, useState } from 'react';\n// import { useParams } from 'react-router-dom';\n\n// const mockIssues = [\n//   { id: 'i1', epic: 'p1', epicName: 'Frontend', status: 'todo', type: 'Task', title: 'Setup repo', assignee: 'John Doe', storyPoints: 3, labels: [], dueDate: '2025-09-30', reporter: 'admin', priority: 'High', startDate: '2025-09-15', description: '', subtasks: '', comments: '' },\n//   { id: 'i3', epic: 'p2', epicName: 'Middleware', status: 'todo', type: 'Subtask', title: 'API integration', assignee: 'Jane Smith', storyPoints: 2, labels: [], dueDate: '', reporter: 'lead-dev', priority: 'Low', startDate: '2025-09-18', description: '', subtasks: '', comments: '' }\n// ];\n\n// const defaultStatuses = ['backlog', 'todo', 'analysis', 'inprogress', 'blocked', 'code review', 'qa', 'milestone', 'done'];\n// const mockEpics = [{ id: 'p1', name: 'Frontend' }, { id: 'p2', name: 'Middleware' }];\n\n// const simulateApiDelay = () => new Promise(resolve => setTimeout(resolve, 200));\n// const listIssues = async (projectId) => {\n//   await simulateApiDelay();\n//   return mockIssues.filter(i => !projectId || i.epic === projectId || i.projectId === projectId);\n// };\n// const listEpics = async () => { await simulateApiDelay(); return mockEpics; };\n// const createEpicAPI = async (epicName) => {\n//   await simulateApiDelay();\n//   const newEpic = { id: 'p' + (mockEpics.length + 1), name: epicName };\n//   mockEpics.push(newEpic);\n//   return newEpic;\n// };\n// const deleteEpicAPI = async (epicId) => {\n//   await simulateApiDelay();\n//   const epicIndex = mockEpics.findIndex(epic => epic.id === epicId);\n//   if (epicIndex > -1) mockEpics.splice(epicIndex, 1);\n//   const issueIndices = [];\n//   mockIssues.forEach((issue, index) => { if (issue.epic === epicId) issueIndices.push(index); });\n//   issueIndices.sort((a, b) => b - a).forEach(index => { mockIssues.splice(index, 1); });\n// };\n// const moveIssue = async (issueId, status) => {\n//   await simulateApiDelay();\n//   const issue = mockIssues.find(i => i.id === issueId);\n//   if (!issue) throw new Error('Issue not found');\n//   issue.status = status;\n// };\n// const createIssueAPI = async (issue) => { await simulateApiDelay(); mockIssues.push(issue); };\n// const deleteIssueAPI = async (issueId) => { await simulateApiDelay(); const idx = mockIssues.findIndex(i => i.id === issueId); if (idx > -1) mockIssues.splice(idx, 1); };\n// const updateIssueAPI = async (updatedIssue) => { await simulateApiDelay(); const idx = mockIssues.findIndex(i => i.id === updatedIssue.id); if (idx > -1) mockIssues[idx] = { ...mockIssues[idx], ...updatedIssue }; };\n\n// const getSwimlanes = (issues, epics) =>\n//   epics.map(epic => {\n//     const epicIssues = issues.filter(i => (i.epic || i.projectId) === epic.id);\n//     return { id: epic.id, title: epic.name, issues: epicIssues };\n//   });\n\n// export default function KanbanBoard() {\n//   const { projectId } = useParams();\n//   const [issues, setIssues] = useState([]);\n//   const [epics, setEpics] = useState([]);\n//   const [openSwimlanes, setOpenSwimlanes] = useState({});\n//   const [customTitles, setCustomTitles] = useState({});\n//   const [createLaneId, setCreateLaneId] = useState(null);\n//   const [newTaskText, setNewTaskText] = useState('');\n//   const [newTaskType, setNewTaskType] = useState('Task');\n//   const [selectedIssue, setSelectedIssue] = useState(null);\n//   const [editIssue, setEditIssue] = useState(null);\n//   const [showCreateEpic, setShowCreateEpic] = useState(false);\n//   const [showDeleteEpic, setShowDeleteEpic] = useState(false);\n//   const [newEpicName, setNewEpicName] = useState('');\n//   const [epicToDelete, setEpicToDelete] = useState('');\n//   const [columnsByLane, setColumnsByLane] = useState({});\n//   const [columnModal, setColumnModal] = useState(null);\n//   const [columnInput, setColumnInput] = useState('');\n//   const [hoveredAssigneeId, setHoveredAssigneeId] = useState(null);\n//   const [modalPosition, setModalPosition] = useState({ top: 0, left: 0 });\n\n//   useEffect(() => {\n//     const fetchData = async () => {\n//       try {\n//         const [issuesData, epicsData] = await Promise.all([listIssues(projectId), listEpics()]);\n//         setIssues(issuesData);\n//         setEpics(epicsData);\n//         const lanes = getSwimlanes(issuesData, epicsData);\n//         const initialOpen = {}, initialTitles = {}, initialCols = {};\n//         lanes.forEach(lane => {\n//           initialOpen[lane.id] = true;\n//           initialTitles[lane.id] = lane.title;\n//           initialCols[lane.id] = defaultStatuses.slice();\n//         });\n//         setOpenSwimlanes(initialOpen);\n//         setCustomTitles(initialTitles);\n//         setColumnsByLane(initialCols);\n//       } catch (err) { console.error(err); }\n//     };\n//     fetchData();\n//   }, [projectId]);\n\n//   const openAddColumnModal = (e, laneId, colIndex) => {\n//     const rect = e.currentTarget.getBoundingClientRect();\n//     setModalPosition({ top: rect.bottom + window.scrollY + 8, left: rect.left + window.scrollX });\n//     setColumnModal({ laneId, colIndex, type: 'add' });\n//     setColumnInput('');\n//   };\n//   const openEditColumnModal = (e, laneId, colIndex, status) => {\n//     const rect = e.currentTarget.getBoundingClientRect();\n//     setModalPosition({ top: rect.bottom + window.scrollY + 8, left: rect.left + window.scrollX });\n//     setColumnModal({ laneId, colIndex, type: 'menu' });\n//     setColumnInput(status);\n//   };\n//   const handleAddColumn = () => {\n//     const name = columnInput.trim();\n//     if (!name) return alert('Column name is required');\n//     setColumnsByLane(prev => {\n//       const cols = [...prev[columnModal.laneId]];\n//       if (cols.includes(name.toLowerCase())) alert('Column name already exists');\n//       else cols.splice(columnModal.colIndex + 1, 0, name.toLowerCase());\n//       return { ...prev, [columnModal.laneId]: cols };\n//     });\n//     setColumnModal(null);\n//     setColumnInput('');\n//   };\n//   const handleEditColumn = () => {\n//     const name = columnInput.trim();\n//     if (!name) return alert('Column name is required');\n//     const { laneId, colIndex } = columnModal;\n//     const oldCol = columnsByLane[laneId][colIndex];\n//     if (columnsByLane[laneId].includes(name.toLowerCase()) && name.toLowerCase() !== oldCol) {\n//       alert('Column name already exists');\n//       return;\n//     }\n//     setColumnsByLane(prev => {\n//       const cols = [...prev[laneId]];\n//       cols[colIndex] = name.toLowerCase();\n//       return { ...prev, [laneId]: cols };\n//     });\n//     const updatedIssues = issues.map(issue =>\n//       (issue.epic || issue.projectId) === laneId && issue.status === oldCol ? { ...issue, status: name.toLowerCase() } : issue\n//     );\n//     setIssues(updatedIssues);\n//     setColumnModal(null);\n//     setColumnInput('');\n//   };\n//   const handleDeleteColumn = () => {\n//     const { laneId, colIndex } = columnModal;\n//     const removedCol = columnsByLane[laneId][colIndex];\n//     setColumnsByLane(prev => {\n//       const cols = [...prev[laneId]];\n//       cols.splice(colIndex, 1);\n//       return { ...prev, [laneId]: cols };\n//     });\n//     const updatedIssues = issues.map(issue =>\n//       (issue.epic || issue.projectId) === laneId && issue.status === removedCol ? { ...issue, status: 'backlog' } : issue\n//     );\n//     setIssues(updatedIssues);\n//     setColumnModal(null);\n//     setColumnInput('');\n//   };\n//   const toggleSwimlane = (id) => setOpenSwimlanes(prev => ({ ...prev, [id]: !prev[id] }));\n//   const byStatus = (collection, status) => collection.filter(i => i.status === status);\n\n//   const onDragStart = (e, issueId) => e.dataTransfer.setData('text/plain', issueId);\n//   const onDrop = async (e, targetStatus, swimlaneId) => {\n//     e.preventDefault();\n//     try {\n//       const issueId = e.dataTransfer.getData('text/plain');\n//       const issue = issues.find(i => i.id === issueId);\n//       const srcLaneId = issue.epic || issue.projectId;\n//       if (srcLaneId === swimlaneId && issue.status !== targetStatus) {\n//         await moveIssue(issueId, targetStatus);\n//         const refreshed = await listIssues(projectId);\n//         setIssues(refreshed);\n//       }\n//     } catch (err) { console.error(err); }\n//   };\n//   const onDragOver = e => e.preventDefault();\n\n//   const handleCreateClick = laneId => { setCreateLaneId(laneId); setNewTaskText(''); setNewTaskType('Task'); };\n//   const handleCreateSubmit = async lane => {\n//     if (!newTaskText.trim()) { alert('Task title is required'); return; }\n//     const newIssue = {\n//       id: Math.random().toString(36).slice(2),\n//       epic: lane.id,\n//       projectId: lane.id,\n//       epicName: lane.title,\n//       title: newTaskText,\n//       status: 'backlog',\n//       assignee: '',\n//       type: newTaskType,\n//       storyPoints: '',\n//       labels: [],\n//       dueDate: '',\n//       reporter: 'system',\n//       priority: 'Medium',\n//       startDate: new Date().toISOString().split('T')[0],\n//       description: '',\n//       subtasks: '',\n//       comments: ''\n//     };\n//     try {\n//       await createIssueAPI(newIssue);\n//       const refreshed = await listIssues(projectId);\n//       setIssues(refreshed);\n//       setCreateLaneId(null);\n//     } catch (err) { console.error(err); }\n//   };\n\n//   const handleOpenModal = (issue) => { setSelectedIssue(issue); setEditIssue({ ...issue }); };\n//   const handleUpdateField = (field, value) => { setEditIssue(prev => ({ ...prev, [field]: value })); };\n//   const handleSave = async () => { await updateIssueAPI(editIssue); const refreshed = await listIssues(projectId); setIssues(refreshed); setSelectedIssue(null); setEditIssue(null); };\n//   const handleReset = () => { setEditIssue({ ...selectedIssue }); };\n\n//   // Create Epic Modal Handlers\n//   const handleCreateEpic = async () => {\n//     if (!newEpicName.trim()) {\n//       alert('Epic name is required');\n//       return;\n//     }\n//     try {\n//       await createEpicAPI(newEpicName);\n//       const updatedEpics = await listEpics();\n//       setEpics(updatedEpics);\n//       setNewEpicName('');\n//       setShowCreateEpic(false);\n//       const newEpic = updatedEpics[updatedEpics.length - 1];\n//       setOpenSwimlanes(prev => ({ ...prev, [newEpic.id]: true }));\n//       setCustomTitles(prev => ({ ...prev, [newEpic.id]: newEpic.name }));\n//       setColumnsByLane(prev => ({ ...prev, [newEpic.id]: defaultStatuses.slice() }));\n//     } catch (error) {\n//       console.error('Error creating epic:', error);\n//     }\n//   };\n\n//   // Delete Epic Modal Handler\n//   const handleDeleteEpic = async () => {\n//     if (!epicToDelete) {\n//       alert('Please select an epic to delete');\n//       return;\n//     }\n//     if (!window.confirm(`Are you sure you want to delete the epic \"${epics.find(e => e.id === epicToDelete)?.name}\"? This will also delete all issues in this epic.`)) {\n//       return;\n//     }\n//     try {\n//       await deleteEpicAPI(epicToDelete);\n//       const [refreshedIssues, refreshedEpics] = await Promise.all([\n//         listIssues(projectId),\n//         listEpics()\n//       ]);\n//       setIssues(refreshedIssues);\n//       setEpics(refreshedEpics);\n//       setEpicToDelete('');\n//       setShowDeleteEpic(false);\n//       setColumnsByLane(prev => {\n//         const copy = { ...prev };\n//         delete copy[epicToDelete];\n//         return copy;\n//       });\n//       setOpenSwimlanes(prev => {\n//         const copy = { ...prev };\n//         delete copy[epicToDelete];\n//         return copy;\n//       });\n//       setCustomTitles(prev => {\n//         const copy = { ...prev };\n//         delete copy[epicToDelete];\n//         return copy;\n//       });\n//     } catch (error) {\n//       console.error('Error deleting epic:', error);\n//     }\n//   };\n\n//   const swimlanes = getSwimlanes(issues, epics);\n\n//   return (\n//     <div className=\"board-wrap\">\n//       {/* Epic management buttons */}\n//       <div className=\"epic-management-section\">\n//         <div className=\"epic-buttons-container\">\n//           {/* <button className=\"create-epic-btn\" onClick={() => { setShowCreateEpic(true); setShowDeleteEpic(false); }}>+ Create Epic</button>\n//           <button className=\"delete-epic-btn\" onClick={() => { setShowDeleteEpic(true); setShowCreateEpic(false); }}>ðŸ—‘ Delete Epic</button> */}\n//         </div>\n\n//       </div>\n\n//       {/* Swimlanes and columns */}\n//       {swimlanes.map(lane => {\n//         const isOpen = openSwimlanes[lane.id];\n//         const statuses = columnsByLane[lane.id] || defaultStatuses;\n//         return (\n//           <section className=\"swimlane\" key={lane.id}>\n//             <header className=\"swimlane-header\">\n//               <button className=\"swimlane-toggle\" onClick={() => toggleSwimlane(lane.id)}>{isOpen ? 'â–¼' : 'â–¶'}</button>\n//               <span className=\"swimlane-icon\">âš¡</span>\n//               <input className=\"swimlane-title-input\" value={customTitles[lane.id] || ''} onChange={e => setCustomTitles(prev => ({ ...prev, [lane.id]: e.target.value }))} />\n//               <span className=\"swimlane-count\">{lane.issues.length} work items</span>\n//             </header>\n//             {isOpen && (\n//               <div className=\"kanban-row\">\n//                 {statuses.map((status, idx) => {\n//                   const issuesForStatus = byStatus(lane.issues, status);\n//                   return (\n//                     <div className=\"kanban-column\" key={status} onDragOver={onDragOver} onDrop={e => onDrop(e, status, lane.id)}>\n//                       <div className=\"col-header\">\n//                         <span className=\"col-title\">{status.toUpperCase()}</span>\n//                         <span className=\"col-icons\">\n//                           <button className=\"col-icon\" title=\"Add Column\" onClick={e => openAddColumnModal(e, lane.id, idx)}>ï¼‹</button>\n//                           <button className=\"col-icon\" title=\"Edit/Delete Column\" onClick={e => openEditColumnModal(e, lane.id, idx, status)}>â‹®</button>\n//                         </span>\n//                         {issuesForStatus.length > 0 && <span className=\"col-count\">{issuesForStatus.length}</span>}\n//                       </div>\n//                       <div className=\"col-create\">\n//                         {status === 'backlog' && (\n//                           createLaneId === lane.id ? (\n//                             <div className=\"create-card\">\n//                               <textarea rows={2} className=\"create-input\" placeholder=\"What needs to be done?\" value={newTaskText} onChange={e => setNewTaskText(e.target.value)} />\n//                               <div className=\"create-actions\">\n//                                 <select value={newTaskType} onChange={e => setNewTaskType(e.target.value)} className=\"create-select\">\n//                                   <option>Task</option><option>Subtask</option><option>Bug</option>\n//                                 </select>\n//                                 <button className=\"create-btn\" onClick={() => handleCreateSubmit(lane)}>âœ”</button>\n//                                 <button className=\"create-btn\" onClick={() => setCreateLaneId(null)}>âœ–</button>\n//                               </div>\n//                             </div>\n//                           ) : (<span className=\"create-link\" onClick={() => handleCreateClick(lane.id)}>+ Create</span>)\n//                         )}\n//                       </div>\n//                       {issuesForStatus.map(issue => {\n//                         const isHovered = hoveredAssigneeId === issue.id;\n//                         return (\n//                           <div className=\"card-item\" key={issue.id} draggable onDragStart={e => onDragStart(e, issue.id)} onClick={() => handleOpenModal(issue)}>\n//                             <div className=\"card-top\">\n//                               <span className={`card-tag card-tag-${issue.type.toLowerCase()}`}>{issue.type}</span>\n//                               <span className=\"card-id\">{issue.id}</span>\n//                             </div>\n//                             <div className=\"card-title\">{issue.title}</div>\n//                             <div className=\"card-meta\">\n//                               {issue.dueDate && <span className=\"card-due\">ðŸ“… {issue.dueDate}</span>}\n//                               <span className={`card-priority ${issue.priority.toLowerCase()}`}>âš‘ {issue.priority}</span>\n//                               {issue.assignee && (\n//                                 <span className=\"card-assignee\" onMouseEnter={() => setHoveredAssigneeId(issue.id)} onMouseLeave={() => setHoveredAssigneeId(null)} style={{ position: 'relative', cursor: 'default', userSelect: 'none' }}>\n//                                   ðŸ‘¤\n//                                   {isHovered && <div className=\"assignee-tooltip\">{issue.assignee}</div>}\n//                                 </span>\n//                               )}\n//                             </div>\n//                           </div>\n//                         );\n//                       })}\n//                     </div>\n//                   );\n//                 })}\n//               </div>\n//             )}\n//           </section>\n//         );\n//       })}\n\n//       {/* Column Add/Edit modal */}\n//       {columnModal && (columnModal.type === 'add' || columnModal.type === 'menu') && (\n//         <div className=\"epic-modal-overlay\" onClick={() => setColumnModal(null)} style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, zIndex: 1000 }}>\n//           <div className=\"epic-modal\" onClick={e => e.stopPropagation()} style={{\n//             position: 'absolute',\n//             top: modalPosition.top,\n//             left: modalPosition.left,\n//             transform: 'translateX(-50%)',\n//             minWidth: 280,\n//             maxWidth: 320,\n//             padding: 20,\n//             borderRadius: 10,\n//             background: 'white',\n//             boxShadow: '0 10px 40px rgba(0,0,0,0.3)',\n//             zIndex: 1100\n//           }}>\n//             {columnModal.type === 'add' ? (\n//               <>\n//                 <h3 style={{ marginBottom: 15, fontWeight: 600, fontSize: 20, color: '#172b4d' }}>Add Column</h3>\n//                 <input value={columnInput} onChange={e => setColumnInput(e.target.value)} placeholder=\"Column name\" autoFocus className=\"epic-modal-input\" style={{ width: '100%', padding: 12, fontSize: 16, borderRadius: 6, border: '1px solid #dfe1e5', marginBottom: 20, boxSizing: 'border-box' }} />\n//                 <div className=\"epic-modal-actions\" style={{ display: 'flex', justifyContent: 'flex-end', gap: 12 }}>\n//                   <button className=\"btn-cancel\" onClick={() => setColumnModal(null)} style={btnStyle.cancel}>Cancel</button>\n//                   <button className=\"btn-create\" onClick={handleAddColumn} style={btnStyle.create}>Add</button>\n//                 </div>\n//               </>\n//             ) : (\n//               <>\n//                 <h3 style={{ marginBottom: 15, fontWeight: 600, fontSize: 20, color: '#172b4d' }}>Edit/Delete Column</h3>\n//                 <input value={columnInput} onChange={e => setColumnInput(e.target.value)} placeholder=\"Column name\" autoFocus className=\"epic-modal-input\" style={{ width: '100%', padding: 12, fontSize: 16, borderRadius: 6, border: '1px solid #dfe1e5', marginBottom: 20, boxSizing: 'border-box' }} />\n//                 <div className=\"epic-modal-actions\" style={{ display: 'flex', justifyContent: 'flex-end', gap: 12 }}>\n//                   <button className=\"btn-save\" onClick={handleEditColumn} style={btnStyle.create}>Rename</button>\n//                   <button className=\"btn-delete\" onClick={handleDeleteColumn} style={btnStyle.delete}>Delete</button>\n//                   <button className=\"btn-cancel\" onClick={() => setColumnModal(null)} style={btnStyle.cancel}>Cancel</button>\n//                 </div>\n//               </>\n//             )}\n//           </div>\n//         </div>\n//       )}\n\n//       {/* Issue modal */}\n//       {selectedIssue && editIssue && (\n//         <div className=\"modal-overlay\" onClick={() => setSelectedIssue(null)}>\n//           <div className=\"modal\" onClick={e => e.stopPropagation()}>\n//             <div className=\"modal-header\">\n//               <h2>{editIssue.epicName}</h2>\n//               <button className=\"modal-close-btn\" onClick={() => setSelectedIssue(null)}>âœ–</button>\n//             </div>\n//             <div className=\"modal-field\"><label>Title</label><input value={editIssue.title} onChange={e => handleUpdateField('title', e.target.value)} /></div>\n//             <div className=\"modal-field\"><label>Description</label><textarea value={editIssue.description} onChange={e => handleUpdateField('description', e.target.value)} /></div>\n//             <div className=\"modal-field\"><label>Subtasks</label><input value={editIssue.subtasks} onChange={e => handleUpdateField('subtasks', e.target.value)} /></div>\n//             <div className=\"modal-field\"><label>Comments</label><textarea value={editIssue.comments} onChange={e => handleUpdateField('comments', e.target.value)} /></div>\n//             <div className=\"modal-field\"><label>Status</label>\n//               <select value={editIssue.status} onChange={e => handleUpdateField('status', e.target.value)}>\n//                 {columnsByLane[editIssue.epic]?.map(st => <option key={st} value={st}>{st}</option>) || defaultStatuses.map(st => <option key={st} value={st}>{st}</option>)}\n//               </select>\n//             </div>\n//             <div className=\"modal-field\"><label>Assignee</label><input value={editIssue.assignee} onChange={e => handleUpdateField('assignee', e.target.value)} /></div>\n//             <div className=\"modal-field\"><label>Reporter</label><input disabled value={editIssue.reporter} /></div>\n//             <div className=\"modal-field\"><label>Priority</label>\n//               <select value={editIssue.priority} onChange={e => handleUpdateField('priority', e.target.value)}>\n//                 <option>Low</option><option>Medium</option><option>High</option>\n//               </select>\n//             </div>\n//             <div className=\"modal-field\"><label>Due Date</label><input type=\"date\" value={editIssue.dueDate} onChange={e => handleUpdateField('dueDate', e.target.value)} /></div>\n//             <div className=\"modal-field\"><label>Start Date</label><input type=\"date\" value={editIssue.startDate} onChange={e => handleUpdateField('startDate', e.target.value)} /></div>\n//             <div className=\"modal-actions\" style={{ gridColumn: \"span 3\", alignItems: 'center' }}>\n//               <button className=\"btn-reset\" onClick={handleReset}>Reset</button>\n//               <button className=\"btn-save\" onClick={handleSave}>Save</button>\n//               <button className=\"modal-delete-btn\" onClick={async () => {\n//                 if (window.confirm('Delete this issue?')) {\n//                   await deleteIssueAPI(selectedIssue.id);\n//                   const refreshed = await listIssues(projectId);\n//                   setIssues(refreshed);\n//                   setSelectedIssue(null);\n//                 }\n//               }}>ðŸ—‘</button>\n//             </div>\n//           </div>\n//         </div>\n//       )}\n\n//       {/* Inline CSS styles */}\n//       <style>{`\n//         /* Include the full CSS from the previous answer - Kanban board styling, tooltip, modals, buttons */\n//         body {\n//           font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n//           background-color: #f5f6f8;\n//           margin: 0;\n//           padding: 16px;\n//         }\n//         .board-wrap {\n//           max-width: 100%;\n//           overflow-x: auto;\n//         }\n// body {\n//   font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n//   background-color: #f5f6f8;\n//   margin: 0;\n//   padding: 16px;\n// }\n// .board-wrap {\n//   max-width: 100%;\n//   overflow-x: auto;\n// }\n// .swimlane {\n//   background: white;\n//   border-radius: 8px;\n//   margin-bottom: 16px;\n//   box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n//   overflow: hidden;\n// }\n// .swimlane-header {\n//   display: flex;\n//   align-items: center;\n//   padding: 12px 16px;\n//   background: #fafbfc;\n//   border-bottom: 1px solid #dfe5e5;\n//   font-weight: 600;\n//   font-size: 14px;\n//   color: #172b4d;\n// }\n// .swimlane-toggle, .swimlane-icon {\n//   color: #5e6c84;\n//   margin-right: 8px;\n//   cursor: pointer;\n// }\n// .swimlane-toggle {\n//   border: none;\n//   background: transparent;\n//   font-size: 14px;\n// }\n// .swimlane-icon {\n//   font-size: 18px;\n// }\n// .swimlane-title-input {\n//   border: 1px solid #dfe5e5;\n//   border-radius: 4px;\n//   padding: 4px 8px;\n//   font-size: 14px;\n//   font-weight: 600;\n//   background: white;\n//   margin-right: 8px;\n//   min-width: 150px;\n//   color: #172b4d;\n// }\n// .swimlane-title-input:focus {\n//   outline: none;\n//   border-color: #1976d2;\n// }\n// .swimlane-title-input::placeholder {\n//   color: #a2adba;\n// }\n// .swimlane-title-input:hover {\n//   border-color: #a2adba;\n// }\n// .swimlane-title-input:disabled {\n//   background: #f5f6f8;\n//   color: #a2adba;\n// }\n// .swimlane-count {\n//   color: #5e6c84;\n//   font-size: 12px;\n//   font-weight: normal;\n//   user-select: none;\n// }\n// .kanban-row {\n//   display: flex;\n//   padding: 16px;\n//   gap: 12px;\n//   overflow-x: auto;\n// }\n// .kanban-column {\n//   flex: 0 0 260px;\n//   background: #f5f6f8;\n//   border-radius: 6px;\n//   padding: 12px;\n//   display: flex;\n//   flex-direction: column;\n//   gap: 12px;\n//   border: 1px solid #dfe5e5;\n//   user-select: none;\n// }\n// .col-header {\n//   display: flex;\n//   align-items: center;\n//   margin-bottom: 4px;\n//   gap: 6px;\n// }\n// .col-title {\n//   font-weight: 600;\n//   font-size: 12px;\n//   color: #5e6c84;\n//   text-transform: uppercase;\n//   letter-spacing: 0.5px;\n//   flex-grow: 1;\n//   user-select: none;\n// }\n// .col-title:empty {\n//   height: 20px;\n// }\n// .col-count {\n//   background: #dfe5e5;\n//   color: #5e6c84;\n//   border-radius: 12px;\n//   padding: 2px 8px;\n//   font-size: 11px;\n//   font-weight: 600;\n//   user-select: none;\n//   min-width: 20px;\n//   text-align: center;\n// }\n// .col-icons {\n//   display: flex;\n//   gap: 6px;\n// }\n// .col-icon {\n//   cursor: pointer;\n//   color: #5e6c84;\n//   font-size: 18px;\n//   background: none;\n//   border: none;\n//   padding: 0;\n//   user-select: none;\n// }\n// .col-icon:hover {\n//   color: #1976d2;\n// }\n// .create-card {\n//   background: white;\n//   padding: 10px;\n//   border-radius: 6px;\n//   box-shadow: 0 0 2px rgba(0, 0, 0, 0.2);\n//   display: flex;\n//   flex-direction: column;\n//   gap: 10px;\n// }\n// .create-card textarea {\n//   resize: vertical;\n//   min-height: 50px;\n//   font-size: 14px;\n//   padding: 8px;\n//   border-radius: 5px;\n//   border: 1px solid #dfe5e5;\n//   font-family: inherit;\n// }\n// .create-card textarea:focus {\n//   outline: none;\n//   border-color: #1976d2;\n// }\n// .create-card .create-actions {\n//   display: flex;\n//   align-items: center;\n//   gap: 12px;\n// }\n// .create-card .create-actions select {\n//   flex-grow: 1;\n//   padding: 8px;\n//   border: 1px solid #dfe5e5;\n//   border-radius: 5px;\n//   font-size: 14px;\n// }\n// .create-card button {\n//   padding: 8px 12px;\n//   font-size: 14px;\n//   cursor: pointer;\n//   border-radius: 5px;\n//   border: 1px solid #dfe5e5;\n//   background: #f5f6f8;\n//   user-select: none;\n//   transition: background-color 0.2s;\n// }\n// .create-card button:hover {\n//   background: #e1e7f0;\n// }\n// .card-item {\n//   background: white;\n//   border-radius: 8px;\n//   padding: 12px;\n//   box-shadow: 0 0 2px rgba(0,0,0,0.1);\n//   cursor: pointer;\n//   user-select: none;\n//   display: flex;\n//   flex-direction: column;\n//   gap: 6px;\n//   border: 1px solid #dfe5e5;\n//   transition: box-shadow 0.2s ease, border-color 0.2s ease;\n// }\n// .card-item:hover {\n//   box-shadow: 0px 2px 10px rgba(0,0,0,0.15);\n//   border-color: #a2adba;\n// }\n// .card-item .card-top {\n//   display: flex;\n//   justify-content: space-between;\n//   align-items: center;\n//   font-size: 12px;\n//   font-weight: 600;\n//   color: #5e6c84;\n//   gap: 10px;\n// }\n// .card-item .card-top .card-id {\n//   font-family: monospace;\n//   color: #a2adba;\n//   user-select: text;\n// }\n// .card-item .card-tags .tag {\n//   border-radius: 6px;\n//   padding: 3px 7px;\n//   font-size: 11px;\n//   font-weight: 600;\n//   text-transform: uppercase;\n//   white-space: nowrap;\n//   user-select: none;\n//   margin-right: 6px;\n// }\n// .tag-task {\n//   background: #e1efff;\n//   color: #1976d2;\n// }\n// .tag-bug {\n//   background: #ffebec;\n//   color: #d62127;\n// }\n// .tag-subtask {\n//   background: #f5e6ff;\n//   color: #772da0;\n// }\n// .card-item .card-title {\n//   font-weight: 600;\n//   font-size: 14px;\n//   color: #2b3a59;\n// }\n// .card-item .card-meta {\n//   display: flex;\n//   gap: 10px;\n//   font-size: 12px;\n//   color: #6b7c93;\n//   align-items: center;\n//   user-select: none;\n// }\n// .card-item .card-meta span {\n//   background: #f5f7fa;\n//   color: #6b7c93;\n//   padding: 3px 8px;\n//   border-radius: 12px;\n// }\n// .card-item .card-meta .card-priority.low {\n//   background: #d4edda;\n//   color: #155724;\n// }\n// .card-item .card-meta .card-priority.medium {\n//   background: #fff3cd;\n//   color: #856404;\n// }\n// .card-item .card-meta .card-priority.high {\n//   background: #f8d7da;\n//   color: #721c24;\n// }\n// .card-item .card-meta .card-assignee {\n//   position: relative;\n//   cursor: default;\n//   padding-left: 18px;\n// }\n// .card-item .card-meta .card-assignee:hover .tooltip {\n//   display: block;\n// }\n// .card-item .card-meta .tooltip {\n//   position: absolute;\n//   top: -30px;\n//   left: 50%;\n//   transform: translateX(-50%);\n//   background: #222;\n//   color: white;\n//   border-radius: 4px;\n//   padding: 4px 8px;\n//   font-size: 11px;\n//   white-space: nowrap;\n//   z-index: 10;\n//   display: none;\n//   user-select: none;\n// }\n// .modal-overlay {\n//   position: fixed;\n//   top: 0; left: 0; right: 0; bottom: 0;\n//   background: rgba(0,0,0,0.5);\n//   display: flex;\n//   align-items: center;\n//   justify-content: center;\n//   z-index: 1000;\n// }\n// .modal {\n//   background: white;\n//   border-radius: 8px;\n//   padding: 24px;\n//   width: 700px;\n//   max-height: 80vh;\n//   display: grid;\n//   grid-template-columns: 1fr 1fr 1fr;\n//   gap: 16px;\n//   overflow-y: auto;\n//   position: relative;\n// }\n// .modal-header {\n//   grid-column: 1 / -1;\n//   display: flex;\n//   justify-content: space-between;\n//   align-items: center;\n//   font-weight: 700;\n//   font-size: 20px;\n//   color: #2b3a59;\n// }\n// .modal-header button {\n//   background: none;\n//   border: none;\n//   font-size: 22px;\n//   cursor: pointer;\n//   color: #a2adba;\n// }\n// .modal-header button:hover {\n//   color: #485fc7;\n// }\n// .modal-field {\n//   display: flex;\n//   flex-direction: column;\n//   gap: 6px;\n// }\n// .modal-field label {\n//   font-size: 12px;\n//   font-weight: 600;\n//   color: #6b7c93;\n//   user-select: none;\n// }\n// .modal-field input, .modal-field textarea, .modal-field select {\n//   padding: 8px 10px;\n//   border-radius: 6px;\n//   border: 1px solid #dfe5e5;\n//   font-size: 14px;\n//   color: #2b3a59;\n//   font-family: inherit;\n// }\n// .modal-field input:focus, .modal-field textarea:focus, .modal-field select:focus {\n//   outline: none;\n//   border-color: #485fc7;\n//   background: #f8fcff;\n// }\n// .modal-actions {\n//   grid-column: 1 / -1;\n//   display: flex;\n//   justify-content: flex-end;\n//   gap: 12px;\n//   align-items: center;\n//   margin-top: 12px;\n// }\n// button.btn-reset {\n//   background: #5e6c84;\n//   color: white;\n//   font-weight: 600;\n//   border: none;\n//   padding: 8px 16px;\n//   border-radius: 6px;\n//   cursor: pointer;\n// }\n// button.btn-reset:hover {\n//   background: #485fc7;\n// }\n// button.btn-save {\n//   background: #485fc7;\n//   color: white;\n//   font-weight: 600;\n//   border: none;\n//   padding: 8px 16px;\n//   border-radius: 6px;\n//   cursor: pointer;\n// }\n// button.btn-save:hover {\n//   background: #374cac;\n// }\n// button.btn-delete {\n//   background: #d94343;\n//   color: white;\n//   font-weight: 600;\n//   border: none;\n//   padding: 8px 16px;\n//   border-radius: 6px;\n//   cursor: pointer;\n// }\n// button.btn-delete:hover {\n//   background: #b83232;\n// }\n// input[disabled] {\n//   background: #efeff1;\n//   cursor: not-allowed;\n//   color: #b3b3b3;\n// }\n// .epic-modal-overlay {\n//   position: fixed;\n//   top: 0; left: 0; right: 0; bottom: 0;\n//   background: rgba(0,0,0,0.5);\n//   display: flex;\n//   align-items: center;\n//   justify-content: center;\n//   z-index: 1000;\n// }\n// .epic-modal {\n//   background: white;\n//   border-radius: 8px;\n//   width: 350px;\n//   padding: 20px;\n//   box-shadow: 0 0 10px rgba(0,0,0,0.2);\n//   position: relative;\n// }\n// .epic-modal-content h3 {\n//   margin: 0 0 20px 0;\n//   font-weight: 700;\n//   font-size: 20px;\n//   color: #2b3a59;\n//   user-select: none;\n// }\n// .epic-modal-content p.delete-warning {\n//   background: #ffe6e6;\n//   padding: 10px;\n//   color: #d94343;\n//   font-size: 14px;\n//   margin-bottom: 15px;\n//   border-radius: 6px;\n// }\n// .epic-modal-input, .epic-modal-select {\n//   width: 100%;\n//   padding: 10px;\n//   font-size: 14px;\n//   margin-bottom: 20px;\n//   border-radius: 6px;\n//   border: 1px solid #dfe5e5;\n//   box-sizing: border-box;\n//   font-family: inherit;\n// }\n// .epic-modal-input:focus, .epic-modal-select:focus {\n//   outline: none;\n//   border-color: #485fc7;\n// }\n// .epic-modal-actions {\n//   display: flex;\n//   justify-content: space-between;\n//   gap: 15px;\n// }\n// button.create-epic-btn, button.delete-epic-btn {\n//   background: #485fc7;\n//   color: white;\n//   font-weight: 600;\n//   border: none;\n//   padding: 10px 20px;\n//   border-radius: 8px;\n//   cursor: pointer;\n//   font-size: 15px;\n//   user-select: none;\n// }\n// button.create-epic-btn:hover, button.delete-epic-btn:hover {\n//   background: #374cac;\n// }\n// button.delete-epic-btn {\n//   background: #d94343;\n// }\n// button.delete-epic-btn:hover {\n//   background: #b83232;\n// }\n\n//       `}</style>\n\n//     </div>\n//   );\n// }\n\n// const btnStyle = {\n//   cancel: {\n//     padding: '10px 18px',\n//     borderRadius: '6px',\n//     border: 'none',\n//     backgroundColor: '#5e6c84',\n//     color: 'white',\n//     fontWeight: '600',\n//     fontSize: '14px',\n//     cursor: 'pointer'\n//   },\n//   // create: {\n//   //   padding: '10px 18px',\n//   //   borderRadius: '6px',\n//   //   border: 'none',\n//   //   backgroundColor: '#1976d2',\n//   //   color: 'white',\n//   //   fontWeight: '600',\n//   //   fontSize: '14px',\n//   //   cursor: 'pointer'\n//   // },\n//   delete: {\n//     padding: '10px 18px',\n//     borderRadius: '6px',\n//     border: 'none',\n//     backgroundColor: '#d32f2f',\n//     color: 'white',\n//     fontWeight: '600',\n//     fontSize: '14px',\n//     cursor: 'pointer'\n//   }\n// };\n\n//======================================================================================\n// import React, { useEffect, useState } from 'react';\n// import { useParams } from 'react-router-dom';\n\n// const mockIssues = [\n//   { id: 'i1', epic: 'p1', epicName: 'Frontend', status: 'todo', type: 'Task', title: 'Setup repo', assignee: 'John Doe', storyPoints: 3, labels: [], dueDate: '2025-09-30', reporter: 'admin', priority: 'High', startDate: '2025-09-15', description: '', subtasks: '', comments: '' },\n//   { id: 'i3', epic: 'p2', epicName: 'Middleware', status: 'todo', type: 'Subtask', title: 'API integration', assignee: 'Jane Smith', storyPoints: 2, labels: [], dueDate: '', reporter: 'lead-dev', priority: 'Low', startDate: '2025-09-18', description: '', subtasks: '', comments: '' }\n// ];\n\n// const defaultStatuses = ['backlog', 'todo', 'analysis', 'inprogress', 'blocked', 'code review', 'qa', 'milestone', 'done'];\n// const mockEpics = [{ id: 'p1', name: 'Frontend' }, { id: 'p2', name: 'Middleware' }];\n\n// const simulateApiDelay = () => new Promise(resolve => setTimeout(resolve, 200));\n// const listIssues = async (projectId) => {\n//   await simulateApiDelay();\n//   return mockIssues.filter(i => !projectId || i.epic === projectId || i.projectId === projectId);\n// };\n// const listEpics = async () => { await simulateApiDelay(); return mockEpics; };\n// const createEpicAPI = async (epicName) => {\n//   await simulateApiDelay();\n//   const newEpic = { id: 'p' + (mockEpics.length + 1), name: epicName };\n//   mockEpics.push(newEpic);\n//   return newEpic;\n// };\n// const deleteEpicAPI = async (epicId) => {\n//   await simulateApiDelay();\n//   const epicIndex = mockEpics.findIndex(epic => epic.id === epicId);\n//   if (epicIndex > -1) mockEpics.splice(epicIndex, 1);\n//   const issueIndices = [];\n//   mockIssues.forEach((issue, index) => { if (issue.epic === epicId) issueIndices.push(index); });\n//   issueIndices.sort((a, b) => b - a).forEach(index => { mockIssues.splice(index, 1); });\n// };\n// const moveIssue = async (issueId, status) => {\n//   await simulateApiDelay();\n//   const issue = mockIssues.find(i => i.id === issueId);\n//   if (!issue) throw new Error('Issue not found');\n//   issue.status = status;\n// };\n// const createIssueAPI = async (issue) => { await simulateApiDelay(); mockIssues.push(issue); };\n// const deleteIssueAPI = async (issueId) => { await simulateApiDelay(); const idx = mockIssues.findIndex(i => i.id === issueId); if (idx > -1) mockIssues.splice(idx, 1); };\n// const updateIssueAPI = async (updatedIssue) => { await simulateApiDelay(); const idx = mockIssues.findIndex(i => i.id === updatedIssue.id); if (idx > -1) mockIssues[idx] = { ...mockIssues[idx], ...updatedIssue }; };\n\n// const getSwimlanes = (issues, epics) =>\n//   epics.map(epic => {\n//     const epicIssues = issues.filter(i => (i.epic || i.projectId) === epic.id);\n//     return { id: epic.id, title: epic.name, issues: epicIssues };\n//   });\n\n// export default function KanbanBoard() {\n//   const { projectId } = useParams();\n//   const [issues, setIssues] = useState([]);\n//   const [epics, setEpics] = useState([]);\n//   const [openSwimlanes, setOpenSwimlanes] = useState({});\n//   const [customTitles, setCustomTitles] = useState({});\n//   const [createLaneId, setCreateLaneId] = useState(null);\n//   const [newTaskText, setNewTaskText] = useState('');\n//   const [newTaskType, setNewTaskType] = useState('Task');\n//   const [selectedIssue, setSelectedIssue] = useState(null);\n//   const [editIssue, setEditIssue] = useState(null);\n//   const [showCreateEpic, setShowCreateEpic] = useState(false);\n//   const [showDeleteEpic, setShowDeleteEpic] = useState(false);\n//   const [newEpicName, setNewEpicName] = useState('');\n//   const [epicToDelete, setEpicToDelete] = useState('');\n//   const [columnsByLane, setColumnsByLane] = useState({});\n//   const [columnModal, setColumnModal] = useState(null);\n//   const [columnInput, setColumnInput] = useState('');\n//   const [hoveredAssigneeId, setHoveredAssigneeId] = useState(null);\n//   const [modalPosition, setModalPosition] = useState({ top: 0, left: 0 });\n//   const [isMobile, setIsMobile] = useState(false);\n//   const [activeSwimlane, setActiveSwimlane] = useState(null);\n\n//   // Detect mobile screen size\n//   useEffect(() => {\n//     const checkScreenSize = () => {\n//       setIsMobile(window.innerWidth < 768);\n//     };\n\n//     checkScreenSize();\n//     window.addEventListener('resize', checkScreenSize);\n\n//     return () => window.removeEventListener('resize', checkScreenSize);\n//   }, []);\n\n//   useEffect(() => {\n//     const fetchData = async () => {\n//       try {\n//         const [issuesData, epicsData] = await Promise.all([listIssues(projectId), listEpics()]);\n//         setIssues(issuesData);\n//         setEpics(epicsData);\n//         const lanes = getSwimlanes(issuesData, epicsData);\n//         const initialOpen = {}, initialTitles = {}, initialCols = {};\n//         lanes.forEach(lane => {\n//           initialOpen[lane.id] = true;\n//           initialTitles[lane.id] = lane.title;\n//           initialCols[lane.id] = defaultStatuses.slice();\n//         });\n//         setOpenSwimlanes(initialOpen);\n//         setCustomTitles(initialTitles);\n//         setColumnsByLane(initialCols);\n//       } catch (err) { console.error(err); }\n//     };\n//     fetchData();\n//   }, [projectId]);\n\n//   const openAddColumnModal = (e, laneId, colIndex) => {\n//     const rect = e.currentTarget.getBoundingClientRect();\n//     setModalPosition({ top: rect.bottom + window.scrollY + 8, left: rect.left + window.scrollX });\n//     setColumnModal({ laneId, colIndex, type: 'add' });\n//     setColumnInput('');\n//   };\n//   const openEditColumnModal = (e, laneId, colIndex, status) => {\n//     const rect = e.currentTarget.getBoundingClientRect();\n//     setModalPosition({ top: rect.bottom + window.scrollY + 8, left: rect.left + window.scrollX });\n//     setColumnModal({ laneId, colIndex, type: 'menu' });\n//     setColumnInput(status);\n//   };\n//   const handleAddColumn = () => {\n//     const name = columnInput.trim();\n//     if (!name) return alert('Column name is required');\n//     setColumnsByLane(prev => {\n//       const cols = [...prev[columnModal.laneId]];\n//       if (cols.includes(name.toLowerCase())) alert('Column name already exists');\n//       else cols.splice(columnModal.colIndex + 1, 0, name.toLowerCase());\n//       return { ...prev, [columnModal.laneId]: cols };\n//     });\n//     setColumnModal(null);\n//     setColumnInput('');\n//   };\n//   const handleEditColumn = () => {\n//     const name = columnInput.trim();\n//     if (!name) return alert('Column name is required');\n//     const { laneId, colIndex } = columnModal;\n//     const oldCol = columnsByLane[laneId][colIndex];\n//     if (columnsByLane[laneId].includes(name.toLowerCase()) && name.toLowerCase() !== oldCol) {\n//       alert('Column name already exists');\n//       return;\n//     }\n//     setColumnsByLane(prev => {\n//       const cols = [...prev[laneId]];\n//       cols[colIndex] = name.toLowerCase();\n//       return { ...prev, [laneId]: cols };\n//     });\n//     const updatedIssues = issues.map(issue =>\n//       (issue.epic || issue.projectId) === laneId && issue.status === oldCol ? { ...issue, status: name.toLowerCase() } : issue\n//     );\n//     setIssues(updatedIssues);\n//     setColumnModal(null);\n//     setColumnInput('');\n//   };\n//   const handleDeleteColumn = () => {\n//     const { laneId, colIndex } = columnModal;\n//     const removedCol = columnsByLane[laneId][colIndex];\n//     setColumnsByLane(prev => {\n//       const cols = [...prev[laneId]];\n//       cols.splice(colIndex, 1);\n//       return { ...prev, [laneId]: cols };\n//     });\n//     const updatedIssues = issues.map(issue =>\n//       (issue.epic || issue.projectId) === laneId && issue.status === removedCol ? { ...issue, status: 'backlog' } : issue\n//     );\n//     setIssues(updatedIssues);\n//     setColumnModal(null);\n//     setColumnInput('');\n//   };\n//   const toggleSwimlane = (id) => setOpenSwimlanes(prev => ({ ...prev, [id]: !prev[id] }));\n//   const byStatus = (collection, status) => collection.filter(i => i.status === status);\n\n//   const onDragStart = (e, issueId) => e.dataTransfer.setData('text/plain', issueId);\n//   const onDrop = async (e, targetStatus, swimlaneId) => {\n//     e.preventDefault();\n//     try {\n//       const issueId = e.dataTransfer.getData('text/plain');\n//       const issue = issues.find(i => i.id === issueId);\n//       const srcLaneId = issue.epic || issue.projectId;\n//       if (srcLaneId === swimlaneId && issue.status !== targetStatus) {\n//         await moveIssue(issueId, targetStatus);\n//         const refreshed = await listIssues(projectId);\n//         setIssues(refreshed);\n//       }\n//     } catch (err) { console.error(err); }\n//   };\n//   const onDragOver = e => e.preventDefault();\n\n//   const handleCreateClick = laneId => { setCreateLaneId(laneId); setNewTaskText(''); setNewTaskType('Task'); };\n//   const handleCreateSubmit = async lane => {\n//     if (!newTaskText.trim()) { alert('Task title is required'); return; }\n//     const newIssue = {\n//       id: Math.random().toString(36).slice(2),\n//       epic: lane.id,\n//       projectId: lane.id,\n//       epicName: lane.title,\n//       title: newTaskText,\n//       status: 'backlog',\n//       assignee: '',\n//       type: newTaskType,\n//       storyPoints: '',\n//       labels: [],\n//       dueDate: '',\n//       reporter: 'system',\n//       priority: 'Medium',\n//       startDate: new Date().toISOString().split('T')[0],\n//       description: '',\n//       subtasks: '',\n//       comments: ''\n//     };\n//     try {\n//       await createIssueAPI(newIssue);\n//       const refreshed = await listIssues(projectId);\n//       setIssues(refreshed);\n//       setCreateLaneId(null);\n//     } catch (err) { console.error(err); }\n//   };\n\n//   const handleOpenModal = (issue) => { setSelectedIssue(issue); setEditIssue({ ...issue }); };\n//   const handleUpdateField = (field, value) => { setEditIssue(prev => ({ ...prev, [field]: value })); };\n//   const handleSave = async () => { await updateIssueAPI(editIssue); const refreshed = await listIssues(projectId); setIssues(refreshed); setSelectedIssue(null); setEditIssue(null); };\n//   const handleReset = () => { setEditIssue({ ...selectedIssue }); };\n\n//   // Create Epic Modal Handlers\n//   const handleCreateEpic = async () => {\n//     if (!newEpicName.trim()) {\n//       alert('Epic name is required');\n//       return;\n//     }\n//     try {\n//       await createEpicAPI(newEpicName);\n//       const updatedEpics = await listEpics();\n//       setEpics(updatedEpics);\n//       setNewEpicName('');\n//       setShowCreateEpic(false);\n//       const newEpic = updatedEpics[updatedEpics.length - 1];\n//       setOpenSwimlanes(prev => ({ ...prev, [newEpic.id]: true }));\n//       setCustomTitles(prev => ({ ...prev, [newEpic.id]: newEpic.name }));\n//       setColumnsByLane(prev => ({ ...prev, [newEpic.id]: defaultStatuses.slice() }));\n//     } catch (error) {\n//       console.error('Error creating epic:', error);\n//     }\n//   };\n\n//   // Delete Epic Modal Handler\n//   const handleDeleteEpic = async () => {\n//     if (!epicToDelete) {\n//       alert('Please select an epic to delete');\n//       return;\n//     }\n//     if (!window.confirm(`Are you sure you want to delete the epic \"${epics.find(e => e.id === epicToDelete)?.name}\"? This will also delete all issues in this epic.`)) {\n//       return;\n//     }\n//     try {\n//       await deleteEpicAPI(epicToDelete);\n//       const [refreshedIssues, refreshedEpics] = await Promise.all([\n//         listIssues(projectId),\n//         listEpics()\n//       ]);\n//       setIssues(refreshedIssues);\n//       setEpics(refreshedEpics);\n//       setEpicToDelete('');\n//       setShowDeleteEpic(false);\n//       setColumnsByLane(prev => {\n//         const copy = { ...prev };\n//         delete copy[epicToDelete];\n//         return copy;\n//       });\n//       setOpenSwimlanes(prev => {\n//         const copy = { ...prev };\n//         delete copy[epicToDelete];\n//         return copy;\n//       });\n//       setCustomTitles(prev => {\n//         const copy = { ...prev };\n//         delete copy[epicToDelete];\n//         return copy;\n//       });\n//     } catch (error) {\n//       console.error('Error deleting epic:', error);\n//     }\n//   };\n\n//   // Mobile-specific functions\n//   const toggleMobileSwimlane = (laneId) => {\n//     if (activeSwimlane === laneId) {\n//       setActiveSwimlane(null);\n//     } else {\n//       setActiveSwimlane(laneId);\n//     }\n//   };\n\n//   const swimlanes = getSwimlanes(issues, epics);\n\n//   return (\n//     <div className=\"board-wrap\">\n//       {/* Mobile swimlane selector */}\n//       {isMobile && (\n//         <div className=\"mobile-swimlane-selector\">\n//           <select \n//             value={activeSwimlane || ''} \n//             onChange={(e) => setActiveSwimlane(e.target.value || null)}\n//             className=\"mobile-select\"\n//           >\n//             <option value=\"\">All Swimlanes</option>\n//             {swimlanes.map(lane => (\n//               <option key={lane.id} value={lane.id}>{customTitles[lane.id] || lane.title}</option>\n//             ))}\n//           </select>\n//         </div>\n//       )}\n\n//       {/* Swimlanes and columns */}\n//       {swimlanes.map(lane => {\n//         const isOpen = isMobile ? (activeSwimlane === null || activeSwimlane === lane.id) : openSwimlanes[lane.id];\n//         const statuses = columnsByLane[lane.id] || defaultStatuses;\n\n//         // Skip rendering if mobile and this isn't the active swimlane\n//         if (isMobile && activeSwimlane && activeSwimlane !== lane.id) {\n//           return null;\n//         }\n\n//         return (\n//           <section className=\"swimlane\" key={lane.id}>\n//             <header className=\"swimlane-header\">\n//               {!isMobile && (\n//                 <button className=\"swimlane-toggle\" onClick={() => toggleSwimlane(lane.id)}>\n//                   {isOpen ? 'â–¼' : 'â–¶'}\n//                 </button>\n//               )}\n//               <span className=\"swimlane-icon\">âš¡</span>\n//               <input \n//                 className=\"swimlane-title-input\" \n//                 value={customTitles[lane.id] || ''} \n//                 onChange={e => setCustomTitles(prev => ({ ...prev, [lane.id]: e.target.value }))} \n//               />\n//               <span className=\"swimlane-count\">{lane.issues.length} work items</span>\n//               {isMobile && (\n//                 <button \n//                   className=\"mobile-swimlane-toggle\"\n//                   onClick={() => toggleMobileSwimlane(lane.id)}\n//                 >\n//                   {activeSwimlane === lane.id ? 'â–²' : 'â–¼'}\n//                 </button>\n//               )}\n//             </header>\n//             {isOpen && (\n//               <div className={`kanban-row ${isMobile ? 'mobile-view' : ''}`}>\n//                 {statuses.map((status, idx) => {\n//                   const issuesForStatus = byStatus(lane.issues, status);\n//                   return (\n//                     <div \n//                       className={`kanban-column ${isMobile ? 'mobile-column' : ''}`} \n//                       key={status} \n//                       onDragOver={onDragOver} \n//                       onDrop={e => onDrop(e, status, lane.id)}\n//                     >\n//                       <div className=\"col-header\">\n//                         <span className=\"col-title\">{status.toUpperCase()}</span>\n//                         {!isMobile && (\n//                           <span className=\"col-icons\">\n//                             <button className=\"col-icon\" title=\"Add Column\" onClick={e => openAddColumnModal(e, lane.id, idx)}>ï¼‹</button>\n//                             <button className=\"col-icon\" title=\"Edit/Delete Column\" onClick={e => openEditColumnModal(e, lane.id, idx, status)}>â‹®</button>\n//                           </span>\n//                         )}\n//                         {issuesForStatus.length > 0 && <span className=\"col-count\">{issuesForStatus.length}</span>}\n//                       </div>\n//                       <div className=\"col-create\">\n//                         {status === 'backlog' && (\n//                           createLaneId === lane.id ? (\n//                             <div className=\"create-card\">\n//                               <textarea rows={2} className=\"create-input\" placeholder=\"What needs to be done?\" value={newTaskText} onChange={e => setNewTaskText(e.target.value)} />\n//                               <div className=\"create-actions\">\n//                                 <select value={newTaskType} onChange={e => setNewTaskType(e.target.value)} className=\"create-select\">\n//                                   <option>Task</option><option>Subtask</option><option>Bug</option>\n//                                 </select>\n//                                 <button className=\"create-btn\" onClick={() => handleCreateSubmit(lane)}>âœ”</button>\n//                                 <button className=\"create-btn\" onClick={() => setCreateLaneId(null)}>âœ–</button>\n//                               </div>\n//                             </div>\n//                           ) : (<span className=\"create-link\" onClick={() => handleCreateClick(lane.id)}>+ Create</span>)\n//                         )}\n//                       </div>\n//                       {issuesForStatus.map(issue => {\n//                         const isHovered = hoveredAssigneeId === issue.id;\n//                         return (\n//                           <div className=\"card-item\" key={issue.id} draggable onDragStart={e => onDragStart(e, issue.id)} onClick={() => handleOpenModal(issue)}>\n//                             <div className=\"card-top\">\n//                               <span className={`card-tag card-tag-${issue.type.toLowerCase()}`}>{issue.type}</span>\n//                               <span className=\"card-id\">{issue.id}</span>\n//                             </div>\n//                             <div className=\"card-title\">{issue.title}</div>\n//                             <div className=\"card-meta\">\n//                               {issue.dueDate && <span className=\"card-due\">ðŸ“… {issue.dueDate}</span>}\n//                               <span className={`card-priority ${issue.priority.toLowerCase()}`}>âš‘ {issue.priority}</span>\n//                               {issue.assignee && (\n//                                 <span className=\"card-assignee\" onMouseEnter={() => setHoveredAssigneeId(issue.id)} onMouseLeave={() => setHoveredAssigneeId(null)} style={{ position: 'relative', cursor: 'default', userSelect: 'none' }}>\n//                                   ðŸ‘¤\n//                                   {isHovered && <div className=\"assignee-tooltip\">{issue.assignee}</div>}\n//                                 </span>\n//                               )}\n//                             </div>\n//                           </div>\n//                         );\n//                       })}\n//                     </div>\n//                   );\n//                 })}\n//               </div>\n//             )}\n//           </section>\n//         );\n//       })}\n\n//       {/* Column Add/Edit modal */}\n//       {columnModal && (columnModal.type === 'add' || columnModal.type === 'menu') && (\n//         <div className=\"epic-modal-overlay\" onClick={() => setColumnModal(null)} style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, zIndex: 1000 }}>\n//           <div className=\"epic-modal\" onClick={e => e.stopPropagation()} style={{\n//             position: isMobile ? 'fixed' : 'absolute',\n//             top: isMobile ? '50%' : modalPosition.top,\n//             left: isMobile ? '50%' : modalPosition.left,\n//             transform: isMobile ? 'translate(-50%, -50%)' : 'translateX(-50%)',\n//             minWidth: isMobile ? '90vw' : 280,\n//             maxWidth: isMobile ? '95vw' : 320,\n//             padding: 20,\n//             borderRadius: 10,\n//             background: 'white',\n//             boxShadow: '0 10px 40px rgba(0,0,0,0.3)',\n//             zIndex: 1100\n//           }}>\n//             {columnModal.type === 'add' ? (\n//               <>\n//                 <h3 style={{ marginBottom: 15, fontWeight: 600, fontSize: 20, color: '#172b4d' }}>Add Column</h3>\n//                 <input value={columnInput} onChange={e => setColumnInput(e.target.value)} placeholder=\"Column name\" autoFocus className=\"epic-modal-input\" style={{ width: '100%', padding: 12, fontSize: 16, borderRadius: 6, border: '1px solid #dfe1e5', marginBottom: 20, boxSizing: 'border-box' }} />\n//                 <div className=\"epic-modal-actions\" style={{ display: 'flex', justifyContent: 'flex-end', gap: 12, flexWrap: isMobile ? 'wrap' : 'nowrap' }}>\n//                   <button className=\"btn-cancel\" onClick={() => setColumnModal(null)} style={btnStyle.cancel}>Cancel</button>\n//                   <button className=\"btn-create\" onClick={handleAddColumn} style={btnStyle.create}>Add</button>\n//                 </div>\n//               </>\n//             ) : (\n//               <>\n//                 <h3 style={{ marginBottom: 15, fontWeight: 600, fontSize: 20, color: '#172b4d' }}>Edit/Delete Column</h3>\n//                 <input value={columnInput} onChange={e => setColumnInput(e.target.value)} placeholder=\"Column name\" autoFocus className=\"epic-modal-input\" style={{ width: '100%', padding: 12, fontSize: 16, borderRadius: 6, border: '1px solid #dfe1e5', marginBottom: 20, boxSizing: 'border-box' }} />\n//                 <div className=\"epic-modal-actions\" style={{ display: 'flex', justifyContent: 'flex-end', gap: 12, flexWrap: isMobile ? 'wrap' : 'nowrap' }}>\n//                   <button className=\"btn-save\" onClick={handleEditColumn} style={btnStyle.create}>Rename</button>\n//                   <button className=\"btn-delete\" onClick={handleDeleteColumn} style={btnStyle.delete}>Delete</button>\n//                   <button className=\"btn-cancel\" onClick={() => setColumnModal(null)} style={btnStyle.cancel}>Cancel</button>\n//                 </div>\n//               </>\n//             )}\n//           </div>\n//         </div>\n//       )}\n\n//       {/* Issue modal */}\n//       {selectedIssue && editIssue && (\n//         <div className=\"modal-overlay\" onClick={() => setSelectedIssue(null)}>\n//           <div className={`modal ${isMobile ? 'mobile-modal' : ''}`} onClick={e => e.stopPropagation()}>\n//             <div className=\"modal-header\">\n//               <h2>{editIssue.epicName}</h2>\n//               <button className=\"modal-close-btn\" onClick={() => setSelectedIssue(null)}>âœ–</button>\n//             </div>\n//             <div className={`modal-content ${isMobile ? 'mobile-modal-content' : ''}`}>\n//               <div className=\"modal-field\"><label>Title</label><input value={editIssue.title} onChange={e => handleUpdateField('title', e.target.value)} /></div>\n//               <div className=\"modal-field\"><label>Description</label><textarea value={editIssue.description} onChange={e => handleUpdateField('description', e.target.value)} /></div>\n//               <div className=\"modal-field\"><label>Subtasks</label><input value={editIssue.subtasks} onChange={e => handleUpdateField('subtasks', e.target.value)} /></div>\n//               <div className=\"modal-field\"><label>Comments</label><textarea value={editIssue.comments} onChange={e => handleUpdateField('comments', e.target.value)} /></div>\n//               <div className=\"modal-field\"><label>Status</label>\n//                 <select value={editIssue.status} onChange={e => handleUpdateField('status', e.target.value)}>\n//                   {columnsByLane[editIssue.epic]?.map(st => <option key={st} value={st}>{st}</option>) || defaultStatuses.map(st => <option key={st} value={st}>{st}</option>)}\n//                 </select>\n//               </div>\n//               <div className=\"modal-field\"><label>Assignee</label><input value={editIssue.assignee} onChange={e => handleUpdateField('assignee', e.target.value)} /></div>\n//               <div className=\"modal-field\"><label>Reporter</label><input disabled value={editIssue.reporter} /></div>\n//               <div className=\"modal-field\"><label>Priority</label>\n//                 <select value={editIssue.priority} onChange={e => handleUpdateField('priority', e.target.value)}>\n//                   <option>Low</option><option>Medium</option><option>High</option>\n//                 </select>\n//               </div>\n//               <div className=\"modal-field\"><label>Due Date</label><input type=\"date\" value={editIssue.dueDate} onChange={e => handleUpdateField('dueDate', e.target.value)} /></div>\n//               <div className=\"modal-field\"><label>Start Date</label><input type=\"date\" value={editIssue.startDate} onChange={e => handleUpdateField('startDate', e.target.value)} /></div>\n//             </div>\n//             <div className=\"modal-actions\" style={{ gridColumn: \"span 3\", alignItems: 'center' }}>\n//               <button className=\"btn-reset\" onClick={handleReset}>Reset</button>\n//               <button className=\"btn-save\" onClick={handleSave}>Save</button>\n//               <button className=\"modal-delete-btn\" onClick={async () => {\n//                 if (window.confirm('Delete this issue?')) {\n//                   await deleteIssueAPI(selectedIssue.id);\n//                   const refreshed = await listIssues(projectId);\n//                   setIssues(refreshed);\n//                   setSelectedIssue(null);\n//                 }\n//               }}>ðŸ—‘</button>\n//             </div>\n//           </div>\n//         </div>\n//       )}\n\n//       {/* Inline CSS styles */}\n//       <style>{`\n//         /* Base styles */\n//         body {\n//           font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n//           background-color: #f5f6f8;\n//           margin: 0;\n//           padding: 16px;\n//         }\n//         .board-wrap {\n//           max-width: 100%;\n//           overflow-x: auto;\n//         }\n\n//         /* Desktop styles */\n//         @media (min-width: 768px) {\n//           .swimlane {\n//             background: white;\n//             border-radius: 8px;\n//             margin-bottom: 16px;\n//             box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n//             overflow: hidden;\n//           }\n\n//           .kanban-row {\n//             display: flex;\n//             padding: 16px;\n//             gap: 12px;\n//             overflow-x: auto;\n//           }\n\n//           .kanban-column {\n//             flex: 0 0 260px;\n//             background: #f5f6f8;\n//             border-radius: 6px;\n//             padding: 12px;\n//             display: flex;\n//             flex-direction: column;\n//             gap: 12px;\n//             border: 1px solid #dfe5e5;\n//             user-select: none;\n//             min-height: 400px;\n//           }\n\n//           .modal {\n//             background: white;\n//             border-radius: 8px;\n//             padding: 24px;\n//             width: 700px;\n//             max-height: 80vh;\n//             display: grid;\n//             grid-template-columns: 1fr 1fr 1fr;\n//             gap: 16px;\n//             overflow-y: auto;\n//             position: relative;\n//           }\n//         }\n\n//         /* Mobile styles */\n//         @media (max-width: 767px) {\n//           body {\n//             padding: 8px;\n//           }\n\n//           .mobile-swimlane-selector {\n//             margin-bottom: 16px;\n//             position: sticky;\n//             top: 0;\n//             background: white;\n//             padding: 12px;\n//             border-radius: 8px;\n//             box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n//             z-index: 100;\n//           }\n\n//           .mobile-select {\n//             width: 100%;\n//             padding: 12px;\n//             border: 1px solid #dfe5e5;\n//             border-radius: 6px;\n//             font-size: 16px;\n//             background: white;\n//           }\n\n//           .swimlane {\n//             background: white;\n//             border-radius: 8px;\n//             margin-bottom: 12px;\n//             box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n//             overflow: hidden;\n//           }\n\n//           .swimlane-header {\n//             display: flex;\n//             align-items: center;\n//             padding: 12px;\n//             background: #fafbfc;\n//             border-bottom: 1px solid #dfe5e5;\n//             font-weight: 600;\n//             font-size: 14px;\n//             color: #172b4d;\n//             position: relative;\n//           }\n\n//           .mobile-swimlane-toggle {\n//             background: none;\n//             border: none;\n//             font-size: 16px;\n//             color: #5e6c84;\n//             margin-left: auto;\n//             padding: 4px 8px;\n//           }\n\n//           .kanban-row.mobile-view {\n//             display: block;\n//             padding: 8px;\n//             overflow-x: auto;\n//             white-space: nowrap;\n//           }\n\n//           .kanban-column.mobile-column {\n//             display: inline-block;\n//             vertical-align: top;\n//             width: 280px;\n//             margin-right: 8px;\n//             background: #f5f6f8;\n//             border-radius: 6px;\n//             padding: 8px;\n//             border: 1px solid #dfe5e5;\n//             user-select: none;\n//             min-height: 300px;\n//           }\n\n//           .col-header {\n//             display: flex;\n//             align-items: center;\n//             margin-bottom: 8px;\n//             gap: 6px;\n//           }\n\n//           .col-title {\n//             font-weight: 600;\n//             font-size: 11px;\n//             color: #5e6c84;\n//             text-transform: uppercase;\n//             letter-spacing: 0.5px;\n//             flex-grow: 1;\n//           }\n\n//           .card-item {\n//             background: white;\n//             border-radius: 6px;\n//             padding: 10px;\n//             box-shadow: 0 0 2px rgba(0,0,0,0.1);\n//             cursor: pointer;\n//             user-select: none;\n//             display: flex;\n//             flex-direction: column;\n//             gap: 6px;\n//             border: 1px solid #dfe5e5;\n//             margin-bottom: 8px;\n//           }\n\n//           .card-title {\n//             font-weight: 600;\n//             font-size: 13px;\n//             color: #2b3a59;\n//             line-height: 1.3;\n//           }\n\n//           .card-meta {\n//             display: flex;\n//             gap: 6px;\n//             font-size: 10px;\n//             color: #6b7c93;\n//             align-items: center;\n//             flex-wrap: wrap;\n//           }\n\n//           .modal.mobile-modal {\n//             width: 95vw;\n//             max-height: 90vh;\n//             padding: 16px;\n//             display: flex;\n//             flex-direction: column;\n//           }\n\n//           .modal-content.mobile-modal-content {\n//             display: flex;\n//             flex-direction: column;\n//             gap: 12px;\n//             overflow-y: auto;\n//           }\n\n//           .modal-field {\n//             display: flex;\n//             flex-direction: column;\n//             gap: 4px;\n//           }\n\n//           .modal-field input, .modal-field textarea, .modal-field select {\n//             padding: 10px;\n//             font-size: 16px; /* Better for mobile touch */\n//           }\n\n//           .modal-actions {\n//             display: flex;\n//             gap: 8px;\n//             justify-content: space-between;\n//             margin-top: 16px;\n//           }\n\n//           .modal-actions button {\n//             flex: 1;\n//             padding: 12px;\n//             font-size: 16px;\n//           }\n//         }\n\n//         /* Common styles (applied to both desktop and mobile) */\n//         .swimlane-header {\n//           display: flex;\n//           align-items: center;\n//           padding: 12px 16px;\n//           background: #fafbfc;\n//           border-bottom: 1px solid #dfe5e5;\n//           font-weight: 600;\n//           font-size: 14px;\n//           color: #172b4d;\n//         }\n\n//         .swimlane-toggle, .swimlane-icon {\n//           color: #5e6c84;\n//           margin-right: 8px;\n//           cursor: pointer;\n//         }\n\n//         .swimlane-toggle {\n//           border: none;\n//           background: transparent;\n//           font-size: 14px;\n//         }\n\n//         .swimlane-icon {\n//           font-size: 18px;\n//         }\n\n//         .swimlane-title-input {\n//           border: 1px solid #dfe5e5;\n//           border-radius: 4px;\n//           padding: 4px 8px;\n//           font-size: 14px;\n//           font-weight: 600;\n//           background: white;\n//           margin-right: 8px;\n//           min-width: 150px;\n//           color: #172b4d;\n//         }\n\n//         .swimlane-title-input:focus {\n//           outline: none;\n//           border-color: #1976d2;\n//         }\n\n//         .swimlane-count {\n//           color: #5e6c84;\n//           font-size: 12px;\n//           font-weight: normal;\n//         }\n\n//         .col-header {\n//           display: flex;\n//           align-items: center;\n//           margin-bottom: 4px;\n//           gap: 6px;\n//         }\n\n//         .col-title {\n//           font-weight: 600;\n//           font-size: 12px;\n//           color: #5e6c84;\n//           text-transform: uppercase;\n//           letter-spacing: 0.5px;\n//           flex-grow: 1;\n//         }\n\n//         .col-count {\n//           background: #dfe5e5;\n//           color: #5e6c84;\n//           border-radius: 12px;\n//           padding: 2px 8px;\n//           font-size: 11px;\n//           font-weight: 600;\n//           min-width: 20px;\n//           text-align: center;\n//         }\n\n//         .col-icons {\n//           display: flex;\n//           gap: 6px;\n//         }\n\n//         .col-icon {\n//           cursor: pointer;\n//           color: #5e6c84;\n//           font-size: 18px;\n//           background: none;\n//           border: none;\n//           padding: 0;\n//         }\n\n//         .create-card {\n//           background: white;\n//           padding: 10px;\n//           border-radius: 6px;\n//           box-shadow: 0 0 2px rgba(0, 0, 0, 0.2);\n//           display: flex;\n//           flex-direction: column;\n//           gap: 10px;\n//         }\n\n//         .card-item {\n//           background: white;\n//           border-radius: 8px;\n//           padding: 12px;\n//           box-shadow: 0 0 2px rgba(0,0,0,0.1);\n//           cursor: pointer;\n//           user-select: none;\n//           display: flex;\n//           flex-direction: column;\n//           gap: 6px;\n//           border: 1px solid #dfe5e5;\n//           transition: box-shadow 0.2s ease, border-color 0.2s ease;\n//         }\n\n//         .card-item:hover {\n//           box-shadow: 0px 2px 10px rgba(0,0,0,0.15);\n//           border-color: #a2adba;\n//         }\n\n//         .modal-overlay {\n//           position: fixed;\n//           top: 0; left: 0; right: 0; bottom: 0;\n//           background: rgba(0,0,0,0.5);\n//           display: flex;\n//           align-items: center;\n//           justify-content: center;\n//           z-index: 1000;\n//         }\n\n//         /* Button styles */\n//         button {\n//           cursor: pointer;\n//           transition: background-color 0.2s;\n//         }\n\n//         button:hover {\n//           opacity: 0.9;\n//         }\n\n//         /* Touch improvements for mobile */\n//         @media (max-width: 767px) {\n//           button, .card-item, .col-icon {\n//             min-height: 44px;\n//             min-width: 44px;\n//           }\n\n//           .card-item {\n//             touch-action: manipulation;\n//           }\n//         }\n//       `}</style>\n//     </div>\n//   );\n// }\n\n// const btnStyle = {\n//   cancel: {\n//     padding: '10px 18px',\n//     borderRadius: '6px',\n//     border: 'none',\n//     backgroundColor: '#5e6c84',\n//     color: 'white',\n//     fontWeight: '600',\n//     fontSize: '14px',\n//     cursor: 'pointer'\n//   },\n//   create: {\n//     padding: '10px 18px',\n//     borderRadius: '6px',\n//     border: 'none',\n//     backgroundColor: '#1976d2',\n//     color: 'white',\n//     fontWeight: '600',\n//     fontSize: '14px',\n//     cursor: 'pointer'\n//   },\n//   delete: {\n//     padding: '10px 18px',\n//     borderRadius: '6px',\n//     border: 'none',\n//     backgroundColor: '#d32f2f',\n//     color: 'white',\n//     fontWeight: '600',\n//     fontSize: '14px',\n//     cursor: 'pointer'\n//   }\n// };\n\n// import React, { useEffect, useState } from 'react';\n// import { useParams } from 'react-router-dom';\n\n// const mockIssues = [\n//   { id: 'i1', epic: 'p1', epicName: 'Frontend', status: 'todo', type: 'Task', title: 'Setup repo', assignee: 'John Doe', storyPoints: 3, labels: [], dueDate: '2025-09-30', reporter: 'admin', priority: 'High', startDate: '2025-09-15', description: '', subtasks: '', comments: '' },\n//   { id: 'i3', epic: 'p2', epicName: 'Middleware', status: 'todo', type: 'Subtask', title: 'API integration', assignee: 'Jane Smith', storyPoints: 2, labels: [], dueDate: '', reporter: 'lead-dev', priority: 'Low', startDate: '2025-09-18', description: '', subtasks: '', comments: '' }\n// ];\n\n// const defaultStatuses = ['backlog', 'todo', 'analysis', 'inprogress', 'blocked', 'code review', 'qa', 'milestone', 'done'];\n// const mockEpics = [{ id: 'p1', name: 'Frontend' }, { id: 'p2', name: 'Middleware' }];\n// const mockProjects = [\n//   { id: 'p1', name: 'E-Commerce Platform' },\n//   { id: 'p2', name: 'API Gateway Service' },\n//   { id: 'p3', name: 'Mobile App Development' }\n// ];\n\n// const simulateApiDelay = () => new Promise(resolve => setTimeout(resolve, 200));\n// const listIssues = async (projectId) => {\n//   await simulateApiDelay();\n//   return mockIssues.filter(i => !projectId || i.epic === projectId || i.projectId === projectId);\n// };\n// const listEpics = async () => { await simulateApiDelay(); return mockEpics; };\n// const getProjectName = async (projectId) => {\n//   await simulateApiDelay();\n//   const project = mockProjects.find(p => p.id === projectId);\n//   return project ? project.name : 'Untitled Project';\n// };\n// const createEpicAPI = async (epicName) => {\n//   await simulateApiDelay();\n//   const newEpic = { id: 'p' + (mockEpics.length + 1), name: epicName };\n//   mockEpics.push(newEpic);\n//   return newEpic;\n// };\n// const deleteEpicAPI = async (epicId) => {\n//   await simulateApiDelay();\n//   const epicIndex = mockEpics.findIndex(epic => epic.id === epicId);\n//   if (epicIndex > -1) mockEpics.splice(epicIndex, 1);\n//   const issueIndices = [];\n//   mockIssues.forEach((issue, index) => { if (issue.epic === epicId) issueIndices.push(index); });\n//   issueIndices.sort((a, b) => b - a).forEach(index => { mockIssues.splice(index, 1); });\n// };\n// const moveIssue = async (issueId, status) => {\n//   await simulateApiDelay();\n//   const issue = mockIssues.find(i => i.id === issueId);\n//   if (!issue) throw new Error('Issue not found');\n//   issue.status = status;\n// };\n// const createIssueAPI = async (issue) => { await simulateApiDelay(); mockIssues.push(issue); };\n// const deleteIssueAPI = async (issueId) => { await simulateApiDelay(); const idx = mockIssues.findIndex(i => i.id === issueId); if (idx > -1) mockIssues.splice(idx, 1); };\n// const updateIssueAPI = async (updatedIssue) => { await simulateApiDelay(); const idx = mockIssues.findIndex(i => i.id === updatedIssue.id); if (idx > -1) mockIssues[idx] = { ...mockIssues[idx], ...updatedIssue }; };\n\n// const getSwimlanes = (issues, epics) =>\n//   epics.map(epic => {\n//     const epicIssues = issues.filter(i => (i.epic || i.projectId) === epic.id);\n//     return { id: epic.id, title: epic.name, issues: epicIssues };\n//   });\n\n// export default function KanbanBoard() {\n//   const { projectId } = useParams();\n//   const [issues, setIssues] = useState([]);\n//   const [epics, setEpics] = useState([]);\n//   const [projectName, setProjectName] = useState('');\n//   const [openSwimlanes, setOpenSwimlanes] = useState({});\n//   const [customTitles, setCustomTitles] = useState({});\n//   const [createLaneId, setCreateLaneId] = useState(null);\n//   const [newTaskText, setNewTaskText] = useState('');\n//   const [newTaskType, setNewTaskType] = useState('Task');\n//   const [selectedIssue, setSelectedIssue] = useState(null);\n//   const [editIssue, setEditIssue] = useState(null);\n//   const [showCreateEpic, setShowCreateEpic] = useState(false);\n//   const [showDeleteEpic, setShowDeleteEpic] = useState(false);\n//   const [newEpicName, setNewEpicName] = useState('');\n//   const [epicToDelete, setEpicToDelete] = useState('');\n//   const [columnsByLane, setColumnsByLane] = useState({});\n//   const [columnModal, setColumnModal] = useState(null);\n//   const [columnInput, setColumnInput] = useState('');\n//   const [hoveredAssigneeId, setHoveredAssigneeId] = useState(null);\n//   const [modalPosition, setModalPosition] = useState({ top: 0, left: 0 });\n//   const [isMobile, setIsMobile] = useState(false);\n//   const [activeSwimlane, setActiveSwimlane] = useState(null);\n\n//   // Detect mobile screen size\n//   useEffect(() => {\n//     const checkScreenSize = () => {\n//       setIsMobile(window.innerWidth < 768);\n//     };\n\n//     checkScreenSize();\n//     window.addEventListener('resize', checkScreenSize);\n\n//     return () => window.removeEventListener('resize', checkScreenSize);\n//   }, []);\n\n//   useEffect(() => {\n//     const fetchData = async () => {\n//       try {\n//         const [issuesData, epicsData, projectNameData] = await Promise.all([\n//           listIssues(projectId), \n//           listEpics(), \n//           projectId ? getProjectName(projectId) : Promise.resolve('All Projects')\n//         ]);\n//         setIssues(issuesData);\n//         setEpics(epicsData);\n//         setProjectName(projectNameData);\n//         const lanes = getSwimlanes(issuesData, epicsData);\n//         const initialOpen = {}, initialTitles = {}, initialCols = {};\n//         lanes.forEach(lane => {\n//           initialOpen[lane.id] = true;\n//           initialTitles[lane.id] = lane.title;\n//           initialCols[lane.id] = defaultStatuses.slice();\n//         });\n//         setOpenSwimlanes(initialOpen);\n//         setCustomTitles(initialTitles);\n//         setColumnsByLane(initialCols);\n//       } catch (err) { console.error(err); }\n//     };\n//     fetchData();\n//   }, [projectId]);\n\n//   const openAddColumnModal = (e, laneId, colIndex) => {\n//     const rect = e.currentTarget.getBoundingClientRect();\n//     setModalPosition({ top: rect.bottom + window.scrollY + 8, left: rect.left + window.scrollX });\n//     setColumnModal({ laneId, colIndex, type: 'add' });\n//     setColumnInput('');\n//   };\n//   const openEditColumnModal = (e, laneId, colIndex, status) => {\n//     const rect = e.currentTarget.getBoundingClientRect();\n//     setModalPosition({ top: rect.bottom + window.scrollY + 8, left: rect.left + window.scrollX });\n//     setColumnModal({ laneId, colIndex, type: 'menu' });\n//     setColumnInput(status);\n//   };\n//   const handleAddColumn = () => {\n//     const name = columnInput.trim();\n//     if (!name) return alert('Column name is required');\n//     setColumnsByLane(prev => {\n//       const cols = [...prev[columnModal.laneId]];\n//       if (cols.includes(name.toLowerCase())) alert('Column name already exists');\n//       else cols.splice(columnModal.colIndex + 1, 0, name.toLowerCase());\n//       return { ...prev, [columnModal.laneId]: cols };\n//     });\n//     setColumnModal(null);\n//     setColumnInput('');\n//   };\n//   const handleEditColumn = () => {\n//     const name = columnInput.trim();\n//     if (!name) return alert('Column name is required');\n//     const { laneId, colIndex } = columnModal;\n//     const oldCol = columnsByLane[laneId][colIndex];\n//     if (columnsByLane[laneId].includes(name.toLowerCase()) && name.toLowerCase() !== oldCol) {\n//       alert('Column name already exists');\n//       return;\n//     }\n//     setColumnsByLane(prev => {\n//       const cols = [...prev[laneId]];\n//       cols[colIndex] = name.toLowerCase();\n//       return { ...prev, [laneId]: cols };\n//     });\n//     const updatedIssues = issues.map(issue =>\n//       (issue.epic || issue.projectId) === laneId && issue.status === oldCol ? { ...issue, status: name.toLowerCase() } : issue\n//     );\n//     setIssues(updatedIssues);\n//     setColumnModal(null);\n//     setColumnInput('');\n//   };\n//   const handleDeleteColumn = () => {\n//     const { laneId, colIndex } = columnModal;\n//     const removedCol = columnsByLane[laneId][colIndex];\n//     setColumnsByLane(prev => {\n//       const cols = [...prev[laneId]];\n//       cols.splice(colIndex, 1);\n//       return { ...prev, [laneId]: cols };\n//     });\n//     const updatedIssues = issues.map(issue =>\n//       (issue.epic || issue.projectId) === laneId && issue.status === removedCol ? { ...issue, status: 'backlog' } : issue\n//     );\n//     setIssues(updatedIssues);\n//     setColumnModal(null);\n//     setColumnInput('');\n//   };\n//   const toggleSwimlane = (id) => setOpenSwimlanes(prev => ({ ...prev, [id]: !prev[id] }));\n//   const byStatus = (collection, status) => collection.filter(i => i.status === status);\n\n//   const onDragStart = (e, issueId) => e.dataTransfer.setData('text/plain', issueId);\n//   const onDrop = async (e, targetStatus, swimlaneId) => {\n//     e.preventDefault();\n//     try {\n//       const issueId = e.dataTransfer.getData('text/plain');\n//       const issue = issues.find(i => i.id === issueId);\n//       const srcLaneId = issue.epic || issue.projectId;\n//       if (srcLaneId === swimlaneId && issue.status !== targetStatus) {\n//         await moveIssue(issueId, targetStatus);\n//         const refreshed = await listIssues(projectId);\n//         setIssues(refreshed);\n//       }\n//     } catch (err) { console.error(err); }\n//   };\n//   const onDragOver = e => e.preventDefault();\n\n//   const handleCreateClick = laneId => { setCreateLaneId(laneId); setNewTaskText(''); setNewTaskType('Task'); };\n//   const handleCreateSubmit = async lane => {\n//     if (!newTaskText.trim()) { alert('Task title is required'); return; }\n//     const newIssue = {\n//       id: Math.random().toString(36).slice(2),\n//       epic: lane.id,\n//       projectId: lane.id,\n//       epicName: lane.title,\n//       title: newTaskText,\n//       status: 'backlog',\n//       assignee: '',\n//       type: newTaskType,\n//       storyPoints: '',\n//       labels: [],\n//       dueDate: '',\n//       reporter: 'system',\n//       priority: 'Medium',\n//       startDate: new Date().toISOString().split('T')[0],\n//       description: '',\n//       subtasks: '',\n//       comments: ''\n//     };\n//     try {\n//       await createIssueAPI(newIssue);\n//       const refreshed = await listIssues(projectId);\n//       setIssues(refreshed);\n//       setCreateLaneId(null);\n//     } catch (err) { console.error(err); }\n//   };\n\n//   const handleOpenModal = (issue) => { setSelectedIssue(issue); setEditIssue({ ...issue }); };\n//   const handleUpdateField = (field, value) => { setEditIssue(prev => ({ ...prev, [field]: value })); };\n//   const handleSave = async () => { await updateIssueAPI(editIssue); const refreshed = await listIssues(projectId); setIssues(refreshed); setSelectedIssue(null); setEditIssue(null); };\n//   const handleReset = () => { setEditIssue({ ...selectedIssue }); };\n\n//   // Create Epic Modal Handlers\n//   const handleCreateEpic = async () => {\n//     if (!newEpicName.trim()) {\n//       alert('Epic name is required');\n//       return;\n//     }\n//     try {\n//       await createEpicAPI(newEpicName);\n//       const updatedEpics = await listEpics();\n//       setEpics(updatedEpics);\n//       setNewEpicName('');\n//       setShowCreateEpic(false);\n//       const newEpic = updatedEpics[updatedEpics.length - 1];\n//       setOpenSwimlanes(prev => ({ ...prev, [newEpic.id]: true }));\n//       setCustomTitles(prev => ({ ...prev, [newEpic.id]: newEpic.name }));\n//       setColumnsByLane(prev => ({ ...prev, [newEpic.id]: defaultStatuses.slice() }));\n//     } catch (error) {\n//       console.error('Error creating epic:', error);\n//     }\n//   };\n\n//   // Delete Epic Modal Handler\n//   const handleDeleteEpic = async () => {\n//     if (!epicToDelete) {\n//       alert('Please select an epic to delete');\n//       return;\n//     }\n//     if (!window.confirm(`Are you sure you want to delete the epic \"${epics.find(e => e.id === epicToDelete)?.name}\"? This will also delete all issues in this epic.`)) {\n//       return;\n//     }\n//     try {\n//       await deleteEpicAPI(epicToDelete);\n//       const [refreshedIssues, refreshedEpics] = await Promise.all([\n//         listIssues(projectId),\n//         listEpics()\n//       ]);\n//       setIssues(refreshedIssues);\n//       setEpics(refreshedEpics);\n//       setEpicToDelete('');\n//       setShowDeleteEpic(false);\n//       setColumnsByLane(prev => {\n//         const copy = { ...prev };\n//         delete copy[epicToDelete];\n//         return copy;\n//       });\n//       setOpenSwimlanes(prev => {\n//         const copy = { ...prev };\n//         delete copy[epicToDelete];\n//         return copy;\n//       });\n//       setCustomTitles(prev => {\n//         const copy = { ...prev };\n//         delete copy[epicToDelete];\n//         return copy;\n//       });\n//     } catch (error) {\n//       console.error('Error deleting epic:', error);\n//     }\n//   };\n\n//   // Mobile-specific functions\n//   const toggleMobileSwimlane = (laneId) => {\n//     if (activeSwimlane === laneId) {\n//       setActiveSwimlane(null);\n//     } else {\n//       setActiveSwimlane(laneId);\n//     }\n//   };\n\n//   const swimlanes = getSwimlanes(issues, epics);\n\n//   return (\n//     <div className=\"board-wrap\">\n//       {/* Project Name Header */}\n//       <div className=\"project-header\">\n//         <h1 className=\"project-title\">{projectName}</h1>\n//         <div className=\"project-stats\">\n//           <span className=\"project-stat\">{epics.length} Epics</span>\n//           <span className=\"project-stat\">{issues.length} Issues</span>\n//           <span className=\"project-stat\">\n//             {issues.filter(issue => issue.status === 'done').length} Completed\n//           </span>\n//         </div>\n//       </div>\n\n//       {/* Mobile swimlane selector */}\n//       {isMobile && (\n//         <div className=\"mobile-swimlane-selector\">\n//           <select \n//             value={activeSwimlane || ''} \n//             onChange={(e) => setActiveSwimlane(e.target.value || null)}\n//             className=\"mobile-select\"\n//           >\n//             <option value=\"\">All Swimlanes</option>\n//             {swimlanes.map(lane => (\n//               <option key={lane.id} value={lane.id}>{customTitles[lane.id] || lane.title}</option>\n//             ))}\n//           </select>\n//         </div>\n//       )}\n\n//       {/* Swimlanes and columns */}\n//       {swimlanes.map(lane => {\n//         const isOpen = isMobile ? (activeSwimlane === null || activeSwimlane === lane.id) : openSwimlanes[lane.id];\n//         const statuses = columnsByLane[lane.id] || defaultStatuses;\n\n//         // Skip rendering if mobile and this isn't the active swimlane\n//         if (isMobile && activeSwimlane && activeSwimlane !== lane.id) {\n//           return null;\n//         }\n\n//         return (\n//           <section className=\"swimlane\" key={lane.id}>\n//             <header className=\"swimlane-header\">\n//               {!isMobile && (\n//                 <button className=\"swimlane-toggle\" onClick={() => toggleSwimlane(lane.id)}>\n//                   {isOpen ? 'â–¼' : 'â–¶'}\n//                 </button>\n//               )}\n//               <span className=\"swimlane-icon\">âš¡</span>\n//               <input \n//                 className=\"swimlane-title-input\" \n//                 value={customTitles[lane.id] || ''} \n//                 onChange={e => setCustomTitles(prev => ({ ...prev, [lane.id]: e.target.value }))} \n//               />\n//               <span className=\"swimlane-count\">{lane.issues.length} work items</span>\n//               {isMobile && (\n//                 <button \n//                   className=\"mobile-swimlane-toggle\"\n//                   onClick={() => toggleMobileSwimlane(lane.id)}\n//                 >\n//                   {activeSwimlane === lane.id ? 'â–²' : 'â–¼'}\n//                 </button>\n//               )}\n//             </header>\n//             {isOpen && (\n//               <div className={`kanban-row ${isMobile ? 'mobile-view' : ''}`}>\n//                 {statuses.map((status, idx) => {\n//                   const issuesForStatus = byStatus(lane.issues, status);\n//                   return (\n//                     <div \n//                       className={`kanban-column ${isMobile ? 'mobile-column' : ''}`} \n//                       key={status} \n//                       onDragOver={onDragOver} \n//                       onDrop={e => onDrop(e, status, lane.id)}\n//                     >\n//                       <div className=\"col-header\">\n//                         <span className=\"col-title\">{status.toUpperCase()}</span>\n//                         {!isMobile && (\n//                           <span className=\"col-icons\">\n//                             <button className=\"col-icon\" title=\"Add Column\" onClick={e => openAddColumnModal(e, lane.id, idx)}>ï¼‹</button>\n//                             <button className=\"col-icon\" title=\"Edit/Delete Column\" onClick={e => openEditColumnModal(e, lane.id, idx, status)}>â‹®</button>\n//                           </span>\n//                         )}\n//                         {issuesForStatus.length > 0 && <span className=\"col-count\">{issuesForStatus.length}</span>}\n//                       </div>\n//                       <div className=\"col-create\">\n//                         {status === 'backlog' && (\n//                           createLaneId === lane.id ? (\n//                             <div className=\"create-card\">\n//                               <textarea rows={2} className=\"create-input\" placeholder=\"What needs to be done?\" value={newTaskText} onChange={e => setNewTaskText(e.target.value)} />\n//                               <div className=\"create-actions\">\n//                                 <select value={newTaskType} onChange={e => setNewTaskType(e.target.value)} className=\"create-select\">\n//                                   <option>Task</option><option>Subtask</option><option>Bug</option>\n//                                 </select>\n//                                 <button className=\"create-btn\" onClick={() => handleCreateSubmit(lane)}>âœ”</button>\n//                                 <button className=\"create-btn\" onClick={() => setCreateLaneId(null)}>âœ–</button>\n//                               </div>\n//                             </div>\n//                           ) : (<span className=\"create-link\" onClick={() => handleCreateClick(lane.id)}>+ Create</span>)\n//                         )}\n//                       </div>\n//                       {issuesForStatus.map(issue => {\n//                         const isHovered = hoveredAssigneeId === issue.id;\n//                         return (\n//                           <div className=\"card-item\" key={issue.id} draggable onDragStart={e => onDragStart(e, issue.id)} onClick={() => handleOpenModal(issue)}>\n//                             <div className=\"card-top\">\n//                               <span className={`card-tag card-tag-${issue.type.toLowerCase()}`}>{issue.type}</span>\n//                               <span className=\"card-id\">{issue.id}</span>\n//                             </div>\n//                             <div className=\"card-title\">{issue.title}</div>\n//                             <div className=\"card-meta\">\n//                               {issue.dueDate && <span className=\"card-due\">ðŸ“… {issue.dueDate}</span>}\n//                               <span className={`card-priority ${issue.priority.toLowerCase()}`}>âš‘ {issue.priority}</span>\n//                               {issue.assignee && (\n//                                 <span className=\"card-assignee\" onMouseEnter={() => setHoveredAssigneeId(issue.id)} onMouseLeave={() => setHoveredAssigneeId(null)} style={{ position: 'relative', cursor: 'default', userSelect: 'none' }}>\n//                                   ðŸ‘¤\n//                                   {isHovered && <div className=\"assignee-tooltip\">{issue.assignee}</div>}\n//                                 </span>\n//                               )}\n//                             </div>\n//                           </div>\n//                         );\n//                       })}\n//                     </div>\n//                   );\n//                 })}\n//               </div>\n//             )}\n//           </section>\n//         );\n//       })}\n\n//       {/* Column Add/Edit modal */}\n//       {columnModal && (columnModal.type === 'add' || columnModal.type === 'menu') && (\n//         <div className=\"epic-modal-overlay\" onClick={() => setColumnModal(null)} style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, zIndex: 1000 }}>\n//           <div className=\"epic-modal\" onClick={e => e.stopPropagation()} style={{\n//             position: isMobile ? 'fixed' : 'absolute',\n//             top: isMobile ? '50%' : modalPosition.top,\n//             left: isMobile ? '50%' : modalPosition.left,\n//             transform: isMobile ? 'translate(-50%, -50%)' : 'translateX(-50%)',\n//             minWidth: isMobile ? '90vw' : 280,\n//             maxWidth: isMobile ? '95vw' : 320,\n//             padding: 20,\n//             borderRadius: 10,\n//             background: 'white',\n//             boxShadow: '0 10px 40px rgba(0,0,0,0.3)',\n//             zIndex: 1100\n//           }}>\n//             {columnModal.type === 'add' ? (\n//               <>\n//                 <h3 style={{ marginBottom: 15, fontWeight: 600, fontSize: 20, color: '#172b4d' }}>Add Column</h3>\n//                 <input value={columnInput} onChange={e => setColumnInput(e.target.value)} placeholder=\"Column name\" autoFocus className=\"epic-modal-input\" style={{ width: '100%', padding: 12, fontSize: 16, borderRadius: 6, border: '1px solid #dfe1e5', marginBottom: 20, boxSizing: 'border-box' }} />\n//                 <div className=\"epic-modal-actions\" style={{ display: 'flex', justifyContent: 'flex-end', gap: 12, flexWrap: isMobile ? 'wrap' : 'nowrap' }}>\n//                   <button className=\"btn-cancel\" onClick={() => setColumnModal(null)} style={btnStyle.cancel}>Cancel</button>\n//                   <button className=\"btn-create\" onClick={handleAddColumn} style={btnStyle.create}>Add</button>\n//                 </div>\n//               </>\n//             ) : (\n//               <>\n//                 <h3 style={{ marginBottom: 15, fontWeight: 600, fontSize: 20, color: '#172b4d' }}>Edit/Delete Column</h3>\n//                 <input value={columnInput} onChange={e => setColumnInput(e.target.value)} placeholder=\"Column name\" autoFocus className=\"epic-modal-input\" style={{ width: '100%', padding: 12, fontSize: 16, borderRadius: 6, border: '1px solid #dfe1e5', marginBottom: 20, boxSizing: 'border-box' }} />\n//                 <div className=\"epic-modal-actions\" style={{ display: 'flex', justifyContent: 'flex-end', gap: 12, flexWrap: isMobile ? 'wrap' : 'nowrap' }}>\n//                   <button className=\"btn-save\" onClick={handleEditColumn} style={btnStyle.create}>Rename</button>\n//                   <button className=\"btn-delete\" onClick={handleDeleteColumn} style={btnStyle.delete}>Delete</button>\n//                   <button className=\"btn-cancel\" onClick={() => setColumnModal(null)} style={btnStyle.cancel}>Cancel</button>\n//                 </div>\n//               </>\n//             )}\n//           </div>\n//         </div>\n//       )}\n\n//       {/* Issue modal */}\n//       {selectedIssue && editIssue && (\n//         <div className=\"modal-overlay\" onClick={() => setSelectedIssue(null)}>\n//           <div className={`modal ${isMobile ? 'mobile-modal' : ''}`} onClick={e => e.stopPropagation()}>\n//             <div className=\"modal-header\">\n//               <h2>{editIssue.epicName}</h2>\n//               <button className=\"modal-close-btn\" onClick={() => setSelectedIssue(null)}>âœ–</button>\n//             </div>\n//             <div className={`modal-content ${isMobile ? 'mobile-modal-content' : ''}`}>\n//               <div className=\"modal-field\"><label>Title</label><input value={editIssue.title} onChange={e => handleUpdateField('title', e.target.value)} /></div>\n//               <div className=\"modal-field\"><label>Description</label><textarea value={editIssue.description} onChange={e => handleUpdateField('description', e.target.value)} /></div>\n//               <div className=\"modal-field\"><label>Subtasks</label><input value={editIssue.subtasks} onChange={e => handleUpdateField('subtasks', e.target.value)} /></div>\n//               <div className=\"modal-field\"><label>Comments</label><textarea value={editIssue.comments} onChange={e => handleUpdateField('comments', e.target.value)} /></div>\n//               <div className=\"modal-field\"><label>Status</label>\n//                 <select value={editIssue.status} onChange={e => handleUpdateField('status', e.target.value)}>\n//                   {columnsByLane[editIssue.epic]?.map(st => <option key={st} value={st}>{st}</option>) || defaultStatuses.map(st => <option key={st} value={st}>{st}</option>)}\n//                 </select>\n//               </div>\n//               <div className=\"modal-field\"><label>Assignee</label><input value={editIssue.assignee} onChange={e => handleUpdateField('assignee', e.target.value)} /></div>\n//               <div className=\"modal-field\"><label>Reporter</label><input disabled value={editIssue.reporter} /></div>\n//               <div className=\"modal-field\"><label>Priority</label>\n//                 <select value={editIssue.priority} onChange={e => handleUpdateField('priority', e.target.value)}>\n//                   <option>Low</option><option>Medium</option><option>High</option>\n//                 </select>\n//               </div>\n//               <div className=\"modal-field\"><label>Due Date</label><input type=\"date\" value={editIssue.dueDate} onChange={e => handleUpdateField('dueDate', e.target.value)} /></div>\n//               <div className=\"modal-field\"><label>Start Date</label><input type=\"date\" value={editIssue.startDate} onChange={e => handleUpdateField('startDate', e.target.value)} /></div>\n//             </div>\n//             <div className=\"modal-actions\" style={{ gridColumn: \"span 3\", alignItems: 'center' }}>\n//               <button className=\"btn-reset\" onClick={handleReset}>Reset</button>\n//               <button className=\"btn-save\" onClick={handleSave}>Save</button>\n//               <button className=\"modal-delete-btn\" onClick={async () => {\n//                 if (window.confirm('Delete this issue?')) {\n//                   await deleteIssueAPI(selectedIssue.id);\n//                   const refreshed = await listIssues(projectId);\n//                   setIssues(refreshed);\n//                   setSelectedIssue(null);\n//                 }\n//               }}>ðŸ—‘</button>\n//             </div>\n//           </div>\n//         </div>\n//       )}\n\n//       {/* Inline CSS styles */}\n//       <style>{`\n//         /* Base styles */\n//         body {\n//           font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n//           background-color: #f5f6f8;\n//           margin: 0;\n//           padding: 16px;\n//         }\n//         .board-wrap {\n//           max-width: 100%;\n//           overflow-x: auto;\n//         }\n\n//         /* Project Header Styles */\n//         .project-header {\n//           background: white;\n//           border-radius: 8px;\n//           padding: 20px 24px;\n//           margin-bottom: 20px;\n//           box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n//           border-left: 4px solid #1976d2;\n//         }\n\n//         .project-title {\n//           margin: 0 0 12px 0;\n//           font-size: 28px;\n//           font-weight: 700;\n//           color: #172b4d;\n//           line-height: 1.2;\n//         }\n\n//         .project-stats {\n//           display: flex;\n//           gap: 20px;\n//           flex-wrap: wrap;\n//         }\n\n//         .project-stat {\n//           background: #f5f6f8;\n//           padding: 6px 12px;\n//           border-radius: 16px;\n//           font-size: 14px;\n//           font-weight: 600;\n//           color: #5e6c84;\n//           display: flex;\n//           align-items: center;\n//           gap: 4px;\n//         }\n\n//         .project-stat:before {\n//           content: \"â€¢\";\n//           color: #1976d2;\n//           font-weight: bold;\n//         }\n\n//         /* Desktop styles */\n//         @media (min-width: 768px) {\n//           .swimlane {\n//             background: white;\n//             border-radius: 8px;\n//             margin-bottom: 16px;\n//             box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n//             overflow: hidden;\n//           }\n\n//           .kanban-row {\n//             display: flex;\n//             padding: 16px;\n//             gap: 12px;\n//             overflow-x: auto;\n//           }\n\n//           .kanban-column {\n//             flex: 0 0 260px;\n//             background: #f5f6f8;\n//             border-radius: 6px;\n//             padding: 12px;\n//             display: flex;\n//             flex-direction: column;\n//             gap: 12px;\n//             border: 1px solid #dfe5e5;\n//             user-select: none;\n//             min-height: 400px;\n//           }\n\n//           .modal {\n//             background: white;\n//             border-radius: 8px;\n//             padding: 24px;\n//             width: 700px;\n//             max-height: 80vh;\n//             display: grid;\n//             grid-template-columns: 1fr 1fr 1fr;\n//             gap: 16px;\n//             overflow-y: auto;\n//             position: relative;\n//           }\n//         }\n\n//         /* Mobile styles */\n//         @media (max-width: 767px) {\n//           body {\n//             padding: 8px;\n//           }\n\n//           .project-header {\n//             padding: 16px;\n//             margin-bottom: 16px;\n//             border-left-width: 3px;\n//           }\n\n//           .project-title {\n//             font-size: 22px;\n//             margin-bottom: 10px;\n//           }\n\n//           .project-stats {\n//             gap: 12px;\n//           }\n\n//           .project-stat {\n//             font-size: 12px;\n//             padding: 4px 10px;\n//           }\n\n//           .mobile-swimlane-selector {\n//             margin-bottom: 16px;\n//             position: sticky;\n//             top: 0;\n//             background: white;\n//             padding: 12px;\n//             border-radius: 8px;\n//             box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n//             z-index: 100;\n//           }\n\n//           .mobile-select {\n//             width: 100%;\n//             padding: 12px;\n//             border: 1px solid #dfe5e5;\n//             border-radius: 6px;\n//             font-size: 16px;\n//             background: white;\n//           }\n\n//           .swimlane {\n//             background: white;\n//             border-radius: 8px;\n//             margin-bottom: 12px;\n//             box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n//             overflow: hidden;\n//           }\n\n//           .swimlane-header {\n//             display: flex;\n//             align-items: center;\n//             padding: 12px;\n//             background: #fafbfc;\n//             border-bottom: 1px solid #dfe5e5;\n//             font-weight: 600;\n//             font-size: 14px;\n//             color: #172b4d;\n//             position: relative;\n//           }\n\n//           .mobile-swimlane-toggle {\n//             background: none;\n//             border: none;\n//             font-size: 16px;\n//             color: #5e6c84;\n//             margin-left: auto;\n//             padding: 4px 8px;\n//           }\n\n//           .kanban-row.mobile-view {\n//             display: block;\n//             padding: 8px;\n//             overflow-x: auto;\n//             white-space: nowrap;\n//           }\n\n//           .kanban-column.mobile-column {\n//             display: inline-block;\n//             vertical-align: top;\n//             width: 280px;\n//             margin-right: 8px;\n//             background: #f5f6f8;\n//             border-radius: 6px;\n//             padding: 8px;\n//             border: 1px solid #dfe5e5;\n//             user-select: none;\n//             min-height: 300px;\n//           }\n\n//           .col-header {\n//             display: flex;\n//             align-items: center;\n//             margin-bottom: 8px;\n//             gap: 6px;\n//           }\n\n//           .col-title {\n//             font-weight: 600;\n//             font-size: 11px;\n//             color: #5e6c84;\n//             text-transform: uppercase;\n//             letter-spacing: 0.5px;\n//             flex-grow: 1;\n//           }\n\n//           .card-item {\n//             background: white;\n//             border-radius: 6px;\n//             padding: 10px;\n//             box-shadow: 0 0 2px rgba(0,0,0,0.1);\n//             cursor: pointer;\n//             user-select: none;\n//             display: flex;\n//             flex-direction: column;\n//             gap: 6px;\n//             border: 1px solid #dfe5e5;\n//             margin-bottom: 8px;\n//           }\n\n//           .card-title {\n//             font-weight: 600;\n//             font-size: 13px;\n//             color: #2b3a59;\n//             line-height: 1.3;\n//           }\n\n//           .card-meta {\n//             display: flex;\n//             gap: 6px;\n//             font-size: 10px;\n//             color: #6b7c93;\n//             align-items: center;\n//             flex-wrap: wrap;\n//           }\n\n//           .modal.mobile-modal {\n//             width: 95vw;\n//             max-height: 90vh;\n//             padding: 16px;\n//             display: flex;\n//             flex-direction: column;\n//           }\n\n//           .modal-content.mobile-modal-content {\n//             display: flex;\n//             flex-direction: column;\n//             gap: 12px;\n//             overflow-y: auto;\n//           }\n\n//           .modal-field {\n//             display: flex;\n//             flex-direction: column;\n//             gap: 4px;\n//           }\n\n//           .modal-field input, .modal-field textarea, .modal-field select {\n//             padding: 10px;\n//             font-size: 16px; /* Better for mobile touch */\n//           }\n\n//           .modal-actions {\n//             display: flex;\n//             gap: 8px;\n//             justify-content: space-between;\n//             margin-top: 16px;\n//           }\n\n//           .modal-actions button {\n//             flex: 1;\n//             padding: 12px;\n//             font-size: 16px;\n//           }\n//         }\n\n//         /* Common styles (applied to both desktop and mobile) */\n//         .swimlane-header {\n//           display: flex;\n//           align-items: center;\n//           padding: 12px 16px;\n//           background: #fafbfc;\n//           border-bottom: 1px solid #dfe5e5;\n//           font-weight: 600;\n//           font-size: 14px;\n//           color: #172b4d;\n//         }\n\n//         .swimlane-toggle, .swimlane-icon {\n//           color: #5e6c84;\n//           margin-right: 8px;\n//           cursor: pointer;\n//         }\n\n//         .swimlane-toggle {\n//           border: none;\n//           background: transparent;\n//           font-size: 14px;\n//         }\n\n//         .swimlane-icon {\n//           font-size: 18px;\n//         }\n\n//         .swimlane-title-input {\n//           border: 1px solid #dfe5e5;\n//           border-radius: 4px;\n//           padding: 4px 8px;\n//           font-size: 14px;\n//           font-weight: 600;\n//           background: white;\n//           margin-right: 8px;\n//           min-width: 150px;\n//           color: #172b4d;\n//         }\n\n//         .swimlane-title-input:focus {\n//           outline: none;\n//           border-color: #1976d2;\n//         }\n\n//         .swimlane-count {\n//           color: #5e6c84;\n//           font-size: 12px;\n//           font-weight: normal;\n//         }\n\n//         .col-header {\n//           display: flex;\n//           align-items: center;\n//           margin-bottom: 4px;\n//           gap: 6px;\n//         }\n\n//         .col-title {\n//           font-weight: 600;\n//           font-size: 12px;\n//           color: #5e6c84;\n//           text-transform: uppercase;\n//           letter-spacing: 0.5px;\n//           flex-grow: 1;\n//         }\n\n//         .col-count {\n//           background: #dfe5e5;\n//           color: #5e6c84;\n//           border-radius: 12px;\n//           padding: 2px 8px;\n//           font-size: 11px;\n//           font-weight: 600;\n//           min-width: 20px;\n//           text-align: center;\n//         }\n\n//         .col-icons {\n//           display: flex;\n//           gap: 6px;\n//         }\n\n//         .col-icon {\n//           cursor: pointer;\n//           color: #5e6c84;\n//           font-size: 18px;\n//           background: none;\n//           border: none;\n//           padding: 0;\n//         }\n\n//         .create-card {\n//           background: white;\n//           padding: 10px;\n//           border-radius: 6px;\n//           box-shadow: 0 0 2px rgba(0, 0, 0, 0.2);\n//           display: flex;\n//           flex-direction: column;\n//           gap: 10px;\n//         }\n\n//         .card-item {\n//           background: white;\n//           border-radius: 8px;\n//           padding: 12px;\n//           box-shadow: 0 0 2px rgba(0,0,0,0.1);\n//           cursor: pointer;\n//           user-select: none;\n//           display: flex;\n//           flex-direction: column;\n//           gap: 6px;\n//           border: 1px solid #dfe5e5;\n//           transition: box-shadow 0.2s ease, border-color 0.2s ease;\n//         }\n\n//         .card-item:hover {\n//           box-shadow: 0px 2px 10px rgba(0,0,0,0.15);\n//           border-color: #a2adba;\n//         }\n\n//         .modal-overlay {\n//           position: fixed;\n//           top: 0; left: 0; right: 0; bottom: 0;\n//           background: rgba(0,0,0,0.5);\n//           display: flex;\n//           align-items: center;\n//           justify-content: center;\n//           z-index: 1000;\n//         }\n\n//         /* Button styles */\n//         button {\n//           cursor: pointer;\n//           transition: background-color 0.2s;\n//         }\n\n//         button:hover {\n//           opacity: 0.9;\n//         }\n\n//         /* Touch improvements for mobile */\n//         @media (max-width: 767px) {\n//           button, .card-item, .col-icon {\n//             min-height: 44px;\n//             min-width: 44px;\n//           }\n\n//           .card-item {\n//             touch-action: manipulation;\n//           }\n//         }\n//       `}</style>\n//     </div>\n//   );\n// }\n\n// const btnStyle = {\n//   cancel: {\n//     padding: '10px 18px',\n//     borderRadius: '6px',\n//     border: 'none',\n//     backgroundColor: '#5e6c84',\n//     color: 'white',\n//     fontWeight: '600',\n//     fontSize: '14px',\n//     cursor: 'pointer'\n//   },\n//   create: {\n//     padding: '10px 18px',\n//     borderRadius: '6px',\n//     border: 'none',\n//     backgroundColor: '#1976d2',\n//     color: 'white',\n//     fontWeight: '600',\n//     fontSize: '14px',\n//     cursor: 'pointer'\n//   },\n//   delete: {\n//     padding: '10px 18px',\n//     borderRadius: '6px',\n//     border: 'none',\n//     backgroundColor: '#d32f2f',\n//     color: 'white',\n//     fontWeight: '600',\n//     fontSize: '14px',\n//     cursor: 'pointer'\n//   }\n// };\n\n// for board name","map":{"version":3,"names":[],"sources":["C:/Users/battina srinuvasurao/OneDrive/Desktop/userstool/src/components/boards/KanbanBoard.js"],"sourcesContent":["\r\n// //////////////////////////////////////////////////////////////////\r\n// //for updated the ticket\r\n\r\n// import React, { useEffect, useState } from 'react';\r\n// import { useParams } from 'react-router-dom';\r\n\r\n// const mockIssues = [\r\n//   { id: 'i1', epic: 'p1', epicName: 'Frontend', status: 'todo', type: 'Task', title: 'Setup repo', assignee: 'John Doe', storyPoints: 3, labels: [], dueDate: '2025-09-30', reporter: 'admin', priority: 'High', startDate: '2025-09-15', description: '', subtasks: '', comments: '' },\r\n//   { id: 'i3', epic: 'p2', epicName: 'Middleware', status: 'todo', type: 'Subtask', title: 'API integration', assignee: 'Jane Smith', storyPoints: 2, labels: [], dueDate: '', reporter: 'lead-dev', priority: 'Low', startDate: '2025-09-18', description: '', subtasks: '', comments: '' }\r\n// ];\r\n\r\n// const defaultStatuses = ['backlog', 'todo', 'analysis', 'inprogress', 'blocked', 'code review', 'qa', 'milestone', 'done'];\r\n// const mockEpics = [{ id: 'p1', name: 'Frontend' }, { id: 'p2', name: 'Middleware' }];\r\n\r\n// const simulateApiDelay = () => new Promise(resolve => setTimeout(resolve, 200));\r\n// const listIssues = async (projectId) => {\r\n//   await simulateApiDelay();\r\n//   return mockIssues.filter(i => !projectId || i.epic === projectId || i.projectId === projectId);\r\n// };\r\n// const listEpics = async () => { await simulateApiDelay(); return mockEpics; };\r\n// const createEpicAPI = async (epicName) => {\r\n//   await simulateApiDelay();\r\n//   const newEpic = { id: 'p' + (mockEpics.length + 1), name: epicName };\r\n//   mockEpics.push(newEpic);\r\n//   return newEpic;\r\n// };\r\n// const deleteEpicAPI = async (epicId) => {\r\n//   await simulateApiDelay();\r\n//   const epicIndex = mockEpics.findIndex(epic => epic.id === epicId);\r\n//   if (epicIndex > -1) mockEpics.splice(epicIndex, 1);\r\n//   const issueIndices = [];\r\n//   mockIssues.forEach((issue, index) => { if (issue.epic === epicId) issueIndices.push(index); });\r\n//   issueIndices.sort((a, b) => b - a).forEach(index => { mockIssues.splice(index, 1); });\r\n// };\r\n// const moveIssue = async (issueId, status) => {\r\n//   await simulateApiDelay();\r\n//   const issue = mockIssues.find(i => i.id === issueId);\r\n//   if (!issue) throw new Error('Issue not found');\r\n//   issue.status = status;\r\n// };\r\n// const createIssueAPI = async (issue) => { await simulateApiDelay(); mockIssues.push(issue); };\r\n// const deleteIssueAPI = async (issueId) => { await simulateApiDelay(); const idx = mockIssues.findIndex(i => i.id === issueId); if (idx > -1) mockIssues.splice(idx, 1); };\r\n// const updateIssueAPI = async (updatedIssue) => { await simulateApiDelay(); const idx = mockIssues.findIndex(i => i.id === updatedIssue.id); if (idx > -1) mockIssues[idx] = { ...mockIssues[idx], ...updatedIssue }; };\r\n\r\n// const getSwimlanes = (issues, epics) =>\r\n//   epics.map(epic => {\r\n//     const epicIssues = issues.filter(i => (i.epic || i.projectId) === epic.id);\r\n//     return { id: epic.id, title: epic.name, issues: epicIssues };\r\n//   });\r\n\r\n// export default function KanbanBoard() {\r\n//   const { projectId } = useParams();\r\n//   const [issues, setIssues] = useState([]);\r\n//   const [epics, setEpics] = useState([]);\r\n//   const [openSwimlanes, setOpenSwimlanes] = useState({});\r\n//   const [customTitles, setCustomTitles] = useState({});\r\n//   const [createLaneId, setCreateLaneId] = useState(null);\r\n//   const [newTaskText, setNewTaskText] = useState('');\r\n//   const [newTaskType, setNewTaskType] = useState('Task');\r\n//   const [selectedIssue, setSelectedIssue] = useState(null);\r\n//   const [editIssue, setEditIssue] = useState(null);\r\n//   const [showCreateEpic, setShowCreateEpic] = useState(false);\r\n//   const [showDeleteEpic, setShowDeleteEpic] = useState(false);\r\n//   const [newEpicName, setNewEpicName] = useState('');\r\n//   const [epicToDelete, setEpicToDelete] = useState('');\r\n//   const [columnsByLane, setColumnsByLane] = useState({});\r\n//   const [columnModal, setColumnModal] = useState(null);\r\n//   const [columnInput, setColumnInput] = useState('');\r\n//   const [hoveredAssigneeId, setHoveredAssigneeId] = useState(null);\r\n//   const [modalPosition, setModalPosition] = useState({ top: 0, left: 0 });\r\n\r\n//   useEffect(() => {\r\n//     const fetchData = async () => {\r\n//       try {\r\n//         const [issuesData, epicsData] = await Promise.all([listIssues(projectId), listEpics()]);\r\n//         setIssues(issuesData);\r\n//         setEpics(epicsData);\r\n//         const lanes = getSwimlanes(issuesData, epicsData);\r\n//         const initialOpen = {}, initialTitles = {}, initialCols = {};\r\n//         lanes.forEach(lane => {\r\n//           initialOpen[lane.id] = true;\r\n//           initialTitles[lane.id] = lane.title;\r\n//           initialCols[lane.id] = defaultStatuses.slice();\r\n//         });\r\n//         setOpenSwimlanes(initialOpen);\r\n//         setCustomTitles(initialTitles);\r\n//         setColumnsByLane(initialCols);\r\n//       } catch (err) { console.error(err); }\r\n//     };\r\n//     fetchData();\r\n//   }, [projectId]);\r\n\r\n//   const openAddColumnModal = (e, laneId, colIndex) => {\r\n//     const rect = e.currentTarget.getBoundingClientRect();\r\n//     setModalPosition({ top: rect.bottom + window.scrollY + 8, left: rect.left + window.scrollX });\r\n//     setColumnModal({ laneId, colIndex, type: 'add' });\r\n//     setColumnInput('');\r\n//   };\r\n//   const openEditColumnModal = (e, laneId, colIndex, status) => {\r\n//     const rect = e.currentTarget.getBoundingClientRect();\r\n//     setModalPosition({ top: rect.bottom + window.scrollY + 8, left: rect.left + window.scrollX });\r\n//     setColumnModal({ laneId, colIndex, type: 'menu' });\r\n//     setColumnInput(status);\r\n//   };\r\n//   const handleAddColumn = () => {\r\n//     const name = columnInput.trim();\r\n//     if (!name) return alert('Column name is required');\r\n//     setColumnsByLane(prev => {\r\n//       const cols = [...prev[columnModal.laneId]];\r\n//       if (cols.includes(name.toLowerCase())) alert('Column name already exists');\r\n//       else cols.splice(columnModal.colIndex + 1, 0, name.toLowerCase());\r\n//       return { ...prev, [columnModal.laneId]: cols };\r\n//     });\r\n//     setColumnModal(null);\r\n//     setColumnInput('');\r\n//   };\r\n//   const handleEditColumn = () => {\r\n//     const name = columnInput.trim();\r\n//     if (!name) return alert('Column name is required');\r\n//     const { laneId, colIndex } = columnModal;\r\n//     const oldCol = columnsByLane[laneId][colIndex];\r\n//     if (columnsByLane[laneId].includes(name.toLowerCase()) && name.toLowerCase() !== oldCol) {\r\n//       alert('Column name already exists');\r\n//       return;\r\n//     }\r\n//     setColumnsByLane(prev => {\r\n//       const cols = [...prev[laneId]];\r\n//       cols[colIndex] = name.toLowerCase();\r\n//       return { ...prev, [laneId]: cols };\r\n//     });\r\n//     const updatedIssues = issues.map(issue =>\r\n//       (issue.epic || issue.projectId) === laneId && issue.status === oldCol ? { ...issue, status: name.toLowerCase() } : issue\r\n//     );\r\n//     setIssues(updatedIssues);\r\n//     setColumnModal(null);\r\n//     setColumnInput('');\r\n//   };\r\n//   const handleDeleteColumn = () => {\r\n//     const { laneId, colIndex } = columnModal;\r\n//     const removedCol = columnsByLane[laneId][colIndex];\r\n//     setColumnsByLane(prev => {\r\n//       const cols = [...prev[laneId]];\r\n//       cols.splice(colIndex, 1);\r\n//       return { ...prev, [laneId]: cols };\r\n//     });\r\n//     const updatedIssues = issues.map(issue =>\r\n//       (issue.epic || issue.projectId) === laneId && issue.status === removedCol ? { ...issue, status: 'backlog' } : issue\r\n//     );\r\n//     setIssues(updatedIssues);\r\n//     setColumnModal(null);\r\n//     setColumnInput('');\r\n//   };\r\n//   const toggleSwimlane = (id) => setOpenSwimlanes(prev => ({ ...prev, [id]: !prev[id] }));\r\n//   const byStatus = (collection, status) => collection.filter(i => i.status === status);\r\n\r\n//   const onDragStart = (e, issueId) => e.dataTransfer.setData('text/plain', issueId);\r\n//   const onDrop = async (e, targetStatus, swimlaneId) => {\r\n//     e.preventDefault();\r\n//     try {\r\n//       const issueId = e.dataTransfer.getData('text/plain');\r\n//       const issue = issues.find(i => i.id === issueId);\r\n//       const srcLaneId = issue.epic || issue.projectId;\r\n//       if (srcLaneId === swimlaneId && issue.status !== targetStatus) {\r\n//         await moveIssue(issueId, targetStatus);\r\n//         const refreshed = await listIssues(projectId);\r\n//         setIssues(refreshed);\r\n//       }\r\n//     } catch (err) { console.error(err); }\r\n//   };\r\n//   const onDragOver = e => e.preventDefault();\r\n\r\n//   const handleCreateClick = laneId => { setCreateLaneId(laneId); setNewTaskText(''); setNewTaskType('Task'); };\r\n//   const handleCreateSubmit = async lane => {\r\n//     if (!newTaskText.trim()) { alert('Task title is required'); return; }\r\n//     const newIssue = {\r\n//       id: Math.random().toString(36).slice(2),\r\n//       epic: lane.id,\r\n//       projectId: lane.id,\r\n//       epicName: lane.title,\r\n//       title: newTaskText,\r\n//       status: 'backlog',\r\n//       assignee: '',\r\n//       type: newTaskType,\r\n//       storyPoints: '',\r\n//       labels: [],\r\n//       dueDate: '',\r\n//       reporter: 'system',\r\n//       priority: 'Medium',\r\n//       startDate: new Date().toISOString().split('T')[0],\r\n//       description: '',\r\n//       subtasks: '',\r\n//       comments: ''\r\n//     };\r\n//     try {\r\n//       await createIssueAPI(newIssue);\r\n//       const refreshed = await listIssues(projectId);\r\n//       setIssues(refreshed);\r\n//       setCreateLaneId(null);\r\n//     } catch (err) { console.error(err); }\r\n//   };\r\n\r\n//   const handleOpenModal = (issue) => { setSelectedIssue(issue); setEditIssue({ ...issue }); };\r\n//   const handleUpdateField = (field, value) => { setEditIssue(prev => ({ ...prev, [field]: value })); };\r\n//   const handleSave = async () => { await updateIssueAPI(editIssue); const refreshed = await listIssues(projectId); setIssues(refreshed); setSelectedIssue(null); setEditIssue(null); };\r\n//   const handleReset = () => { setEditIssue({ ...selectedIssue }); };\r\n\r\n//   // Create Epic Modal Handlers\r\n//   const handleCreateEpic = async () => {\r\n//     if (!newEpicName.trim()) {\r\n//       alert('Epic name is required');\r\n//       return;\r\n//     }\r\n//     try {\r\n//       await createEpicAPI(newEpicName);\r\n//       const updatedEpics = await listEpics();\r\n//       setEpics(updatedEpics);\r\n//       setNewEpicName('');\r\n//       setShowCreateEpic(false);\r\n//       const newEpic = updatedEpics[updatedEpics.length - 1];\r\n//       setOpenSwimlanes(prev => ({ ...prev, [newEpic.id]: true }));\r\n//       setCustomTitles(prev => ({ ...prev, [newEpic.id]: newEpic.name }));\r\n//       setColumnsByLane(prev => ({ ...prev, [newEpic.id]: defaultStatuses.slice() }));\r\n//     } catch (error) {\r\n//       console.error('Error creating epic:', error);\r\n//     }\r\n//   };\r\n\r\n//   // Delete Epic Modal Handler\r\n//   const handleDeleteEpic = async () => {\r\n//     if (!epicToDelete) {\r\n//       alert('Please select an epic to delete');\r\n//       return;\r\n//     }\r\n//     if (!window.confirm(`Are you sure you want to delete the epic \"${epics.find(e => e.id === epicToDelete)?.name}\"? This will also delete all issues in this epic.`)) {\r\n//       return;\r\n//     }\r\n//     try {\r\n//       await deleteEpicAPI(epicToDelete);\r\n//       const [refreshedIssues, refreshedEpics] = await Promise.all([\r\n//         listIssues(projectId),\r\n//         listEpics()\r\n//       ]);\r\n//       setIssues(refreshedIssues);\r\n//       setEpics(refreshedEpics);\r\n//       setEpicToDelete('');\r\n//       setShowDeleteEpic(false);\r\n//       setColumnsByLane(prev => {\r\n//         const copy = { ...prev };\r\n//         delete copy[epicToDelete];\r\n//         return copy;\r\n//       });\r\n//       setOpenSwimlanes(prev => {\r\n//         const copy = { ...prev };\r\n//         delete copy[epicToDelete];\r\n//         return copy;\r\n//       });\r\n//       setCustomTitles(prev => {\r\n//         const copy = { ...prev };\r\n//         delete copy[epicToDelete];\r\n//         return copy;\r\n//       });\r\n//     } catch (error) {\r\n//       console.error('Error deleting epic:', error);\r\n//     }\r\n//   };\r\n\r\n//   const swimlanes = getSwimlanes(issues, epics);\r\n\r\n//   return (\r\n//     <div className=\"board-wrap\">\r\n//       {/* Epic management buttons */}\r\n//       <div className=\"epic-management-section\">\r\n//         <div className=\"epic-buttons-container\">\r\n//           {/* <button className=\"create-epic-btn\" onClick={() => { setShowCreateEpic(true); setShowDeleteEpic(false); }}>+ Create Epic</button>\r\n//           <button className=\"delete-epic-btn\" onClick={() => { setShowDeleteEpic(true); setShowCreateEpic(false); }}>ðŸ—‘ Delete Epic</button> */}\r\n//         </div>\r\n        \r\n//       </div>\r\n\r\n//       {/* Swimlanes and columns */}\r\n//       {swimlanes.map(lane => {\r\n//         const isOpen = openSwimlanes[lane.id];\r\n//         const statuses = columnsByLane[lane.id] || defaultStatuses;\r\n//         return (\r\n//           <section className=\"swimlane\" key={lane.id}>\r\n//             <header className=\"swimlane-header\">\r\n//               <button className=\"swimlane-toggle\" onClick={() => toggleSwimlane(lane.id)}>{isOpen ? 'â–¼' : 'â–¶'}</button>\r\n//               <span className=\"swimlane-icon\">âš¡</span>\r\n//               <input className=\"swimlane-title-input\" value={customTitles[lane.id] || ''} onChange={e => setCustomTitles(prev => ({ ...prev, [lane.id]: e.target.value }))} />\r\n//               <span className=\"swimlane-count\">{lane.issues.length} work items</span>\r\n//             </header>\r\n//             {isOpen && (\r\n//               <div className=\"kanban-row\">\r\n//                 {statuses.map((status, idx) => {\r\n//                   const issuesForStatus = byStatus(lane.issues, status);\r\n//                   return (\r\n//                     <div className=\"kanban-column\" key={status} onDragOver={onDragOver} onDrop={e => onDrop(e, status, lane.id)}>\r\n//                       <div className=\"col-header\">\r\n//                         <span className=\"col-title\">{status.toUpperCase()}</span>\r\n//                         <span className=\"col-icons\">\r\n//                           <button className=\"col-icon\" title=\"Add Column\" onClick={e => openAddColumnModal(e, lane.id, idx)}>ï¼‹</button>\r\n//                           <button className=\"col-icon\" title=\"Edit/Delete Column\" onClick={e => openEditColumnModal(e, lane.id, idx, status)}>â‹®</button>\r\n//                         </span>\r\n//                         {issuesForStatus.length > 0 && <span className=\"col-count\">{issuesForStatus.length}</span>}\r\n//                       </div>\r\n//                       <div className=\"col-create\">\r\n//                         {status === 'backlog' && (\r\n//                           createLaneId === lane.id ? (\r\n//                             <div className=\"create-card\">\r\n//                               <textarea rows={2} className=\"create-input\" placeholder=\"What needs to be done?\" value={newTaskText} onChange={e => setNewTaskText(e.target.value)} />\r\n//                               <div className=\"create-actions\">\r\n//                                 <select value={newTaskType} onChange={e => setNewTaskType(e.target.value)} className=\"create-select\">\r\n//                                   <option>Task</option><option>Subtask</option><option>Bug</option>\r\n//                                 </select>\r\n//                                 <button className=\"create-btn\" onClick={() => handleCreateSubmit(lane)}>âœ”</button>\r\n//                                 <button className=\"create-btn\" onClick={() => setCreateLaneId(null)}>âœ–</button>\r\n//                               </div>\r\n//                             </div>\r\n//                           ) : (<span className=\"create-link\" onClick={() => handleCreateClick(lane.id)}>+ Create</span>)\r\n//                         )}\r\n//                       </div>\r\n//                       {issuesForStatus.map(issue => {\r\n//                         const isHovered = hoveredAssigneeId === issue.id;\r\n//                         return (\r\n//                           <div className=\"card-item\" key={issue.id} draggable onDragStart={e => onDragStart(e, issue.id)} onClick={() => handleOpenModal(issue)}>\r\n//                             <div className=\"card-top\">\r\n//                               <span className={`card-tag card-tag-${issue.type.toLowerCase()}`}>{issue.type}</span>\r\n//                               <span className=\"card-id\">{issue.id}</span>\r\n//                             </div>\r\n//                             <div className=\"card-title\">{issue.title}</div>\r\n//                             <div className=\"card-meta\">\r\n//                               {issue.dueDate && <span className=\"card-due\">ðŸ“… {issue.dueDate}</span>}\r\n//                               <span className={`card-priority ${issue.priority.toLowerCase()}`}>âš‘ {issue.priority}</span>\r\n//                               {issue.assignee && (\r\n//                                 <span className=\"card-assignee\" onMouseEnter={() => setHoveredAssigneeId(issue.id)} onMouseLeave={() => setHoveredAssigneeId(null)} style={{ position: 'relative', cursor: 'default', userSelect: 'none' }}>\r\n//                                   ðŸ‘¤\r\n//                                   {isHovered && <div className=\"assignee-tooltip\">{issue.assignee}</div>}\r\n//                                 </span>\r\n//                               )}\r\n//                             </div>\r\n//                           </div>\r\n//                         );\r\n//                       })}\r\n//                     </div>\r\n//                   );\r\n//                 })}\r\n//               </div>\r\n//             )}\r\n//           </section>\r\n//         );\r\n//       })}\r\n\r\n//       {/* Column Add/Edit modal */}\r\n//       {columnModal && (columnModal.type === 'add' || columnModal.type === 'menu') && (\r\n//         <div className=\"epic-modal-overlay\" onClick={() => setColumnModal(null)} style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, zIndex: 1000 }}>\r\n//           <div className=\"epic-modal\" onClick={e => e.stopPropagation()} style={{\r\n//             position: 'absolute',\r\n//             top: modalPosition.top,\r\n//             left: modalPosition.left,\r\n//             transform: 'translateX(-50%)',\r\n//             minWidth: 280,\r\n//             maxWidth: 320,\r\n//             padding: 20,\r\n//             borderRadius: 10,\r\n//             background: 'white',\r\n//             boxShadow: '0 10px 40px rgba(0,0,0,0.3)',\r\n//             zIndex: 1100\r\n//           }}>\r\n//             {columnModal.type === 'add' ? (\r\n//               <>\r\n//                 <h3 style={{ marginBottom: 15, fontWeight: 600, fontSize: 20, color: '#172b4d' }}>Add Column</h3>\r\n//                 <input value={columnInput} onChange={e => setColumnInput(e.target.value)} placeholder=\"Column name\" autoFocus className=\"epic-modal-input\" style={{ width: '100%', padding: 12, fontSize: 16, borderRadius: 6, border: '1px solid #dfe1e5', marginBottom: 20, boxSizing: 'border-box' }} />\r\n//                 <div className=\"epic-modal-actions\" style={{ display: 'flex', justifyContent: 'flex-end', gap: 12 }}>\r\n//                   <button className=\"btn-cancel\" onClick={() => setColumnModal(null)} style={btnStyle.cancel}>Cancel</button>\r\n//                   <button className=\"btn-create\" onClick={handleAddColumn} style={btnStyle.create}>Add</button>\r\n//                 </div>\r\n//               </>\r\n//             ) : (\r\n//               <>\r\n//                 <h3 style={{ marginBottom: 15, fontWeight: 600, fontSize: 20, color: '#172b4d' }}>Edit/Delete Column</h3>\r\n//                 <input value={columnInput} onChange={e => setColumnInput(e.target.value)} placeholder=\"Column name\" autoFocus className=\"epic-modal-input\" style={{ width: '100%', padding: 12, fontSize: 16, borderRadius: 6, border: '1px solid #dfe1e5', marginBottom: 20, boxSizing: 'border-box' }} />\r\n//                 <div className=\"epic-modal-actions\" style={{ display: 'flex', justifyContent: 'flex-end', gap: 12 }}>\r\n//                   <button className=\"btn-save\" onClick={handleEditColumn} style={btnStyle.create}>Rename</button>\r\n//                   <button className=\"btn-delete\" onClick={handleDeleteColumn} style={btnStyle.delete}>Delete</button>\r\n//                   <button className=\"btn-cancel\" onClick={() => setColumnModal(null)} style={btnStyle.cancel}>Cancel</button>\r\n//                 </div>\r\n//               </>\r\n//             )}\r\n//           </div>\r\n//         </div>\r\n//       )}\r\n\r\n//       {/* Issue modal */}\r\n//       {selectedIssue && editIssue && (\r\n//         <div className=\"modal-overlay\" onClick={() => setSelectedIssue(null)}>\r\n//           <div className=\"modal\" onClick={e => e.stopPropagation()}>\r\n//             <div className=\"modal-header\">\r\n//               <h2>{editIssue.epicName}</h2>\r\n//               <button className=\"modal-close-btn\" onClick={() => setSelectedIssue(null)}>âœ–</button>\r\n//             </div>\r\n//             <div className=\"modal-field\"><label>Title</label><input value={editIssue.title} onChange={e => handleUpdateField('title', e.target.value)} /></div>\r\n//             <div className=\"modal-field\"><label>Description</label><textarea value={editIssue.description} onChange={e => handleUpdateField('description', e.target.value)} /></div>\r\n//             <div className=\"modal-field\"><label>Subtasks</label><input value={editIssue.subtasks} onChange={e => handleUpdateField('subtasks', e.target.value)} /></div>\r\n//             <div className=\"modal-field\"><label>Comments</label><textarea value={editIssue.comments} onChange={e => handleUpdateField('comments', e.target.value)} /></div>\r\n//             <div className=\"modal-field\"><label>Status</label>\r\n//               <select value={editIssue.status} onChange={e => handleUpdateField('status', e.target.value)}>\r\n//                 {columnsByLane[editIssue.epic]?.map(st => <option key={st} value={st}>{st}</option>) || defaultStatuses.map(st => <option key={st} value={st}>{st}</option>)}\r\n//               </select>\r\n//             </div>\r\n//             <div className=\"modal-field\"><label>Assignee</label><input value={editIssue.assignee} onChange={e => handleUpdateField('assignee', e.target.value)} /></div>\r\n//             <div className=\"modal-field\"><label>Reporter</label><input disabled value={editIssue.reporter} /></div>\r\n//             <div className=\"modal-field\"><label>Priority</label>\r\n//               <select value={editIssue.priority} onChange={e => handleUpdateField('priority', e.target.value)}>\r\n//                 <option>Low</option><option>Medium</option><option>High</option>\r\n//               </select>\r\n//             </div>\r\n//             <div className=\"modal-field\"><label>Due Date</label><input type=\"date\" value={editIssue.dueDate} onChange={e => handleUpdateField('dueDate', e.target.value)} /></div>\r\n//             <div className=\"modal-field\"><label>Start Date</label><input type=\"date\" value={editIssue.startDate} onChange={e => handleUpdateField('startDate', e.target.value)} /></div>\r\n//             <div className=\"modal-actions\" style={{ gridColumn: \"span 3\", alignItems: 'center' }}>\r\n//               <button className=\"btn-reset\" onClick={handleReset}>Reset</button>\r\n//               <button className=\"btn-save\" onClick={handleSave}>Save</button>\r\n//               <button className=\"modal-delete-btn\" onClick={async () => {\r\n//                 if (window.confirm('Delete this issue?')) {\r\n//                   await deleteIssueAPI(selectedIssue.id);\r\n//                   const refreshed = await listIssues(projectId);\r\n//                   setIssues(refreshed);\r\n//                   setSelectedIssue(null);\r\n//                 }\r\n//               }}>ðŸ—‘</button>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//       )}\r\n\r\n//       {/* Inline CSS styles */}\r\n//       <style>{`\r\n//         /* Include the full CSS from the previous answer - Kanban board styling, tooltip, modals, buttons */\r\n//         body {\r\n//           font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\r\n//           background-color: #f5f6f8;\r\n//           margin: 0;\r\n//           padding: 16px;\r\n//         }\r\n//         .board-wrap {\r\n//           max-width: 100%;\r\n//           overflow-x: auto;\r\n//         }\r\n// body {\r\n//   font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\r\n//   background-color: #f5f6f8;\r\n//   margin: 0;\r\n//   padding: 16px;\r\n// }\r\n// .board-wrap {\r\n//   max-width: 100%;\r\n//   overflow-x: auto;\r\n// }\r\n// .swimlane {\r\n//   background: white;\r\n//   border-radius: 8px;\r\n//   margin-bottom: 16px;\r\n//   box-shadow: 0 1px 3px rgba(0,0,0,0.1);\r\n//   overflow: hidden;\r\n// }\r\n// .swimlane-header {\r\n//   display: flex;\r\n//   align-items: center;\r\n//   padding: 12px 16px;\r\n//   background: #fafbfc;\r\n//   border-bottom: 1px solid #dfe5e5;\r\n//   font-weight: 600;\r\n//   font-size: 14px;\r\n//   color: #172b4d;\r\n// }\r\n// .swimlane-toggle, .swimlane-icon {\r\n//   color: #5e6c84;\r\n//   margin-right: 8px;\r\n//   cursor: pointer;\r\n// }\r\n// .swimlane-toggle {\r\n//   border: none;\r\n//   background: transparent;\r\n//   font-size: 14px;\r\n// }\r\n// .swimlane-icon {\r\n//   font-size: 18px;\r\n// }\r\n// .swimlane-title-input {\r\n//   border: 1px solid #dfe5e5;\r\n//   border-radius: 4px;\r\n//   padding: 4px 8px;\r\n//   font-size: 14px;\r\n//   font-weight: 600;\r\n//   background: white;\r\n//   margin-right: 8px;\r\n//   min-width: 150px;\r\n//   color: #172b4d;\r\n// }\r\n// .swimlane-title-input:focus {\r\n//   outline: none;\r\n//   border-color: #1976d2;\r\n// }\r\n// .swimlane-title-input::placeholder {\r\n//   color: #a2adba;\r\n// }\r\n// .swimlane-title-input:hover {\r\n//   border-color: #a2adba;\r\n// }\r\n// .swimlane-title-input:disabled {\r\n//   background: #f5f6f8;\r\n//   color: #a2adba;\r\n// }\r\n// .swimlane-count {\r\n//   color: #5e6c84;\r\n//   font-size: 12px;\r\n//   font-weight: normal;\r\n//   user-select: none;\r\n// }\r\n// .kanban-row {\r\n//   display: flex;\r\n//   padding: 16px;\r\n//   gap: 12px;\r\n//   overflow-x: auto;\r\n// }\r\n// .kanban-column {\r\n//   flex: 0 0 260px;\r\n//   background: #f5f6f8;\r\n//   border-radius: 6px;\r\n//   padding: 12px;\r\n//   display: flex;\r\n//   flex-direction: column;\r\n//   gap: 12px;\r\n//   border: 1px solid #dfe5e5;\r\n//   user-select: none;\r\n// }\r\n// .col-header {\r\n//   display: flex;\r\n//   align-items: center;\r\n//   margin-bottom: 4px;\r\n//   gap: 6px;\r\n// }\r\n// .col-title {\r\n//   font-weight: 600;\r\n//   font-size: 12px;\r\n//   color: #5e6c84;\r\n//   text-transform: uppercase;\r\n//   letter-spacing: 0.5px;\r\n//   flex-grow: 1;\r\n//   user-select: none;\r\n// }\r\n// .col-title:empty {\r\n//   height: 20px;\r\n// }\r\n// .col-count {\r\n//   background: #dfe5e5;\r\n//   color: #5e6c84;\r\n//   border-radius: 12px;\r\n//   padding: 2px 8px;\r\n//   font-size: 11px;\r\n//   font-weight: 600;\r\n//   user-select: none;\r\n//   min-width: 20px;\r\n//   text-align: center;\r\n// }\r\n// .col-icons {\r\n//   display: flex;\r\n//   gap: 6px;\r\n// }\r\n// .col-icon {\r\n//   cursor: pointer;\r\n//   color: #5e6c84;\r\n//   font-size: 18px;\r\n//   background: none;\r\n//   border: none;\r\n//   padding: 0;\r\n//   user-select: none;\r\n// }\r\n// .col-icon:hover {\r\n//   color: #1976d2;\r\n// }\r\n// .create-card {\r\n//   background: white;\r\n//   padding: 10px;\r\n//   border-radius: 6px;\r\n//   box-shadow: 0 0 2px rgba(0, 0, 0, 0.2);\r\n//   display: flex;\r\n//   flex-direction: column;\r\n//   gap: 10px;\r\n// }\r\n// .create-card textarea {\r\n//   resize: vertical;\r\n//   min-height: 50px;\r\n//   font-size: 14px;\r\n//   padding: 8px;\r\n//   border-radius: 5px;\r\n//   border: 1px solid #dfe5e5;\r\n//   font-family: inherit;\r\n// }\r\n// .create-card textarea:focus {\r\n//   outline: none;\r\n//   border-color: #1976d2;\r\n// }\r\n// .create-card .create-actions {\r\n//   display: flex;\r\n//   align-items: center;\r\n//   gap: 12px;\r\n// }\r\n// .create-card .create-actions select {\r\n//   flex-grow: 1;\r\n//   padding: 8px;\r\n//   border: 1px solid #dfe5e5;\r\n//   border-radius: 5px;\r\n//   font-size: 14px;\r\n// }\r\n// .create-card button {\r\n//   padding: 8px 12px;\r\n//   font-size: 14px;\r\n//   cursor: pointer;\r\n//   border-radius: 5px;\r\n//   border: 1px solid #dfe5e5;\r\n//   background: #f5f6f8;\r\n//   user-select: none;\r\n//   transition: background-color 0.2s;\r\n// }\r\n// .create-card button:hover {\r\n//   background: #e1e7f0;\r\n// }\r\n// .card-item {\r\n//   background: white;\r\n//   border-radius: 8px;\r\n//   padding: 12px;\r\n//   box-shadow: 0 0 2px rgba(0,0,0,0.1);\r\n//   cursor: pointer;\r\n//   user-select: none;\r\n//   display: flex;\r\n//   flex-direction: column;\r\n//   gap: 6px;\r\n//   border: 1px solid #dfe5e5;\r\n//   transition: box-shadow 0.2s ease, border-color 0.2s ease;\r\n// }\r\n// .card-item:hover {\r\n//   box-shadow: 0px 2px 10px rgba(0,0,0,0.15);\r\n//   border-color: #a2adba;\r\n// }\r\n// .card-item .card-top {\r\n//   display: flex;\r\n//   justify-content: space-between;\r\n//   align-items: center;\r\n//   font-size: 12px;\r\n//   font-weight: 600;\r\n//   color: #5e6c84;\r\n//   gap: 10px;\r\n// }\r\n// .card-item .card-top .card-id {\r\n//   font-family: monospace;\r\n//   color: #a2adba;\r\n//   user-select: text;\r\n// }\r\n// .card-item .card-tags .tag {\r\n//   border-radius: 6px;\r\n//   padding: 3px 7px;\r\n//   font-size: 11px;\r\n//   font-weight: 600;\r\n//   text-transform: uppercase;\r\n//   white-space: nowrap;\r\n//   user-select: none;\r\n//   margin-right: 6px;\r\n// }\r\n// .tag-task {\r\n//   background: #e1efff;\r\n//   color: #1976d2;\r\n// }\r\n// .tag-bug {\r\n//   background: #ffebec;\r\n//   color: #d62127;\r\n// }\r\n// .tag-subtask {\r\n//   background: #f5e6ff;\r\n//   color: #772da0;\r\n// }\r\n// .card-item .card-title {\r\n//   font-weight: 600;\r\n//   font-size: 14px;\r\n//   color: #2b3a59;\r\n// }\r\n// .card-item .card-meta {\r\n//   display: flex;\r\n//   gap: 10px;\r\n//   font-size: 12px;\r\n//   color: #6b7c93;\r\n//   align-items: center;\r\n//   user-select: none;\r\n// }\r\n// .card-item .card-meta span {\r\n//   background: #f5f7fa;\r\n//   color: #6b7c93;\r\n//   padding: 3px 8px;\r\n//   border-radius: 12px;\r\n// }\r\n// .card-item .card-meta .card-priority.low {\r\n//   background: #d4edda;\r\n//   color: #155724;\r\n// }\r\n// .card-item .card-meta .card-priority.medium {\r\n//   background: #fff3cd;\r\n//   color: #856404;\r\n// }\r\n// .card-item .card-meta .card-priority.high {\r\n//   background: #f8d7da;\r\n//   color: #721c24;\r\n// }\r\n// .card-item .card-meta .card-assignee {\r\n//   position: relative;\r\n//   cursor: default;\r\n//   padding-left: 18px;\r\n// }\r\n// .card-item .card-meta .card-assignee:hover .tooltip {\r\n//   display: block;\r\n// }\r\n// .card-item .card-meta .tooltip {\r\n//   position: absolute;\r\n//   top: -30px;\r\n//   left: 50%;\r\n//   transform: translateX(-50%);\r\n//   background: #222;\r\n//   color: white;\r\n//   border-radius: 4px;\r\n//   padding: 4px 8px;\r\n//   font-size: 11px;\r\n//   white-space: nowrap;\r\n//   z-index: 10;\r\n//   display: none;\r\n//   user-select: none;\r\n// }\r\n// .modal-overlay {\r\n//   position: fixed;\r\n//   top: 0; left: 0; right: 0; bottom: 0;\r\n//   background: rgba(0,0,0,0.5);\r\n//   display: flex;\r\n//   align-items: center;\r\n//   justify-content: center;\r\n//   z-index: 1000;\r\n// }\r\n// .modal {\r\n//   background: white;\r\n//   border-radius: 8px;\r\n//   padding: 24px;\r\n//   width: 700px;\r\n//   max-height: 80vh;\r\n//   display: grid;\r\n//   grid-template-columns: 1fr 1fr 1fr;\r\n//   gap: 16px;\r\n//   overflow-y: auto;\r\n//   position: relative;\r\n// }\r\n// .modal-header {\r\n//   grid-column: 1 / -1;\r\n//   display: flex;\r\n//   justify-content: space-between;\r\n//   align-items: center;\r\n//   font-weight: 700;\r\n//   font-size: 20px;\r\n//   color: #2b3a59;\r\n// }\r\n// .modal-header button {\r\n//   background: none;\r\n//   border: none;\r\n//   font-size: 22px;\r\n//   cursor: pointer;\r\n//   color: #a2adba;\r\n// }\r\n// .modal-header button:hover {\r\n//   color: #485fc7;\r\n// }\r\n// .modal-field {\r\n//   display: flex;\r\n//   flex-direction: column;\r\n//   gap: 6px;\r\n// }\r\n// .modal-field label {\r\n//   font-size: 12px;\r\n//   font-weight: 600;\r\n//   color: #6b7c93;\r\n//   user-select: none;\r\n// }\r\n// .modal-field input, .modal-field textarea, .modal-field select {\r\n//   padding: 8px 10px;\r\n//   border-radius: 6px;\r\n//   border: 1px solid #dfe5e5;\r\n//   font-size: 14px;\r\n//   color: #2b3a59;\r\n//   font-family: inherit;\r\n// }\r\n// .modal-field input:focus, .modal-field textarea:focus, .modal-field select:focus {\r\n//   outline: none;\r\n//   border-color: #485fc7;\r\n//   background: #f8fcff;\r\n// }\r\n// .modal-actions {\r\n//   grid-column: 1 / -1;\r\n//   display: flex;\r\n//   justify-content: flex-end;\r\n//   gap: 12px;\r\n//   align-items: center;\r\n//   margin-top: 12px;\r\n// }\r\n// button.btn-reset {\r\n//   background: #5e6c84;\r\n//   color: white;\r\n//   font-weight: 600;\r\n//   border: none;\r\n//   padding: 8px 16px;\r\n//   border-radius: 6px;\r\n//   cursor: pointer;\r\n// }\r\n// button.btn-reset:hover {\r\n//   background: #485fc7;\r\n// }\r\n// button.btn-save {\r\n//   background: #485fc7;\r\n//   color: white;\r\n//   font-weight: 600;\r\n//   border: none;\r\n//   padding: 8px 16px;\r\n//   border-radius: 6px;\r\n//   cursor: pointer;\r\n// }\r\n// button.btn-save:hover {\r\n//   background: #374cac;\r\n// }\r\n// button.btn-delete {\r\n//   background: #d94343;\r\n//   color: white;\r\n//   font-weight: 600;\r\n//   border: none;\r\n//   padding: 8px 16px;\r\n//   border-radius: 6px;\r\n//   cursor: pointer;\r\n// }\r\n// button.btn-delete:hover {\r\n//   background: #b83232;\r\n// }\r\n// input[disabled] {\r\n//   background: #efeff1;\r\n//   cursor: not-allowed;\r\n//   color: #b3b3b3;\r\n// }\r\n// .epic-modal-overlay {\r\n//   position: fixed;\r\n//   top: 0; left: 0; right: 0; bottom: 0;\r\n//   background: rgba(0,0,0,0.5);\r\n//   display: flex;\r\n//   align-items: center;\r\n//   justify-content: center;\r\n//   z-index: 1000;\r\n// }\r\n// .epic-modal {\r\n//   background: white;\r\n//   border-radius: 8px;\r\n//   width: 350px;\r\n//   padding: 20px;\r\n//   box-shadow: 0 0 10px rgba(0,0,0,0.2);\r\n//   position: relative;\r\n// }\r\n// .epic-modal-content h3 {\r\n//   margin: 0 0 20px 0;\r\n//   font-weight: 700;\r\n//   font-size: 20px;\r\n//   color: #2b3a59;\r\n//   user-select: none;\r\n// }\r\n// .epic-modal-content p.delete-warning {\r\n//   background: #ffe6e6;\r\n//   padding: 10px;\r\n//   color: #d94343;\r\n//   font-size: 14px;\r\n//   margin-bottom: 15px;\r\n//   border-radius: 6px;\r\n// }\r\n// .epic-modal-input, .epic-modal-select {\r\n//   width: 100%;\r\n//   padding: 10px;\r\n//   font-size: 14px;\r\n//   margin-bottom: 20px;\r\n//   border-radius: 6px;\r\n//   border: 1px solid #dfe5e5;\r\n//   box-sizing: border-box;\r\n//   font-family: inherit;\r\n// }\r\n// .epic-modal-input:focus, .epic-modal-select:focus {\r\n//   outline: none;\r\n//   border-color: #485fc7;\r\n// }\r\n// .epic-modal-actions {\r\n//   display: flex;\r\n//   justify-content: space-between;\r\n//   gap: 15px;\r\n// }\r\n// button.create-epic-btn, button.delete-epic-btn {\r\n//   background: #485fc7;\r\n//   color: white;\r\n//   font-weight: 600;\r\n//   border: none;\r\n//   padding: 10px 20px;\r\n//   border-radius: 8px;\r\n//   cursor: pointer;\r\n//   font-size: 15px;\r\n//   user-select: none;\r\n// }\r\n// button.create-epic-btn:hover, button.delete-epic-btn:hover {\r\n//   background: #374cac;\r\n// }\r\n// button.delete-epic-btn {\r\n//   background: #d94343;\r\n// }\r\n// button.delete-epic-btn:hover {\r\n//   background: #b83232;\r\n// }\r\n\r\n//       `}</style>\r\n\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// const btnStyle = {\r\n//   cancel: {\r\n//     padding: '10px 18px',\r\n//     borderRadius: '6px',\r\n//     border: 'none',\r\n//     backgroundColor: '#5e6c84',\r\n//     color: 'white',\r\n//     fontWeight: '600',\r\n//     fontSize: '14px',\r\n//     cursor: 'pointer'\r\n//   },\r\n//   // create: {\r\n//   //   padding: '10px 18px',\r\n//   //   borderRadius: '6px',\r\n//   //   border: 'none',\r\n//   //   backgroundColor: '#1976d2',\r\n//   //   color: 'white',\r\n//   //   fontWeight: '600',\r\n//   //   fontSize: '14px',\r\n//   //   cursor: 'pointer'\r\n//   // },\r\n//   delete: {\r\n//     padding: '10px 18px',\r\n//     borderRadius: '6px',\r\n//     border: 'none',\r\n//     backgroundColor: '#d32f2f',\r\n//     color: 'white',\r\n//     fontWeight: '600',\r\n//     fontSize: '14px',\r\n//     cursor: 'pointer'\r\n//   }\r\n// };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//======================================================================================\r\n// import React, { useEffect, useState } from 'react';\r\n// import { useParams } from 'react-router-dom';\r\n\r\n// const mockIssues = [\r\n//   { id: 'i1', epic: 'p1', epicName: 'Frontend', status: 'todo', type: 'Task', title: 'Setup repo', assignee: 'John Doe', storyPoints: 3, labels: [], dueDate: '2025-09-30', reporter: 'admin', priority: 'High', startDate: '2025-09-15', description: '', subtasks: '', comments: '' },\r\n//   { id: 'i3', epic: 'p2', epicName: 'Middleware', status: 'todo', type: 'Subtask', title: 'API integration', assignee: 'Jane Smith', storyPoints: 2, labels: [], dueDate: '', reporter: 'lead-dev', priority: 'Low', startDate: '2025-09-18', description: '', subtasks: '', comments: '' }\r\n// ];\r\n\r\n// const defaultStatuses = ['backlog', 'todo', 'analysis', 'inprogress', 'blocked', 'code review', 'qa', 'milestone', 'done'];\r\n// const mockEpics = [{ id: 'p1', name: 'Frontend' }, { id: 'p2', name: 'Middleware' }];\r\n\r\n// const simulateApiDelay = () => new Promise(resolve => setTimeout(resolve, 200));\r\n// const listIssues = async (projectId) => {\r\n//   await simulateApiDelay();\r\n//   return mockIssues.filter(i => !projectId || i.epic === projectId || i.projectId === projectId);\r\n// };\r\n// const listEpics = async () => { await simulateApiDelay(); return mockEpics; };\r\n// const createEpicAPI = async (epicName) => {\r\n//   await simulateApiDelay();\r\n//   const newEpic = { id: 'p' + (mockEpics.length + 1), name: epicName };\r\n//   mockEpics.push(newEpic);\r\n//   return newEpic;\r\n// };\r\n// const deleteEpicAPI = async (epicId) => {\r\n//   await simulateApiDelay();\r\n//   const epicIndex = mockEpics.findIndex(epic => epic.id === epicId);\r\n//   if (epicIndex > -1) mockEpics.splice(epicIndex, 1);\r\n//   const issueIndices = [];\r\n//   mockIssues.forEach((issue, index) => { if (issue.epic === epicId) issueIndices.push(index); });\r\n//   issueIndices.sort((a, b) => b - a).forEach(index => { mockIssues.splice(index, 1); });\r\n// };\r\n// const moveIssue = async (issueId, status) => {\r\n//   await simulateApiDelay();\r\n//   const issue = mockIssues.find(i => i.id === issueId);\r\n//   if (!issue) throw new Error('Issue not found');\r\n//   issue.status = status;\r\n// };\r\n// const createIssueAPI = async (issue) => { await simulateApiDelay(); mockIssues.push(issue); };\r\n// const deleteIssueAPI = async (issueId) => { await simulateApiDelay(); const idx = mockIssues.findIndex(i => i.id === issueId); if (idx > -1) mockIssues.splice(idx, 1); };\r\n// const updateIssueAPI = async (updatedIssue) => { await simulateApiDelay(); const idx = mockIssues.findIndex(i => i.id === updatedIssue.id); if (idx > -1) mockIssues[idx] = { ...mockIssues[idx], ...updatedIssue }; };\r\n\r\n// const getSwimlanes = (issues, epics) =>\r\n//   epics.map(epic => {\r\n//     const epicIssues = issues.filter(i => (i.epic || i.projectId) === epic.id);\r\n//     return { id: epic.id, title: epic.name, issues: epicIssues };\r\n//   });\r\n\r\n// export default function KanbanBoard() {\r\n//   const { projectId } = useParams();\r\n//   const [issues, setIssues] = useState([]);\r\n//   const [epics, setEpics] = useState([]);\r\n//   const [openSwimlanes, setOpenSwimlanes] = useState({});\r\n//   const [customTitles, setCustomTitles] = useState({});\r\n//   const [createLaneId, setCreateLaneId] = useState(null);\r\n//   const [newTaskText, setNewTaskText] = useState('');\r\n//   const [newTaskType, setNewTaskType] = useState('Task');\r\n//   const [selectedIssue, setSelectedIssue] = useState(null);\r\n//   const [editIssue, setEditIssue] = useState(null);\r\n//   const [showCreateEpic, setShowCreateEpic] = useState(false);\r\n//   const [showDeleteEpic, setShowDeleteEpic] = useState(false);\r\n//   const [newEpicName, setNewEpicName] = useState('');\r\n//   const [epicToDelete, setEpicToDelete] = useState('');\r\n//   const [columnsByLane, setColumnsByLane] = useState({});\r\n//   const [columnModal, setColumnModal] = useState(null);\r\n//   const [columnInput, setColumnInput] = useState('');\r\n//   const [hoveredAssigneeId, setHoveredAssigneeId] = useState(null);\r\n//   const [modalPosition, setModalPosition] = useState({ top: 0, left: 0 });\r\n//   const [isMobile, setIsMobile] = useState(false);\r\n//   const [activeSwimlane, setActiveSwimlane] = useState(null);\r\n\r\n//   // Detect mobile screen size\r\n//   useEffect(() => {\r\n//     const checkScreenSize = () => {\r\n//       setIsMobile(window.innerWidth < 768);\r\n//     };\r\n    \r\n//     checkScreenSize();\r\n//     window.addEventListener('resize', checkScreenSize);\r\n    \r\n//     return () => window.removeEventListener('resize', checkScreenSize);\r\n//   }, []);\r\n\r\n//   useEffect(() => {\r\n//     const fetchData = async () => {\r\n//       try {\r\n//         const [issuesData, epicsData] = await Promise.all([listIssues(projectId), listEpics()]);\r\n//         setIssues(issuesData);\r\n//         setEpics(epicsData);\r\n//         const lanes = getSwimlanes(issuesData, epicsData);\r\n//         const initialOpen = {}, initialTitles = {}, initialCols = {};\r\n//         lanes.forEach(lane => {\r\n//           initialOpen[lane.id] = true;\r\n//           initialTitles[lane.id] = lane.title;\r\n//           initialCols[lane.id] = defaultStatuses.slice();\r\n//         });\r\n//         setOpenSwimlanes(initialOpen);\r\n//         setCustomTitles(initialTitles);\r\n//         setColumnsByLane(initialCols);\r\n//       } catch (err) { console.error(err); }\r\n//     };\r\n//     fetchData();\r\n//   }, [projectId]);\r\n\r\n//   const openAddColumnModal = (e, laneId, colIndex) => {\r\n//     const rect = e.currentTarget.getBoundingClientRect();\r\n//     setModalPosition({ top: rect.bottom + window.scrollY + 8, left: rect.left + window.scrollX });\r\n//     setColumnModal({ laneId, colIndex, type: 'add' });\r\n//     setColumnInput('');\r\n//   };\r\n//   const openEditColumnModal = (e, laneId, colIndex, status) => {\r\n//     const rect = e.currentTarget.getBoundingClientRect();\r\n//     setModalPosition({ top: rect.bottom + window.scrollY + 8, left: rect.left + window.scrollX });\r\n//     setColumnModal({ laneId, colIndex, type: 'menu' });\r\n//     setColumnInput(status);\r\n//   };\r\n//   const handleAddColumn = () => {\r\n//     const name = columnInput.trim();\r\n//     if (!name) return alert('Column name is required');\r\n//     setColumnsByLane(prev => {\r\n//       const cols = [...prev[columnModal.laneId]];\r\n//       if (cols.includes(name.toLowerCase())) alert('Column name already exists');\r\n//       else cols.splice(columnModal.colIndex + 1, 0, name.toLowerCase());\r\n//       return { ...prev, [columnModal.laneId]: cols };\r\n//     });\r\n//     setColumnModal(null);\r\n//     setColumnInput('');\r\n//   };\r\n//   const handleEditColumn = () => {\r\n//     const name = columnInput.trim();\r\n//     if (!name) return alert('Column name is required');\r\n//     const { laneId, colIndex } = columnModal;\r\n//     const oldCol = columnsByLane[laneId][colIndex];\r\n//     if (columnsByLane[laneId].includes(name.toLowerCase()) && name.toLowerCase() !== oldCol) {\r\n//       alert('Column name already exists');\r\n//       return;\r\n//     }\r\n//     setColumnsByLane(prev => {\r\n//       const cols = [...prev[laneId]];\r\n//       cols[colIndex] = name.toLowerCase();\r\n//       return { ...prev, [laneId]: cols };\r\n//     });\r\n//     const updatedIssues = issues.map(issue =>\r\n//       (issue.epic || issue.projectId) === laneId && issue.status === oldCol ? { ...issue, status: name.toLowerCase() } : issue\r\n//     );\r\n//     setIssues(updatedIssues);\r\n//     setColumnModal(null);\r\n//     setColumnInput('');\r\n//   };\r\n//   const handleDeleteColumn = () => {\r\n//     const { laneId, colIndex } = columnModal;\r\n//     const removedCol = columnsByLane[laneId][colIndex];\r\n//     setColumnsByLane(prev => {\r\n//       const cols = [...prev[laneId]];\r\n//       cols.splice(colIndex, 1);\r\n//       return { ...prev, [laneId]: cols };\r\n//     });\r\n//     const updatedIssues = issues.map(issue =>\r\n//       (issue.epic || issue.projectId) === laneId && issue.status === removedCol ? { ...issue, status: 'backlog' } : issue\r\n//     );\r\n//     setIssues(updatedIssues);\r\n//     setColumnModal(null);\r\n//     setColumnInput('');\r\n//   };\r\n//   const toggleSwimlane = (id) => setOpenSwimlanes(prev => ({ ...prev, [id]: !prev[id] }));\r\n//   const byStatus = (collection, status) => collection.filter(i => i.status === status);\r\n\r\n//   const onDragStart = (e, issueId) => e.dataTransfer.setData('text/plain', issueId);\r\n//   const onDrop = async (e, targetStatus, swimlaneId) => {\r\n//     e.preventDefault();\r\n//     try {\r\n//       const issueId = e.dataTransfer.getData('text/plain');\r\n//       const issue = issues.find(i => i.id === issueId);\r\n//       const srcLaneId = issue.epic || issue.projectId;\r\n//       if (srcLaneId === swimlaneId && issue.status !== targetStatus) {\r\n//         await moveIssue(issueId, targetStatus);\r\n//         const refreshed = await listIssues(projectId);\r\n//         setIssues(refreshed);\r\n//       }\r\n//     } catch (err) { console.error(err); }\r\n//   };\r\n//   const onDragOver = e => e.preventDefault();\r\n\r\n//   const handleCreateClick = laneId => { setCreateLaneId(laneId); setNewTaskText(''); setNewTaskType('Task'); };\r\n//   const handleCreateSubmit = async lane => {\r\n//     if (!newTaskText.trim()) { alert('Task title is required'); return; }\r\n//     const newIssue = {\r\n//       id: Math.random().toString(36).slice(2),\r\n//       epic: lane.id,\r\n//       projectId: lane.id,\r\n//       epicName: lane.title,\r\n//       title: newTaskText,\r\n//       status: 'backlog',\r\n//       assignee: '',\r\n//       type: newTaskType,\r\n//       storyPoints: '',\r\n//       labels: [],\r\n//       dueDate: '',\r\n//       reporter: 'system',\r\n//       priority: 'Medium',\r\n//       startDate: new Date().toISOString().split('T')[0],\r\n//       description: '',\r\n//       subtasks: '',\r\n//       comments: ''\r\n//     };\r\n//     try {\r\n//       await createIssueAPI(newIssue);\r\n//       const refreshed = await listIssues(projectId);\r\n//       setIssues(refreshed);\r\n//       setCreateLaneId(null);\r\n//     } catch (err) { console.error(err); }\r\n//   };\r\n\r\n//   const handleOpenModal = (issue) => { setSelectedIssue(issue); setEditIssue({ ...issue }); };\r\n//   const handleUpdateField = (field, value) => { setEditIssue(prev => ({ ...prev, [field]: value })); };\r\n//   const handleSave = async () => { await updateIssueAPI(editIssue); const refreshed = await listIssues(projectId); setIssues(refreshed); setSelectedIssue(null); setEditIssue(null); };\r\n//   const handleReset = () => { setEditIssue({ ...selectedIssue }); };\r\n\r\n//   // Create Epic Modal Handlers\r\n//   const handleCreateEpic = async () => {\r\n//     if (!newEpicName.trim()) {\r\n//       alert('Epic name is required');\r\n//       return;\r\n//     }\r\n//     try {\r\n//       await createEpicAPI(newEpicName);\r\n//       const updatedEpics = await listEpics();\r\n//       setEpics(updatedEpics);\r\n//       setNewEpicName('');\r\n//       setShowCreateEpic(false);\r\n//       const newEpic = updatedEpics[updatedEpics.length - 1];\r\n//       setOpenSwimlanes(prev => ({ ...prev, [newEpic.id]: true }));\r\n//       setCustomTitles(prev => ({ ...prev, [newEpic.id]: newEpic.name }));\r\n//       setColumnsByLane(prev => ({ ...prev, [newEpic.id]: defaultStatuses.slice() }));\r\n//     } catch (error) {\r\n//       console.error('Error creating epic:', error);\r\n//     }\r\n//   };\r\n\r\n//   // Delete Epic Modal Handler\r\n//   const handleDeleteEpic = async () => {\r\n//     if (!epicToDelete) {\r\n//       alert('Please select an epic to delete');\r\n//       return;\r\n//     }\r\n//     if (!window.confirm(`Are you sure you want to delete the epic \"${epics.find(e => e.id === epicToDelete)?.name}\"? This will also delete all issues in this epic.`)) {\r\n//       return;\r\n//     }\r\n//     try {\r\n//       await deleteEpicAPI(epicToDelete);\r\n//       const [refreshedIssues, refreshedEpics] = await Promise.all([\r\n//         listIssues(projectId),\r\n//         listEpics()\r\n//       ]);\r\n//       setIssues(refreshedIssues);\r\n//       setEpics(refreshedEpics);\r\n//       setEpicToDelete('');\r\n//       setShowDeleteEpic(false);\r\n//       setColumnsByLane(prev => {\r\n//         const copy = { ...prev };\r\n//         delete copy[epicToDelete];\r\n//         return copy;\r\n//       });\r\n//       setOpenSwimlanes(prev => {\r\n//         const copy = { ...prev };\r\n//         delete copy[epicToDelete];\r\n//         return copy;\r\n//       });\r\n//       setCustomTitles(prev => {\r\n//         const copy = { ...prev };\r\n//         delete copy[epicToDelete];\r\n//         return copy;\r\n//       });\r\n//     } catch (error) {\r\n//       console.error('Error deleting epic:', error);\r\n//     }\r\n//   };\r\n\r\n//   // Mobile-specific functions\r\n//   const toggleMobileSwimlane = (laneId) => {\r\n//     if (activeSwimlane === laneId) {\r\n//       setActiveSwimlane(null);\r\n//     } else {\r\n//       setActiveSwimlane(laneId);\r\n//     }\r\n//   };\r\n\r\n//   const swimlanes = getSwimlanes(issues, epics);\r\n\r\n//   return (\r\n//     <div className=\"board-wrap\">\r\n//       {/* Mobile swimlane selector */}\r\n//       {isMobile && (\r\n//         <div className=\"mobile-swimlane-selector\">\r\n//           <select \r\n//             value={activeSwimlane || ''} \r\n//             onChange={(e) => setActiveSwimlane(e.target.value || null)}\r\n//             className=\"mobile-select\"\r\n//           >\r\n//             <option value=\"\">All Swimlanes</option>\r\n//             {swimlanes.map(lane => (\r\n//               <option key={lane.id} value={lane.id}>{customTitles[lane.id] || lane.title}</option>\r\n//             ))}\r\n//           </select>\r\n//         </div>\r\n//       )}\r\n\r\n//       {/* Swimlanes and columns */}\r\n//       {swimlanes.map(lane => {\r\n//         const isOpen = isMobile ? (activeSwimlane === null || activeSwimlane === lane.id) : openSwimlanes[lane.id];\r\n//         const statuses = columnsByLane[lane.id] || defaultStatuses;\r\n        \r\n//         // Skip rendering if mobile and this isn't the active swimlane\r\n//         if (isMobile && activeSwimlane && activeSwimlane !== lane.id) {\r\n//           return null;\r\n//         }\r\n\r\n//         return (\r\n//           <section className=\"swimlane\" key={lane.id}>\r\n//             <header className=\"swimlane-header\">\r\n//               {!isMobile && (\r\n//                 <button className=\"swimlane-toggle\" onClick={() => toggleSwimlane(lane.id)}>\r\n//                   {isOpen ? 'â–¼' : 'â–¶'}\r\n//                 </button>\r\n//               )}\r\n//               <span className=\"swimlane-icon\">âš¡</span>\r\n//               <input \r\n//                 className=\"swimlane-title-input\" \r\n//                 value={customTitles[lane.id] || ''} \r\n//                 onChange={e => setCustomTitles(prev => ({ ...prev, [lane.id]: e.target.value }))} \r\n//               />\r\n//               <span className=\"swimlane-count\">{lane.issues.length} work items</span>\r\n//               {isMobile && (\r\n//                 <button \r\n//                   className=\"mobile-swimlane-toggle\"\r\n//                   onClick={() => toggleMobileSwimlane(lane.id)}\r\n//                 >\r\n//                   {activeSwimlane === lane.id ? 'â–²' : 'â–¼'}\r\n//                 </button>\r\n//               )}\r\n//             </header>\r\n//             {isOpen && (\r\n//               <div className={`kanban-row ${isMobile ? 'mobile-view' : ''}`}>\r\n//                 {statuses.map((status, idx) => {\r\n//                   const issuesForStatus = byStatus(lane.issues, status);\r\n//                   return (\r\n//                     <div \r\n//                       className={`kanban-column ${isMobile ? 'mobile-column' : ''}`} \r\n//                       key={status} \r\n//                       onDragOver={onDragOver} \r\n//                       onDrop={e => onDrop(e, status, lane.id)}\r\n//                     >\r\n//                       <div className=\"col-header\">\r\n//                         <span className=\"col-title\">{status.toUpperCase()}</span>\r\n//                         {!isMobile && (\r\n//                           <span className=\"col-icons\">\r\n//                             <button className=\"col-icon\" title=\"Add Column\" onClick={e => openAddColumnModal(e, lane.id, idx)}>ï¼‹</button>\r\n//                             <button className=\"col-icon\" title=\"Edit/Delete Column\" onClick={e => openEditColumnModal(e, lane.id, idx, status)}>â‹®</button>\r\n//                           </span>\r\n//                         )}\r\n//                         {issuesForStatus.length > 0 && <span className=\"col-count\">{issuesForStatus.length}</span>}\r\n//                       </div>\r\n//                       <div className=\"col-create\">\r\n//                         {status === 'backlog' && (\r\n//                           createLaneId === lane.id ? (\r\n//                             <div className=\"create-card\">\r\n//                               <textarea rows={2} className=\"create-input\" placeholder=\"What needs to be done?\" value={newTaskText} onChange={e => setNewTaskText(e.target.value)} />\r\n//                               <div className=\"create-actions\">\r\n//                                 <select value={newTaskType} onChange={e => setNewTaskType(e.target.value)} className=\"create-select\">\r\n//                                   <option>Task</option><option>Subtask</option><option>Bug</option>\r\n//                                 </select>\r\n//                                 <button className=\"create-btn\" onClick={() => handleCreateSubmit(lane)}>âœ”</button>\r\n//                                 <button className=\"create-btn\" onClick={() => setCreateLaneId(null)}>âœ–</button>\r\n//                               </div>\r\n//                             </div>\r\n//                           ) : (<span className=\"create-link\" onClick={() => handleCreateClick(lane.id)}>+ Create</span>)\r\n//                         )}\r\n//                       </div>\r\n//                       {issuesForStatus.map(issue => {\r\n//                         const isHovered = hoveredAssigneeId === issue.id;\r\n//                         return (\r\n//                           <div className=\"card-item\" key={issue.id} draggable onDragStart={e => onDragStart(e, issue.id)} onClick={() => handleOpenModal(issue)}>\r\n//                             <div className=\"card-top\">\r\n//                               <span className={`card-tag card-tag-${issue.type.toLowerCase()}`}>{issue.type}</span>\r\n//                               <span className=\"card-id\">{issue.id}</span>\r\n//                             </div>\r\n//                             <div className=\"card-title\">{issue.title}</div>\r\n//                             <div className=\"card-meta\">\r\n//                               {issue.dueDate && <span className=\"card-due\">ðŸ“… {issue.dueDate}</span>}\r\n//                               <span className={`card-priority ${issue.priority.toLowerCase()}`}>âš‘ {issue.priority}</span>\r\n//                               {issue.assignee && (\r\n//                                 <span className=\"card-assignee\" onMouseEnter={() => setHoveredAssigneeId(issue.id)} onMouseLeave={() => setHoveredAssigneeId(null)} style={{ position: 'relative', cursor: 'default', userSelect: 'none' }}>\r\n//                                   ðŸ‘¤\r\n//                                   {isHovered && <div className=\"assignee-tooltip\">{issue.assignee}</div>}\r\n//                                 </span>\r\n//                               )}\r\n//                             </div>\r\n//                           </div>\r\n//                         );\r\n//                       })}\r\n//                     </div>\r\n//                   );\r\n//                 })}\r\n//               </div>\r\n//             )}\r\n//           </section>\r\n//         );\r\n//       })}\r\n\r\n//       {/* Column Add/Edit modal */}\r\n//       {columnModal && (columnModal.type === 'add' || columnModal.type === 'menu') && (\r\n//         <div className=\"epic-modal-overlay\" onClick={() => setColumnModal(null)} style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, zIndex: 1000 }}>\r\n//           <div className=\"epic-modal\" onClick={e => e.stopPropagation()} style={{\r\n//             position: isMobile ? 'fixed' : 'absolute',\r\n//             top: isMobile ? '50%' : modalPosition.top,\r\n//             left: isMobile ? '50%' : modalPosition.left,\r\n//             transform: isMobile ? 'translate(-50%, -50%)' : 'translateX(-50%)',\r\n//             minWidth: isMobile ? '90vw' : 280,\r\n//             maxWidth: isMobile ? '95vw' : 320,\r\n//             padding: 20,\r\n//             borderRadius: 10,\r\n//             background: 'white',\r\n//             boxShadow: '0 10px 40px rgba(0,0,0,0.3)',\r\n//             zIndex: 1100\r\n//           }}>\r\n//             {columnModal.type === 'add' ? (\r\n//               <>\r\n//                 <h3 style={{ marginBottom: 15, fontWeight: 600, fontSize: 20, color: '#172b4d' }}>Add Column</h3>\r\n//                 <input value={columnInput} onChange={e => setColumnInput(e.target.value)} placeholder=\"Column name\" autoFocus className=\"epic-modal-input\" style={{ width: '100%', padding: 12, fontSize: 16, borderRadius: 6, border: '1px solid #dfe1e5', marginBottom: 20, boxSizing: 'border-box' }} />\r\n//                 <div className=\"epic-modal-actions\" style={{ display: 'flex', justifyContent: 'flex-end', gap: 12, flexWrap: isMobile ? 'wrap' : 'nowrap' }}>\r\n//                   <button className=\"btn-cancel\" onClick={() => setColumnModal(null)} style={btnStyle.cancel}>Cancel</button>\r\n//                   <button className=\"btn-create\" onClick={handleAddColumn} style={btnStyle.create}>Add</button>\r\n//                 </div>\r\n//               </>\r\n//             ) : (\r\n//               <>\r\n//                 <h3 style={{ marginBottom: 15, fontWeight: 600, fontSize: 20, color: '#172b4d' }}>Edit/Delete Column</h3>\r\n//                 <input value={columnInput} onChange={e => setColumnInput(e.target.value)} placeholder=\"Column name\" autoFocus className=\"epic-modal-input\" style={{ width: '100%', padding: 12, fontSize: 16, borderRadius: 6, border: '1px solid #dfe1e5', marginBottom: 20, boxSizing: 'border-box' }} />\r\n//                 <div className=\"epic-modal-actions\" style={{ display: 'flex', justifyContent: 'flex-end', gap: 12, flexWrap: isMobile ? 'wrap' : 'nowrap' }}>\r\n//                   <button className=\"btn-save\" onClick={handleEditColumn} style={btnStyle.create}>Rename</button>\r\n//                   <button className=\"btn-delete\" onClick={handleDeleteColumn} style={btnStyle.delete}>Delete</button>\r\n//                   <button className=\"btn-cancel\" onClick={() => setColumnModal(null)} style={btnStyle.cancel}>Cancel</button>\r\n//                 </div>\r\n//               </>\r\n//             )}\r\n//           </div>\r\n//         </div>\r\n//       )}\r\n\r\n//       {/* Issue modal */}\r\n//       {selectedIssue && editIssue && (\r\n//         <div className=\"modal-overlay\" onClick={() => setSelectedIssue(null)}>\r\n//           <div className={`modal ${isMobile ? 'mobile-modal' : ''}`} onClick={e => e.stopPropagation()}>\r\n//             <div className=\"modal-header\">\r\n//               <h2>{editIssue.epicName}</h2>\r\n//               <button className=\"modal-close-btn\" onClick={() => setSelectedIssue(null)}>âœ–</button>\r\n//             </div>\r\n//             <div className={`modal-content ${isMobile ? 'mobile-modal-content' : ''}`}>\r\n//               <div className=\"modal-field\"><label>Title</label><input value={editIssue.title} onChange={e => handleUpdateField('title', e.target.value)} /></div>\r\n//               <div className=\"modal-field\"><label>Description</label><textarea value={editIssue.description} onChange={e => handleUpdateField('description', e.target.value)} /></div>\r\n//               <div className=\"modal-field\"><label>Subtasks</label><input value={editIssue.subtasks} onChange={e => handleUpdateField('subtasks', e.target.value)} /></div>\r\n//               <div className=\"modal-field\"><label>Comments</label><textarea value={editIssue.comments} onChange={e => handleUpdateField('comments', e.target.value)} /></div>\r\n//               <div className=\"modal-field\"><label>Status</label>\r\n//                 <select value={editIssue.status} onChange={e => handleUpdateField('status', e.target.value)}>\r\n//                   {columnsByLane[editIssue.epic]?.map(st => <option key={st} value={st}>{st}</option>) || defaultStatuses.map(st => <option key={st} value={st}>{st}</option>)}\r\n//                 </select>\r\n//               </div>\r\n//               <div className=\"modal-field\"><label>Assignee</label><input value={editIssue.assignee} onChange={e => handleUpdateField('assignee', e.target.value)} /></div>\r\n//               <div className=\"modal-field\"><label>Reporter</label><input disabled value={editIssue.reporter} /></div>\r\n//               <div className=\"modal-field\"><label>Priority</label>\r\n//                 <select value={editIssue.priority} onChange={e => handleUpdateField('priority', e.target.value)}>\r\n//                   <option>Low</option><option>Medium</option><option>High</option>\r\n//                 </select>\r\n//               </div>\r\n//               <div className=\"modal-field\"><label>Due Date</label><input type=\"date\" value={editIssue.dueDate} onChange={e => handleUpdateField('dueDate', e.target.value)} /></div>\r\n//               <div className=\"modal-field\"><label>Start Date</label><input type=\"date\" value={editIssue.startDate} onChange={e => handleUpdateField('startDate', e.target.value)} /></div>\r\n//             </div>\r\n//             <div className=\"modal-actions\" style={{ gridColumn: \"span 3\", alignItems: 'center' }}>\r\n//               <button className=\"btn-reset\" onClick={handleReset}>Reset</button>\r\n//               <button className=\"btn-save\" onClick={handleSave}>Save</button>\r\n//               <button className=\"modal-delete-btn\" onClick={async () => {\r\n//                 if (window.confirm('Delete this issue?')) {\r\n//                   await deleteIssueAPI(selectedIssue.id);\r\n//                   const refreshed = await listIssues(projectId);\r\n//                   setIssues(refreshed);\r\n//                   setSelectedIssue(null);\r\n//                 }\r\n//               }}>ðŸ—‘</button>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//       )}\r\n\r\n//       {/* Inline CSS styles */}\r\n//       <style>{`\r\n//         /* Base styles */\r\n//         body {\r\n//           font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\r\n//           background-color: #f5f6f8;\r\n//           margin: 0;\r\n//           padding: 16px;\r\n//         }\r\n//         .board-wrap {\r\n//           max-width: 100%;\r\n//           overflow-x: auto;\r\n//         }\r\n\r\n//         /* Desktop styles */\r\n//         @media (min-width: 768px) {\r\n//           .swimlane {\r\n//             background: white;\r\n//             border-radius: 8px;\r\n//             margin-bottom: 16px;\r\n//             box-shadow: 0 1px 3px rgba(0,0,0,0.1);\r\n//             overflow: hidden;\r\n//           }\r\n          \r\n//           .kanban-row {\r\n//             display: flex;\r\n//             padding: 16px;\r\n//             gap: 12px;\r\n//             overflow-x: auto;\r\n//           }\r\n          \r\n//           .kanban-column {\r\n//             flex: 0 0 260px;\r\n//             background: #f5f6f8;\r\n//             border-radius: 6px;\r\n//             padding: 12px;\r\n//             display: flex;\r\n//             flex-direction: column;\r\n//             gap: 12px;\r\n//             border: 1px solid #dfe5e5;\r\n//             user-select: none;\r\n//             min-height: 400px;\r\n//           }\r\n          \r\n//           .modal {\r\n//             background: white;\r\n//             border-radius: 8px;\r\n//             padding: 24px;\r\n//             width: 700px;\r\n//             max-height: 80vh;\r\n//             display: grid;\r\n//             grid-template-columns: 1fr 1fr 1fr;\r\n//             gap: 16px;\r\n//             overflow-y: auto;\r\n//             position: relative;\r\n//           }\r\n//         }\r\n\r\n//         /* Mobile styles */\r\n//         @media (max-width: 767px) {\r\n//           body {\r\n//             padding: 8px;\r\n//           }\r\n          \r\n//           .mobile-swimlane-selector {\r\n//             margin-bottom: 16px;\r\n//             position: sticky;\r\n//             top: 0;\r\n//             background: white;\r\n//             padding: 12px;\r\n//             border-radius: 8px;\r\n//             box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n//             z-index: 100;\r\n//           }\r\n          \r\n//           .mobile-select {\r\n//             width: 100%;\r\n//             padding: 12px;\r\n//             border: 1px solid #dfe5e5;\r\n//             border-radius: 6px;\r\n//             font-size: 16px;\r\n//             background: white;\r\n//           }\r\n          \r\n//           .swimlane {\r\n//             background: white;\r\n//             border-radius: 8px;\r\n//             margin-bottom: 12px;\r\n//             box-shadow: 0 1px 3px rgba(0,0,0,0.1);\r\n//             overflow: hidden;\r\n//           }\r\n          \r\n//           .swimlane-header {\r\n//             display: flex;\r\n//             align-items: center;\r\n//             padding: 12px;\r\n//             background: #fafbfc;\r\n//             border-bottom: 1px solid #dfe5e5;\r\n//             font-weight: 600;\r\n//             font-size: 14px;\r\n//             color: #172b4d;\r\n//             position: relative;\r\n//           }\r\n          \r\n//           .mobile-swimlane-toggle {\r\n//             background: none;\r\n//             border: none;\r\n//             font-size: 16px;\r\n//             color: #5e6c84;\r\n//             margin-left: auto;\r\n//             padding: 4px 8px;\r\n//           }\r\n          \r\n//           .kanban-row.mobile-view {\r\n//             display: block;\r\n//             padding: 8px;\r\n//             overflow-x: auto;\r\n//             white-space: nowrap;\r\n//           }\r\n          \r\n//           .kanban-column.mobile-column {\r\n//             display: inline-block;\r\n//             vertical-align: top;\r\n//             width: 280px;\r\n//             margin-right: 8px;\r\n//             background: #f5f6f8;\r\n//             border-radius: 6px;\r\n//             padding: 8px;\r\n//             border: 1px solid #dfe5e5;\r\n//             user-select: none;\r\n//             min-height: 300px;\r\n//           }\r\n          \r\n//           .col-header {\r\n//             display: flex;\r\n//             align-items: center;\r\n//             margin-bottom: 8px;\r\n//             gap: 6px;\r\n//           }\r\n          \r\n//           .col-title {\r\n//             font-weight: 600;\r\n//             font-size: 11px;\r\n//             color: #5e6c84;\r\n//             text-transform: uppercase;\r\n//             letter-spacing: 0.5px;\r\n//             flex-grow: 1;\r\n//           }\r\n          \r\n//           .card-item {\r\n//             background: white;\r\n//             border-radius: 6px;\r\n//             padding: 10px;\r\n//             box-shadow: 0 0 2px rgba(0,0,0,0.1);\r\n//             cursor: pointer;\r\n//             user-select: none;\r\n//             display: flex;\r\n//             flex-direction: column;\r\n//             gap: 6px;\r\n//             border: 1px solid #dfe5e5;\r\n//             margin-bottom: 8px;\r\n//           }\r\n          \r\n//           .card-title {\r\n//             font-weight: 600;\r\n//             font-size: 13px;\r\n//             color: #2b3a59;\r\n//             line-height: 1.3;\r\n//           }\r\n          \r\n//           .card-meta {\r\n//             display: flex;\r\n//             gap: 6px;\r\n//             font-size: 10px;\r\n//             color: #6b7c93;\r\n//             align-items: center;\r\n//             flex-wrap: wrap;\r\n//           }\r\n          \r\n//           .modal.mobile-modal {\r\n//             width: 95vw;\r\n//             max-height: 90vh;\r\n//             padding: 16px;\r\n//             display: flex;\r\n//             flex-direction: column;\r\n//           }\r\n          \r\n//           .modal-content.mobile-modal-content {\r\n//             display: flex;\r\n//             flex-direction: column;\r\n//             gap: 12px;\r\n//             overflow-y: auto;\r\n//           }\r\n          \r\n//           .modal-field {\r\n//             display: flex;\r\n//             flex-direction: column;\r\n//             gap: 4px;\r\n//           }\r\n          \r\n//           .modal-field input, .modal-field textarea, .modal-field select {\r\n//             padding: 10px;\r\n//             font-size: 16px; /* Better for mobile touch */\r\n//           }\r\n          \r\n//           .modal-actions {\r\n//             display: flex;\r\n//             gap: 8px;\r\n//             justify-content: space-between;\r\n//             margin-top: 16px;\r\n//           }\r\n          \r\n//           .modal-actions button {\r\n//             flex: 1;\r\n//             padding: 12px;\r\n//             font-size: 16px;\r\n//           }\r\n//         }\r\n\r\n//         /* Common styles (applied to both desktop and mobile) */\r\n//         .swimlane-header {\r\n//           display: flex;\r\n//           align-items: center;\r\n//           padding: 12px 16px;\r\n//           background: #fafbfc;\r\n//           border-bottom: 1px solid #dfe5e5;\r\n//           font-weight: 600;\r\n//           font-size: 14px;\r\n//           color: #172b4d;\r\n//         }\r\n        \r\n//         .swimlane-toggle, .swimlane-icon {\r\n//           color: #5e6c84;\r\n//           margin-right: 8px;\r\n//           cursor: pointer;\r\n//         }\r\n        \r\n//         .swimlane-toggle {\r\n//           border: none;\r\n//           background: transparent;\r\n//           font-size: 14px;\r\n//         }\r\n        \r\n//         .swimlane-icon {\r\n//           font-size: 18px;\r\n//         }\r\n        \r\n//         .swimlane-title-input {\r\n//           border: 1px solid #dfe5e5;\r\n//           border-radius: 4px;\r\n//           padding: 4px 8px;\r\n//           font-size: 14px;\r\n//           font-weight: 600;\r\n//           background: white;\r\n//           margin-right: 8px;\r\n//           min-width: 150px;\r\n//           color: #172b4d;\r\n//         }\r\n        \r\n//         .swimlane-title-input:focus {\r\n//           outline: none;\r\n//           border-color: #1976d2;\r\n//         }\r\n        \r\n//         .swimlane-count {\r\n//           color: #5e6c84;\r\n//           font-size: 12px;\r\n//           font-weight: normal;\r\n//         }\r\n        \r\n//         .col-header {\r\n//           display: flex;\r\n//           align-items: center;\r\n//           margin-bottom: 4px;\r\n//           gap: 6px;\r\n//         }\r\n        \r\n//         .col-title {\r\n//           font-weight: 600;\r\n//           font-size: 12px;\r\n//           color: #5e6c84;\r\n//           text-transform: uppercase;\r\n//           letter-spacing: 0.5px;\r\n//           flex-grow: 1;\r\n//         }\r\n        \r\n//         .col-count {\r\n//           background: #dfe5e5;\r\n//           color: #5e6c84;\r\n//           border-radius: 12px;\r\n//           padding: 2px 8px;\r\n//           font-size: 11px;\r\n//           font-weight: 600;\r\n//           min-width: 20px;\r\n//           text-align: center;\r\n//         }\r\n        \r\n//         .col-icons {\r\n//           display: flex;\r\n//           gap: 6px;\r\n//         }\r\n        \r\n//         .col-icon {\r\n//           cursor: pointer;\r\n//           color: #5e6c84;\r\n//           font-size: 18px;\r\n//           background: none;\r\n//           border: none;\r\n//           padding: 0;\r\n//         }\r\n        \r\n//         .create-card {\r\n//           background: white;\r\n//           padding: 10px;\r\n//           border-radius: 6px;\r\n//           box-shadow: 0 0 2px rgba(0, 0, 0, 0.2);\r\n//           display: flex;\r\n//           flex-direction: column;\r\n//           gap: 10px;\r\n//         }\r\n        \r\n//         .card-item {\r\n//           background: white;\r\n//           border-radius: 8px;\r\n//           padding: 12px;\r\n//           box-shadow: 0 0 2px rgba(0,0,0,0.1);\r\n//           cursor: pointer;\r\n//           user-select: none;\r\n//           display: flex;\r\n//           flex-direction: column;\r\n//           gap: 6px;\r\n//           border: 1px solid #dfe5e5;\r\n//           transition: box-shadow 0.2s ease, border-color 0.2s ease;\r\n//         }\r\n        \r\n//         .card-item:hover {\r\n//           box-shadow: 0px 2px 10px rgba(0,0,0,0.15);\r\n//           border-color: #a2adba;\r\n//         }\r\n        \r\n//         .modal-overlay {\r\n//           position: fixed;\r\n//           top: 0; left: 0; right: 0; bottom: 0;\r\n//           background: rgba(0,0,0,0.5);\r\n//           display: flex;\r\n//           align-items: center;\r\n//           justify-content: center;\r\n//           z-index: 1000;\r\n//         }\r\n        \r\n//         /* Button styles */\r\n//         button {\r\n//           cursor: pointer;\r\n//           transition: background-color 0.2s;\r\n//         }\r\n        \r\n//         button:hover {\r\n//           opacity: 0.9;\r\n//         }\r\n\r\n//         /* Touch improvements for mobile */\r\n//         @media (max-width: 767px) {\r\n//           button, .card-item, .col-icon {\r\n//             min-height: 44px;\r\n//             min-width: 44px;\r\n//           }\r\n          \r\n//           .card-item {\r\n//             touch-action: manipulation;\r\n//           }\r\n//         }\r\n//       `}</style>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// const btnStyle = {\r\n//   cancel: {\r\n//     padding: '10px 18px',\r\n//     borderRadius: '6px',\r\n//     border: 'none',\r\n//     backgroundColor: '#5e6c84',\r\n//     color: 'white',\r\n//     fontWeight: '600',\r\n//     fontSize: '14px',\r\n//     cursor: 'pointer'\r\n//   },\r\n//   create: {\r\n//     padding: '10px 18px',\r\n//     borderRadius: '6px',\r\n//     border: 'none',\r\n//     backgroundColor: '#1976d2',\r\n//     color: 'white',\r\n//     fontWeight: '600',\r\n//     fontSize: '14px',\r\n//     cursor: 'pointer'\r\n//   },\r\n//   delete: {\r\n//     padding: '10px 18px',\r\n//     borderRadius: '6px',\r\n//     border: 'none',\r\n//     backgroundColor: '#d32f2f',\r\n//     color: 'white',\r\n//     fontWeight: '600',\r\n//     fontSize: '14px',\r\n//     cursor: 'pointer'\r\n//   }\r\n// };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import React, { useEffect, useState } from 'react';\r\n// import { useParams } from 'react-router-dom';\r\n\r\n// const mockIssues = [\r\n//   { id: 'i1', epic: 'p1', epicName: 'Frontend', status: 'todo', type: 'Task', title: 'Setup repo', assignee: 'John Doe', storyPoints: 3, labels: [], dueDate: '2025-09-30', reporter: 'admin', priority: 'High', startDate: '2025-09-15', description: '', subtasks: '', comments: '' },\r\n//   { id: 'i3', epic: 'p2', epicName: 'Middleware', status: 'todo', type: 'Subtask', title: 'API integration', assignee: 'Jane Smith', storyPoints: 2, labels: [], dueDate: '', reporter: 'lead-dev', priority: 'Low', startDate: '2025-09-18', description: '', subtasks: '', comments: '' }\r\n// ];\r\n\r\n// const defaultStatuses = ['backlog', 'todo', 'analysis', 'inprogress', 'blocked', 'code review', 'qa', 'milestone', 'done'];\r\n// const mockEpics = [{ id: 'p1', name: 'Frontend' }, { id: 'p2', name: 'Middleware' }];\r\n// const mockProjects = [\r\n//   { id: 'p1', name: 'E-Commerce Platform' },\r\n//   { id: 'p2', name: 'API Gateway Service' },\r\n//   { id: 'p3', name: 'Mobile App Development' }\r\n// ];\r\n\r\n// const simulateApiDelay = () => new Promise(resolve => setTimeout(resolve, 200));\r\n// const listIssues = async (projectId) => {\r\n//   await simulateApiDelay();\r\n//   return mockIssues.filter(i => !projectId || i.epic === projectId || i.projectId === projectId);\r\n// };\r\n// const listEpics = async () => { await simulateApiDelay(); return mockEpics; };\r\n// const getProjectName = async (projectId) => {\r\n//   await simulateApiDelay();\r\n//   const project = mockProjects.find(p => p.id === projectId);\r\n//   return project ? project.name : 'Untitled Project';\r\n// };\r\n// const createEpicAPI = async (epicName) => {\r\n//   await simulateApiDelay();\r\n//   const newEpic = { id: 'p' + (mockEpics.length + 1), name: epicName };\r\n//   mockEpics.push(newEpic);\r\n//   return newEpic;\r\n// };\r\n// const deleteEpicAPI = async (epicId) => {\r\n//   await simulateApiDelay();\r\n//   const epicIndex = mockEpics.findIndex(epic => epic.id === epicId);\r\n//   if (epicIndex > -1) mockEpics.splice(epicIndex, 1);\r\n//   const issueIndices = [];\r\n//   mockIssues.forEach((issue, index) => { if (issue.epic === epicId) issueIndices.push(index); });\r\n//   issueIndices.sort((a, b) => b - a).forEach(index => { mockIssues.splice(index, 1); });\r\n// };\r\n// const moveIssue = async (issueId, status) => {\r\n//   await simulateApiDelay();\r\n//   const issue = mockIssues.find(i => i.id === issueId);\r\n//   if (!issue) throw new Error('Issue not found');\r\n//   issue.status = status;\r\n// };\r\n// const createIssueAPI = async (issue) => { await simulateApiDelay(); mockIssues.push(issue); };\r\n// const deleteIssueAPI = async (issueId) => { await simulateApiDelay(); const idx = mockIssues.findIndex(i => i.id === issueId); if (idx > -1) mockIssues.splice(idx, 1); };\r\n// const updateIssueAPI = async (updatedIssue) => { await simulateApiDelay(); const idx = mockIssues.findIndex(i => i.id === updatedIssue.id); if (idx > -1) mockIssues[idx] = { ...mockIssues[idx], ...updatedIssue }; };\r\n\r\n// const getSwimlanes = (issues, epics) =>\r\n//   epics.map(epic => {\r\n//     const epicIssues = issues.filter(i => (i.epic || i.projectId) === epic.id);\r\n//     return { id: epic.id, title: epic.name, issues: epicIssues };\r\n//   });\r\n\r\n// export default function KanbanBoard() {\r\n//   const { projectId } = useParams();\r\n//   const [issues, setIssues] = useState([]);\r\n//   const [epics, setEpics] = useState([]);\r\n//   const [projectName, setProjectName] = useState('');\r\n//   const [openSwimlanes, setOpenSwimlanes] = useState({});\r\n//   const [customTitles, setCustomTitles] = useState({});\r\n//   const [createLaneId, setCreateLaneId] = useState(null);\r\n//   const [newTaskText, setNewTaskText] = useState('');\r\n//   const [newTaskType, setNewTaskType] = useState('Task');\r\n//   const [selectedIssue, setSelectedIssue] = useState(null);\r\n//   const [editIssue, setEditIssue] = useState(null);\r\n//   const [showCreateEpic, setShowCreateEpic] = useState(false);\r\n//   const [showDeleteEpic, setShowDeleteEpic] = useState(false);\r\n//   const [newEpicName, setNewEpicName] = useState('');\r\n//   const [epicToDelete, setEpicToDelete] = useState('');\r\n//   const [columnsByLane, setColumnsByLane] = useState({});\r\n//   const [columnModal, setColumnModal] = useState(null);\r\n//   const [columnInput, setColumnInput] = useState('');\r\n//   const [hoveredAssigneeId, setHoveredAssigneeId] = useState(null);\r\n//   const [modalPosition, setModalPosition] = useState({ top: 0, left: 0 });\r\n//   const [isMobile, setIsMobile] = useState(false);\r\n//   const [activeSwimlane, setActiveSwimlane] = useState(null);\r\n\r\n//   // Detect mobile screen size\r\n//   useEffect(() => {\r\n//     const checkScreenSize = () => {\r\n//       setIsMobile(window.innerWidth < 768);\r\n//     };\r\n    \r\n//     checkScreenSize();\r\n//     window.addEventListener('resize', checkScreenSize);\r\n    \r\n//     return () => window.removeEventListener('resize', checkScreenSize);\r\n//   }, []);\r\n\r\n//   useEffect(() => {\r\n//     const fetchData = async () => {\r\n//       try {\r\n//         const [issuesData, epicsData, projectNameData] = await Promise.all([\r\n//           listIssues(projectId), \r\n//           listEpics(), \r\n//           projectId ? getProjectName(projectId) : Promise.resolve('All Projects')\r\n//         ]);\r\n//         setIssues(issuesData);\r\n//         setEpics(epicsData);\r\n//         setProjectName(projectNameData);\r\n//         const lanes = getSwimlanes(issuesData, epicsData);\r\n//         const initialOpen = {}, initialTitles = {}, initialCols = {};\r\n//         lanes.forEach(lane => {\r\n//           initialOpen[lane.id] = true;\r\n//           initialTitles[lane.id] = lane.title;\r\n//           initialCols[lane.id] = defaultStatuses.slice();\r\n//         });\r\n//         setOpenSwimlanes(initialOpen);\r\n//         setCustomTitles(initialTitles);\r\n//         setColumnsByLane(initialCols);\r\n//       } catch (err) { console.error(err); }\r\n//     };\r\n//     fetchData();\r\n//   }, [projectId]);\r\n\r\n//   const openAddColumnModal = (e, laneId, colIndex) => {\r\n//     const rect = e.currentTarget.getBoundingClientRect();\r\n//     setModalPosition({ top: rect.bottom + window.scrollY + 8, left: rect.left + window.scrollX });\r\n//     setColumnModal({ laneId, colIndex, type: 'add' });\r\n//     setColumnInput('');\r\n//   };\r\n//   const openEditColumnModal = (e, laneId, colIndex, status) => {\r\n//     const rect = e.currentTarget.getBoundingClientRect();\r\n//     setModalPosition({ top: rect.bottom + window.scrollY + 8, left: rect.left + window.scrollX });\r\n//     setColumnModal({ laneId, colIndex, type: 'menu' });\r\n//     setColumnInput(status);\r\n//   };\r\n//   const handleAddColumn = () => {\r\n//     const name = columnInput.trim();\r\n//     if (!name) return alert('Column name is required');\r\n//     setColumnsByLane(prev => {\r\n//       const cols = [...prev[columnModal.laneId]];\r\n//       if (cols.includes(name.toLowerCase())) alert('Column name already exists');\r\n//       else cols.splice(columnModal.colIndex + 1, 0, name.toLowerCase());\r\n//       return { ...prev, [columnModal.laneId]: cols };\r\n//     });\r\n//     setColumnModal(null);\r\n//     setColumnInput('');\r\n//   };\r\n//   const handleEditColumn = () => {\r\n//     const name = columnInput.trim();\r\n//     if (!name) return alert('Column name is required');\r\n//     const { laneId, colIndex } = columnModal;\r\n//     const oldCol = columnsByLane[laneId][colIndex];\r\n//     if (columnsByLane[laneId].includes(name.toLowerCase()) && name.toLowerCase() !== oldCol) {\r\n//       alert('Column name already exists');\r\n//       return;\r\n//     }\r\n//     setColumnsByLane(prev => {\r\n//       const cols = [...prev[laneId]];\r\n//       cols[colIndex] = name.toLowerCase();\r\n//       return { ...prev, [laneId]: cols };\r\n//     });\r\n//     const updatedIssues = issues.map(issue =>\r\n//       (issue.epic || issue.projectId) === laneId && issue.status === oldCol ? { ...issue, status: name.toLowerCase() } : issue\r\n//     );\r\n//     setIssues(updatedIssues);\r\n//     setColumnModal(null);\r\n//     setColumnInput('');\r\n//   };\r\n//   const handleDeleteColumn = () => {\r\n//     const { laneId, colIndex } = columnModal;\r\n//     const removedCol = columnsByLane[laneId][colIndex];\r\n//     setColumnsByLane(prev => {\r\n//       const cols = [...prev[laneId]];\r\n//       cols.splice(colIndex, 1);\r\n//       return { ...prev, [laneId]: cols };\r\n//     });\r\n//     const updatedIssues = issues.map(issue =>\r\n//       (issue.epic || issue.projectId) === laneId && issue.status === removedCol ? { ...issue, status: 'backlog' } : issue\r\n//     );\r\n//     setIssues(updatedIssues);\r\n//     setColumnModal(null);\r\n//     setColumnInput('');\r\n//   };\r\n//   const toggleSwimlane = (id) => setOpenSwimlanes(prev => ({ ...prev, [id]: !prev[id] }));\r\n//   const byStatus = (collection, status) => collection.filter(i => i.status === status);\r\n\r\n//   const onDragStart = (e, issueId) => e.dataTransfer.setData('text/plain', issueId);\r\n//   const onDrop = async (e, targetStatus, swimlaneId) => {\r\n//     e.preventDefault();\r\n//     try {\r\n//       const issueId = e.dataTransfer.getData('text/plain');\r\n//       const issue = issues.find(i => i.id === issueId);\r\n//       const srcLaneId = issue.epic || issue.projectId;\r\n//       if (srcLaneId === swimlaneId && issue.status !== targetStatus) {\r\n//         await moveIssue(issueId, targetStatus);\r\n//         const refreshed = await listIssues(projectId);\r\n//         setIssues(refreshed);\r\n//       }\r\n//     } catch (err) { console.error(err); }\r\n//   };\r\n//   const onDragOver = e => e.preventDefault();\r\n\r\n//   const handleCreateClick = laneId => { setCreateLaneId(laneId); setNewTaskText(''); setNewTaskType('Task'); };\r\n//   const handleCreateSubmit = async lane => {\r\n//     if (!newTaskText.trim()) { alert('Task title is required'); return; }\r\n//     const newIssue = {\r\n//       id: Math.random().toString(36).slice(2),\r\n//       epic: lane.id,\r\n//       projectId: lane.id,\r\n//       epicName: lane.title,\r\n//       title: newTaskText,\r\n//       status: 'backlog',\r\n//       assignee: '',\r\n//       type: newTaskType,\r\n//       storyPoints: '',\r\n//       labels: [],\r\n//       dueDate: '',\r\n//       reporter: 'system',\r\n//       priority: 'Medium',\r\n//       startDate: new Date().toISOString().split('T')[0],\r\n//       description: '',\r\n//       subtasks: '',\r\n//       comments: ''\r\n//     };\r\n//     try {\r\n//       await createIssueAPI(newIssue);\r\n//       const refreshed = await listIssues(projectId);\r\n//       setIssues(refreshed);\r\n//       setCreateLaneId(null);\r\n//     } catch (err) { console.error(err); }\r\n//   };\r\n\r\n//   const handleOpenModal = (issue) => { setSelectedIssue(issue); setEditIssue({ ...issue }); };\r\n//   const handleUpdateField = (field, value) => { setEditIssue(prev => ({ ...prev, [field]: value })); };\r\n//   const handleSave = async () => { await updateIssueAPI(editIssue); const refreshed = await listIssues(projectId); setIssues(refreshed); setSelectedIssue(null); setEditIssue(null); };\r\n//   const handleReset = () => { setEditIssue({ ...selectedIssue }); };\r\n\r\n//   // Create Epic Modal Handlers\r\n//   const handleCreateEpic = async () => {\r\n//     if (!newEpicName.trim()) {\r\n//       alert('Epic name is required');\r\n//       return;\r\n//     }\r\n//     try {\r\n//       await createEpicAPI(newEpicName);\r\n//       const updatedEpics = await listEpics();\r\n//       setEpics(updatedEpics);\r\n//       setNewEpicName('');\r\n//       setShowCreateEpic(false);\r\n//       const newEpic = updatedEpics[updatedEpics.length - 1];\r\n//       setOpenSwimlanes(prev => ({ ...prev, [newEpic.id]: true }));\r\n//       setCustomTitles(prev => ({ ...prev, [newEpic.id]: newEpic.name }));\r\n//       setColumnsByLane(prev => ({ ...prev, [newEpic.id]: defaultStatuses.slice() }));\r\n//     } catch (error) {\r\n//       console.error('Error creating epic:', error);\r\n//     }\r\n//   };\r\n\r\n//   // Delete Epic Modal Handler\r\n//   const handleDeleteEpic = async () => {\r\n//     if (!epicToDelete) {\r\n//       alert('Please select an epic to delete');\r\n//       return;\r\n//     }\r\n//     if (!window.confirm(`Are you sure you want to delete the epic \"${epics.find(e => e.id === epicToDelete)?.name}\"? This will also delete all issues in this epic.`)) {\r\n//       return;\r\n//     }\r\n//     try {\r\n//       await deleteEpicAPI(epicToDelete);\r\n//       const [refreshedIssues, refreshedEpics] = await Promise.all([\r\n//         listIssues(projectId),\r\n//         listEpics()\r\n//       ]);\r\n//       setIssues(refreshedIssues);\r\n//       setEpics(refreshedEpics);\r\n//       setEpicToDelete('');\r\n//       setShowDeleteEpic(false);\r\n//       setColumnsByLane(prev => {\r\n//         const copy = { ...prev };\r\n//         delete copy[epicToDelete];\r\n//         return copy;\r\n//       });\r\n//       setOpenSwimlanes(prev => {\r\n//         const copy = { ...prev };\r\n//         delete copy[epicToDelete];\r\n//         return copy;\r\n//       });\r\n//       setCustomTitles(prev => {\r\n//         const copy = { ...prev };\r\n//         delete copy[epicToDelete];\r\n//         return copy;\r\n//       });\r\n//     } catch (error) {\r\n//       console.error('Error deleting epic:', error);\r\n//     }\r\n//   };\r\n\r\n//   // Mobile-specific functions\r\n//   const toggleMobileSwimlane = (laneId) => {\r\n//     if (activeSwimlane === laneId) {\r\n//       setActiveSwimlane(null);\r\n//     } else {\r\n//       setActiveSwimlane(laneId);\r\n//     }\r\n//   };\r\n\r\n//   const swimlanes = getSwimlanes(issues, epics);\r\n\r\n//   return (\r\n//     <div className=\"board-wrap\">\r\n//       {/* Project Name Header */}\r\n//       <div className=\"project-header\">\r\n//         <h1 className=\"project-title\">{projectName}</h1>\r\n//         <div className=\"project-stats\">\r\n//           <span className=\"project-stat\">{epics.length} Epics</span>\r\n//           <span className=\"project-stat\">{issues.length} Issues</span>\r\n//           <span className=\"project-stat\">\r\n//             {issues.filter(issue => issue.status === 'done').length} Completed\r\n//           </span>\r\n//         </div>\r\n//       </div>\r\n\r\n//       {/* Mobile swimlane selector */}\r\n//       {isMobile && (\r\n//         <div className=\"mobile-swimlane-selector\">\r\n//           <select \r\n//             value={activeSwimlane || ''} \r\n//             onChange={(e) => setActiveSwimlane(e.target.value || null)}\r\n//             className=\"mobile-select\"\r\n//           >\r\n//             <option value=\"\">All Swimlanes</option>\r\n//             {swimlanes.map(lane => (\r\n//               <option key={lane.id} value={lane.id}>{customTitles[lane.id] || lane.title}</option>\r\n//             ))}\r\n//           </select>\r\n//         </div>\r\n//       )}\r\n\r\n//       {/* Swimlanes and columns */}\r\n//       {swimlanes.map(lane => {\r\n//         const isOpen = isMobile ? (activeSwimlane === null || activeSwimlane === lane.id) : openSwimlanes[lane.id];\r\n//         const statuses = columnsByLane[lane.id] || defaultStatuses;\r\n        \r\n//         // Skip rendering if mobile and this isn't the active swimlane\r\n//         if (isMobile && activeSwimlane && activeSwimlane !== lane.id) {\r\n//           return null;\r\n//         }\r\n\r\n//         return (\r\n//           <section className=\"swimlane\" key={lane.id}>\r\n//             <header className=\"swimlane-header\">\r\n//               {!isMobile && (\r\n//                 <button className=\"swimlane-toggle\" onClick={() => toggleSwimlane(lane.id)}>\r\n//                   {isOpen ? 'â–¼' : 'â–¶'}\r\n//                 </button>\r\n//               )}\r\n//               <span className=\"swimlane-icon\">âš¡</span>\r\n//               <input \r\n//                 className=\"swimlane-title-input\" \r\n//                 value={customTitles[lane.id] || ''} \r\n//                 onChange={e => setCustomTitles(prev => ({ ...prev, [lane.id]: e.target.value }))} \r\n//               />\r\n//               <span className=\"swimlane-count\">{lane.issues.length} work items</span>\r\n//               {isMobile && (\r\n//                 <button \r\n//                   className=\"mobile-swimlane-toggle\"\r\n//                   onClick={() => toggleMobileSwimlane(lane.id)}\r\n//                 >\r\n//                   {activeSwimlane === lane.id ? 'â–²' : 'â–¼'}\r\n//                 </button>\r\n//               )}\r\n//             </header>\r\n//             {isOpen && (\r\n//               <div className={`kanban-row ${isMobile ? 'mobile-view' : ''}`}>\r\n//                 {statuses.map((status, idx) => {\r\n//                   const issuesForStatus = byStatus(lane.issues, status);\r\n//                   return (\r\n//                     <div \r\n//                       className={`kanban-column ${isMobile ? 'mobile-column' : ''}`} \r\n//                       key={status} \r\n//                       onDragOver={onDragOver} \r\n//                       onDrop={e => onDrop(e, status, lane.id)}\r\n//                     >\r\n//                       <div className=\"col-header\">\r\n//                         <span className=\"col-title\">{status.toUpperCase()}</span>\r\n//                         {!isMobile && (\r\n//                           <span className=\"col-icons\">\r\n//                             <button className=\"col-icon\" title=\"Add Column\" onClick={e => openAddColumnModal(e, lane.id, idx)}>ï¼‹</button>\r\n//                             <button className=\"col-icon\" title=\"Edit/Delete Column\" onClick={e => openEditColumnModal(e, lane.id, idx, status)}>â‹®</button>\r\n//                           </span>\r\n//                         )}\r\n//                         {issuesForStatus.length > 0 && <span className=\"col-count\">{issuesForStatus.length}</span>}\r\n//                       </div>\r\n//                       <div className=\"col-create\">\r\n//                         {status === 'backlog' && (\r\n//                           createLaneId === lane.id ? (\r\n//                             <div className=\"create-card\">\r\n//                               <textarea rows={2} className=\"create-input\" placeholder=\"What needs to be done?\" value={newTaskText} onChange={e => setNewTaskText(e.target.value)} />\r\n//                               <div className=\"create-actions\">\r\n//                                 <select value={newTaskType} onChange={e => setNewTaskType(e.target.value)} className=\"create-select\">\r\n//                                   <option>Task</option><option>Subtask</option><option>Bug</option>\r\n//                                 </select>\r\n//                                 <button className=\"create-btn\" onClick={() => handleCreateSubmit(lane)}>âœ”</button>\r\n//                                 <button className=\"create-btn\" onClick={() => setCreateLaneId(null)}>âœ–</button>\r\n//                               </div>\r\n//                             </div>\r\n//                           ) : (<span className=\"create-link\" onClick={() => handleCreateClick(lane.id)}>+ Create</span>)\r\n//                         )}\r\n//                       </div>\r\n//                       {issuesForStatus.map(issue => {\r\n//                         const isHovered = hoveredAssigneeId === issue.id;\r\n//                         return (\r\n//                           <div className=\"card-item\" key={issue.id} draggable onDragStart={e => onDragStart(e, issue.id)} onClick={() => handleOpenModal(issue)}>\r\n//                             <div className=\"card-top\">\r\n//                               <span className={`card-tag card-tag-${issue.type.toLowerCase()}`}>{issue.type}</span>\r\n//                               <span className=\"card-id\">{issue.id}</span>\r\n//                             </div>\r\n//                             <div className=\"card-title\">{issue.title}</div>\r\n//                             <div className=\"card-meta\">\r\n//                               {issue.dueDate && <span className=\"card-due\">ðŸ“… {issue.dueDate}</span>}\r\n//                               <span className={`card-priority ${issue.priority.toLowerCase()}`}>âš‘ {issue.priority}</span>\r\n//                               {issue.assignee && (\r\n//                                 <span className=\"card-assignee\" onMouseEnter={() => setHoveredAssigneeId(issue.id)} onMouseLeave={() => setHoveredAssigneeId(null)} style={{ position: 'relative', cursor: 'default', userSelect: 'none' }}>\r\n//                                   ðŸ‘¤\r\n//                                   {isHovered && <div className=\"assignee-tooltip\">{issue.assignee}</div>}\r\n//                                 </span>\r\n//                               )}\r\n//                             </div>\r\n//                           </div>\r\n//                         );\r\n//                       })}\r\n//                     </div>\r\n//                   );\r\n//                 })}\r\n//               </div>\r\n//             )}\r\n//           </section>\r\n//         );\r\n//       })}\r\n\r\n//       {/* Column Add/Edit modal */}\r\n//       {columnModal && (columnModal.type === 'add' || columnModal.type === 'menu') && (\r\n//         <div className=\"epic-modal-overlay\" onClick={() => setColumnModal(null)} style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, zIndex: 1000 }}>\r\n//           <div className=\"epic-modal\" onClick={e => e.stopPropagation()} style={{\r\n//             position: isMobile ? 'fixed' : 'absolute',\r\n//             top: isMobile ? '50%' : modalPosition.top,\r\n//             left: isMobile ? '50%' : modalPosition.left,\r\n//             transform: isMobile ? 'translate(-50%, -50%)' : 'translateX(-50%)',\r\n//             minWidth: isMobile ? '90vw' : 280,\r\n//             maxWidth: isMobile ? '95vw' : 320,\r\n//             padding: 20,\r\n//             borderRadius: 10,\r\n//             background: 'white',\r\n//             boxShadow: '0 10px 40px rgba(0,0,0,0.3)',\r\n//             zIndex: 1100\r\n//           }}>\r\n//             {columnModal.type === 'add' ? (\r\n//               <>\r\n//                 <h3 style={{ marginBottom: 15, fontWeight: 600, fontSize: 20, color: '#172b4d' }}>Add Column</h3>\r\n//                 <input value={columnInput} onChange={e => setColumnInput(e.target.value)} placeholder=\"Column name\" autoFocus className=\"epic-modal-input\" style={{ width: '100%', padding: 12, fontSize: 16, borderRadius: 6, border: '1px solid #dfe1e5', marginBottom: 20, boxSizing: 'border-box' }} />\r\n//                 <div className=\"epic-modal-actions\" style={{ display: 'flex', justifyContent: 'flex-end', gap: 12, flexWrap: isMobile ? 'wrap' : 'nowrap' }}>\r\n//                   <button className=\"btn-cancel\" onClick={() => setColumnModal(null)} style={btnStyle.cancel}>Cancel</button>\r\n//                   <button className=\"btn-create\" onClick={handleAddColumn} style={btnStyle.create}>Add</button>\r\n//                 </div>\r\n//               </>\r\n//             ) : (\r\n//               <>\r\n//                 <h3 style={{ marginBottom: 15, fontWeight: 600, fontSize: 20, color: '#172b4d' }}>Edit/Delete Column</h3>\r\n//                 <input value={columnInput} onChange={e => setColumnInput(e.target.value)} placeholder=\"Column name\" autoFocus className=\"epic-modal-input\" style={{ width: '100%', padding: 12, fontSize: 16, borderRadius: 6, border: '1px solid #dfe1e5', marginBottom: 20, boxSizing: 'border-box' }} />\r\n//                 <div className=\"epic-modal-actions\" style={{ display: 'flex', justifyContent: 'flex-end', gap: 12, flexWrap: isMobile ? 'wrap' : 'nowrap' }}>\r\n//                   <button className=\"btn-save\" onClick={handleEditColumn} style={btnStyle.create}>Rename</button>\r\n//                   <button className=\"btn-delete\" onClick={handleDeleteColumn} style={btnStyle.delete}>Delete</button>\r\n//                   <button className=\"btn-cancel\" onClick={() => setColumnModal(null)} style={btnStyle.cancel}>Cancel</button>\r\n//                 </div>\r\n//               </>\r\n//             )}\r\n//           </div>\r\n//         </div>\r\n//       )}\r\n\r\n//       {/* Issue modal */}\r\n//       {selectedIssue && editIssue && (\r\n//         <div className=\"modal-overlay\" onClick={() => setSelectedIssue(null)}>\r\n//           <div className={`modal ${isMobile ? 'mobile-modal' : ''}`} onClick={e => e.stopPropagation()}>\r\n//             <div className=\"modal-header\">\r\n//               <h2>{editIssue.epicName}</h2>\r\n//               <button className=\"modal-close-btn\" onClick={() => setSelectedIssue(null)}>âœ–</button>\r\n//             </div>\r\n//             <div className={`modal-content ${isMobile ? 'mobile-modal-content' : ''}`}>\r\n//               <div className=\"modal-field\"><label>Title</label><input value={editIssue.title} onChange={e => handleUpdateField('title', e.target.value)} /></div>\r\n//               <div className=\"modal-field\"><label>Description</label><textarea value={editIssue.description} onChange={e => handleUpdateField('description', e.target.value)} /></div>\r\n//               <div className=\"modal-field\"><label>Subtasks</label><input value={editIssue.subtasks} onChange={e => handleUpdateField('subtasks', e.target.value)} /></div>\r\n//               <div className=\"modal-field\"><label>Comments</label><textarea value={editIssue.comments} onChange={e => handleUpdateField('comments', e.target.value)} /></div>\r\n//               <div className=\"modal-field\"><label>Status</label>\r\n//                 <select value={editIssue.status} onChange={e => handleUpdateField('status', e.target.value)}>\r\n//                   {columnsByLane[editIssue.epic]?.map(st => <option key={st} value={st}>{st}</option>) || defaultStatuses.map(st => <option key={st} value={st}>{st}</option>)}\r\n//                 </select>\r\n//               </div>\r\n//               <div className=\"modal-field\"><label>Assignee</label><input value={editIssue.assignee} onChange={e => handleUpdateField('assignee', e.target.value)} /></div>\r\n//               <div className=\"modal-field\"><label>Reporter</label><input disabled value={editIssue.reporter} /></div>\r\n//               <div className=\"modal-field\"><label>Priority</label>\r\n//                 <select value={editIssue.priority} onChange={e => handleUpdateField('priority', e.target.value)}>\r\n//                   <option>Low</option><option>Medium</option><option>High</option>\r\n//                 </select>\r\n//               </div>\r\n//               <div className=\"modal-field\"><label>Due Date</label><input type=\"date\" value={editIssue.dueDate} onChange={e => handleUpdateField('dueDate', e.target.value)} /></div>\r\n//               <div className=\"modal-field\"><label>Start Date</label><input type=\"date\" value={editIssue.startDate} onChange={e => handleUpdateField('startDate', e.target.value)} /></div>\r\n//             </div>\r\n//             <div className=\"modal-actions\" style={{ gridColumn: \"span 3\", alignItems: 'center' }}>\r\n//               <button className=\"btn-reset\" onClick={handleReset}>Reset</button>\r\n//               <button className=\"btn-save\" onClick={handleSave}>Save</button>\r\n//               <button className=\"modal-delete-btn\" onClick={async () => {\r\n//                 if (window.confirm('Delete this issue?')) {\r\n//                   await deleteIssueAPI(selectedIssue.id);\r\n//                   const refreshed = await listIssues(projectId);\r\n//                   setIssues(refreshed);\r\n//                   setSelectedIssue(null);\r\n//                 }\r\n//               }}>ðŸ—‘</button>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//       )}\r\n\r\n//       {/* Inline CSS styles */}\r\n//       <style>{`\r\n//         /* Base styles */\r\n//         body {\r\n//           font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\r\n//           background-color: #f5f6f8;\r\n//           margin: 0;\r\n//           padding: 16px;\r\n//         }\r\n//         .board-wrap {\r\n//           max-width: 100%;\r\n//           overflow-x: auto;\r\n//         }\r\n\r\n//         /* Project Header Styles */\r\n//         .project-header {\r\n//           background: white;\r\n//           border-radius: 8px;\r\n//           padding: 20px 24px;\r\n//           margin-bottom: 20px;\r\n//           box-shadow: 0 1px 3px rgba(0,0,0,0.1);\r\n//           border-left: 4px solid #1976d2;\r\n//         }\r\n        \r\n//         .project-title {\r\n//           margin: 0 0 12px 0;\r\n//           font-size: 28px;\r\n//           font-weight: 700;\r\n//           color: #172b4d;\r\n//           line-height: 1.2;\r\n//         }\r\n        \r\n//         .project-stats {\r\n//           display: flex;\r\n//           gap: 20px;\r\n//           flex-wrap: wrap;\r\n//         }\r\n        \r\n//         .project-stat {\r\n//           background: #f5f6f8;\r\n//           padding: 6px 12px;\r\n//           border-radius: 16px;\r\n//           font-size: 14px;\r\n//           font-weight: 600;\r\n//           color: #5e6c84;\r\n//           display: flex;\r\n//           align-items: center;\r\n//           gap: 4px;\r\n//         }\r\n        \r\n//         .project-stat:before {\r\n//           content: \"â€¢\";\r\n//           color: #1976d2;\r\n//           font-weight: bold;\r\n//         }\r\n\r\n//         /* Desktop styles */\r\n//         @media (min-width: 768px) {\r\n//           .swimlane {\r\n//             background: white;\r\n//             border-radius: 8px;\r\n//             margin-bottom: 16px;\r\n//             box-shadow: 0 1px 3px rgba(0,0,0,0.1);\r\n//             overflow: hidden;\r\n//           }\r\n          \r\n//           .kanban-row {\r\n//             display: flex;\r\n//             padding: 16px;\r\n//             gap: 12px;\r\n//             overflow-x: auto;\r\n//           }\r\n          \r\n//           .kanban-column {\r\n//             flex: 0 0 260px;\r\n//             background: #f5f6f8;\r\n//             border-radius: 6px;\r\n//             padding: 12px;\r\n//             display: flex;\r\n//             flex-direction: column;\r\n//             gap: 12px;\r\n//             border: 1px solid #dfe5e5;\r\n//             user-select: none;\r\n//             min-height: 400px;\r\n//           }\r\n          \r\n//           .modal {\r\n//             background: white;\r\n//             border-radius: 8px;\r\n//             padding: 24px;\r\n//             width: 700px;\r\n//             max-height: 80vh;\r\n//             display: grid;\r\n//             grid-template-columns: 1fr 1fr 1fr;\r\n//             gap: 16px;\r\n//             overflow-y: auto;\r\n//             position: relative;\r\n//           }\r\n//         }\r\n\r\n//         /* Mobile styles */\r\n//         @media (max-width: 767px) {\r\n//           body {\r\n//             padding: 8px;\r\n//           }\r\n          \r\n//           .project-header {\r\n//             padding: 16px;\r\n//             margin-bottom: 16px;\r\n//             border-left-width: 3px;\r\n//           }\r\n          \r\n//           .project-title {\r\n//             font-size: 22px;\r\n//             margin-bottom: 10px;\r\n//           }\r\n          \r\n//           .project-stats {\r\n//             gap: 12px;\r\n//           }\r\n          \r\n//           .project-stat {\r\n//             font-size: 12px;\r\n//             padding: 4px 10px;\r\n//           }\r\n          \r\n//           .mobile-swimlane-selector {\r\n//             margin-bottom: 16px;\r\n//             position: sticky;\r\n//             top: 0;\r\n//             background: white;\r\n//             padding: 12px;\r\n//             border-radius: 8px;\r\n//             box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n//             z-index: 100;\r\n//           }\r\n          \r\n//           .mobile-select {\r\n//             width: 100%;\r\n//             padding: 12px;\r\n//             border: 1px solid #dfe5e5;\r\n//             border-radius: 6px;\r\n//             font-size: 16px;\r\n//             background: white;\r\n//           }\r\n          \r\n//           .swimlane {\r\n//             background: white;\r\n//             border-radius: 8px;\r\n//             margin-bottom: 12px;\r\n//             box-shadow: 0 1px 3px rgba(0,0,0,0.1);\r\n//             overflow: hidden;\r\n//           }\r\n          \r\n//           .swimlane-header {\r\n//             display: flex;\r\n//             align-items: center;\r\n//             padding: 12px;\r\n//             background: #fafbfc;\r\n//             border-bottom: 1px solid #dfe5e5;\r\n//             font-weight: 600;\r\n//             font-size: 14px;\r\n//             color: #172b4d;\r\n//             position: relative;\r\n//           }\r\n          \r\n//           .mobile-swimlane-toggle {\r\n//             background: none;\r\n//             border: none;\r\n//             font-size: 16px;\r\n//             color: #5e6c84;\r\n//             margin-left: auto;\r\n//             padding: 4px 8px;\r\n//           }\r\n          \r\n//           .kanban-row.mobile-view {\r\n//             display: block;\r\n//             padding: 8px;\r\n//             overflow-x: auto;\r\n//             white-space: nowrap;\r\n//           }\r\n          \r\n//           .kanban-column.mobile-column {\r\n//             display: inline-block;\r\n//             vertical-align: top;\r\n//             width: 280px;\r\n//             margin-right: 8px;\r\n//             background: #f5f6f8;\r\n//             border-radius: 6px;\r\n//             padding: 8px;\r\n//             border: 1px solid #dfe5e5;\r\n//             user-select: none;\r\n//             min-height: 300px;\r\n//           }\r\n          \r\n//           .col-header {\r\n//             display: flex;\r\n//             align-items: center;\r\n//             margin-bottom: 8px;\r\n//             gap: 6px;\r\n//           }\r\n          \r\n//           .col-title {\r\n//             font-weight: 600;\r\n//             font-size: 11px;\r\n//             color: #5e6c84;\r\n//             text-transform: uppercase;\r\n//             letter-spacing: 0.5px;\r\n//             flex-grow: 1;\r\n//           }\r\n          \r\n//           .card-item {\r\n//             background: white;\r\n//             border-radius: 6px;\r\n//             padding: 10px;\r\n//             box-shadow: 0 0 2px rgba(0,0,0,0.1);\r\n//             cursor: pointer;\r\n//             user-select: none;\r\n//             display: flex;\r\n//             flex-direction: column;\r\n//             gap: 6px;\r\n//             border: 1px solid #dfe5e5;\r\n//             margin-bottom: 8px;\r\n//           }\r\n          \r\n//           .card-title {\r\n//             font-weight: 600;\r\n//             font-size: 13px;\r\n//             color: #2b3a59;\r\n//             line-height: 1.3;\r\n//           }\r\n          \r\n//           .card-meta {\r\n//             display: flex;\r\n//             gap: 6px;\r\n//             font-size: 10px;\r\n//             color: #6b7c93;\r\n//             align-items: center;\r\n//             flex-wrap: wrap;\r\n//           }\r\n          \r\n//           .modal.mobile-modal {\r\n//             width: 95vw;\r\n//             max-height: 90vh;\r\n//             padding: 16px;\r\n//             display: flex;\r\n//             flex-direction: column;\r\n//           }\r\n          \r\n//           .modal-content.mobile-modal-content {\r\n//             display: flex;\r\n//             flex-direction: column;\r\n//             gap: 12px;\r\n//             overflow-y: auto;\r\n//           }\r\n          \r\n//           .modal-field {\r\n//             display: flex;\r\n//             flex-direction: column;\r\n//             gap: 4px;\r\n//           }\r\n          \r\n//           .modal-field input, .modal-field textarea, .modal-field select {\r\n//             padding: 10px;\r\n//             font-size: 16px; /* Better for mobile touch */\r\n//           }\r\n          \r\n//           .modal-actions {\r\n//             display: flex;\r\n//             gap: 8px;\r\n//             justify-content: space-between;\r\n//             margin-top: 16px;\r\n//           }\r\n          \r\n//           .modal-actions button {\r\n//             flex: 1;\r\n//             padding: 12px;\r\n//             font-size: 16px;\r\n//           }\r\n//         }\r\n\r\n//         /* Common styles (applied to both desktop and mobile) */\r\n//         .swimlane-header {\r\n//           display: flex;\r\n//           align-items: center;\r\n//           padding: 12px 16px;\r\n//           background: #fafbfc;\r\n//           border-bottom: 1px solid #dfe5e5;\r\n//           font-weight: 600;\r\n//           font-size: 14px;\r\n//           color: #172b4d;\r\n//         }\r\n        \r\n//         .swimlane-toggle, .swimlane-icon {\r\n//           color: #5e6c84;\r\n//           margin-right: 8px;\r\n//           cursor: pointer;\r\n//         }\r\n        \r\n//         .swimlane-toggle {\r\n//           border: none;\r\n//           background: transparent;\r\n//           font-size: 14px;\r\n//         }\r\n        \r\n//         .swimlane-icon {\r\n//           font-size: 18px;\r\n//         }\r\n        \r\n//         .swimlane-title-input {\r\n//           border: 1px solid #dfe5e5;\r\n//           border-radius: 4px;\r\n//           padding: 4px 8px;\r\n//           font-size: 14px;\r\n//           font-weight: 600;\r\n//           background: white;\r\n//           margin-right: 8px;\r\n//           min-width: 150px;\r\n//           color: #172b4d;\r\n//         }\r\n        \r\n//         .swimlane-title-input:focus {\r\n//           outline: none;\r\n//           border-color: #1976d2;\r\n//         }\r\n        \r\n//         .swimlane-count {\r\n//           color: #5e6c84;\r\n//           font-size: 12px;\r\n//           font-weight: normal;\r\n//         }\r\n        \r\n//         .col-header {\r\n//           display: flex;\r\n//           align-items: center;\r\n//           margin-bottom: 4px;\r\n//           gap: 6px;\r\n//         }\r\n        \r\n//         .col-title {\r\n//           font-weight: 600;\r\n//           font-size: 12px;\r\n//           color: #5e6c84;\r\n//           text-transform: uppercase;\r\n//           letter-spacing: 0.5px;\r\n//           flex-grow: 1;\r\n//         }\r\n        \r\n//         .col-count {\r\n//           background: #dfe5e5;\r\n//           color: #5e6c84;\r\n//           border-radius: 12px;\r\n//           padding: 2px 8px;\r\n//           font-size: 11px;\r\n//           font-weight: 600;\r\n//           min-width: 20px;\r\n//           text-align: center;\r\n//         }\r\n        \r\n//         .col-icons {\r\n//           display: flex;\r\n//           gap: 6px;\r\n//         }\r\n        \r\n//         .col-icon {\r\n//           cursor: pointer;\r\n//           color: #5e6c84;\r\n//           font-size: 18px;\r\n//           background: none;\r\n//           border: none;\r\n//           padding: 0;\r\n//         }\r\n        \r\n//         .create-card {\r\n//           background: white;\r\n//           padding: 10px;\r\n//           border-radius: 6px;\r\n//           box-shadow: 0 0 2px rgba(0, 0, 0, 0.2);\r\n//           display: flex;\r\n//           flex-direction: column;\r\n//           gap: 10px;\r\n//         }\r\n        \r\n//         .card-item {\r\n//           background: white;\r\n//           border-radius: 8px;\r\n//           padding: 12px;\r\n//           box-shadow: 0 0 2px rgba(0,0,0,0.1);\r\n//           cursor: pointer;\r\n//           user-select: none;\r\n//           display: flex;\r\n//           flex-direction: column;\r\n//           gap: 6px;\r\n//           border: 1px solid #dfe5e5;\r\n//           transition: box-shadow 0.2s ease, border-color 0.2s ease;\r\n//         }\r\n        \r\n//         .card-item:hover {\r\n//           box-shadow: 0px 2px 10px rgba(0,0,0,0.15);\r\n//           border-color: #a2adba;\r\n//         }\r\n        \r\n//         .modal-overlay {\r\n//           position: fixed;\r\n//           top: 0; left: 0; right: 0; bottom: 0;\r\n//           background: rgba(0,0,0,0.5);\r\n//           display: flex;\r\n//           align-items: center;\r\n//           justify-content: center;\r\n//           z-index: 1000;\r\n//         }\r\n        \r\n//         /* Button styles */\r\n//         button {\r\n//           cursor: pointer;\r\n//           transition: background-color 0.2s;\r\n//         }\r\n        \r\n//         button:hover {\r\n//           opacity: 0.9;\r\n//         }\r\n\r\n//         /* Touch improvements for mobile */\r\n//         @media (max-width: 767px) {\r\n//           button, .card-item, .col-icon {\r\n//             min-height: 44px;\r\n//             min-width: 44px;\r\n//           }\r\n          \r\n//           .card-item {\r\n//             touch-action: manipulation;\r\n//           }\r\n//         }\r\n//       `}</style>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// const btnStyle = {\r\n//   cancel: {\r\n//     padding: '10px 18px',\r\n//     borderRadius: '6px',\r\n//     border: 'none',\r\n//     backgroundColor: '#5e6c84',\r\n//     color: 'white',\r\n//     fontWeight: '600',\r\n//     fontSize: '14px',\r\n//     cursor: 'pointer'\r\n//   },\r\n//   create: {\r\n//     padding: '10px 18px',\r\n//     borderRadius: '6px',\r\n//     border: 'none',\r\n//     backgroundColor: '#1976d2',\r\n//     color: 'white',\r\n//     fontWeight: '600',\r\n//     fontSize: '14px',\r\n//     cursor: 'pointer'\r\n//   },\r\n//   delete: {\r\n//     padding: '10px 18px',\r\n//     borderRadius: '6px',\r\n//     border: 'none',\r\n//     backgroundColor: '#d32f2f',\r\n//     color: 'white',\r\n//     fontWeight: '600',\r\n//     fontSize: '14px',\r\n//     cursor: 'pointer'\r\n//   }\r\n// };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// for board name \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":";AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAQA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAWA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAgBA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}