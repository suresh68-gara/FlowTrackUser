{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vmoun\\\\OneDrive\\\\Desktop\\\\newtieckettool\\\\src\\\\components\\\\boards\\\\KanbanBoard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport { listIssues, moveIssue } from '../../services/mockApi';\nimport { useParams } from 'react-router-dom';\n\n/*\n  Enhancements:\n  - Keyboard-only moves: when a card is focused, user can press ArrowLeft/ArrowRight to move between columns.\n  - Buttons for accessibility to move left/right.\n  - Export/Import CSV for issues in the top header.\n*/\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst STATUSES = ['todo', 'inprogress', 'review', 'done'];\nfunction issuesToCSV(issues) {\n  const headers = ['id', 'projectId', 'title', 'status', 'priority', 'assignee', 'type', 'storyPoints', 'createdAt'];\n  const rows = issues.map(i => headers.map(h => `\"${(i[h] || '').toString().replace(/\"/g, '\"\"')}\"`).join(','));\n  return [headers.join(','), ...rows].join('\\n');\n}\nfunction csvToIssues(csv) {\n  const lines = csv.split(/\\r?\\n/).filter(Boolean);\n  if (lines.length < 2) return [];\n  const headers = lines[0].split(',').map(h => h.replace(/(^\"|\"$)/g, ''));\n  const res = [];\n  for (let i = 1; i < lines.length; i++) {\n    const cols = lines[i].split(',').map(c => c.replace(/(^\"|\"$)/g, ''));\n    const obj = {};\n    headers.forEach((h, idx) => obj[h] = cols[idx] || '');\n    res.push(obj);\n  }\n  return res;\n}\nexport default function KanbanBoard() {\n  _s();\n  const {\n    projectId\n  } = useParams();\n  const [issues, setIssues] = useState([]);\n  const fileRef = useRef(null);\n  useEffect(() => {\n    listIssues(projectId).then(setIssues);\n  }, [projectId]);\n  const refresh = async () => setIssues(await listIssues(projectId));\n  const onDrop = async (e, status) => {\n    const id = e.dataTransfer.getData('text/plain');\n    await moveIssue(id, status);\n    refresh();\n  };\n  const onDragStart = (e, id) => {\n    e.dataTransfer.setData('text/plain', id);\n  };\n  const byStatus = s => issues.filter(i => i.status === s);\n\n  // keyboard move handler: ArrowLeft/ArrowRight move between columns\n  const handleKey = async (e, issue) => {\n    if (e.key === 'ArrowLeft' || e.key === 'ArrowRight') {\n      e.preventDefault();\n      const idx = STATUSES.indexOf(issue.status);\n      let targetIdx = idx + (e.key === 'ArrowRight' ? 1 : -1);\n      targetIdx = Math.max(0, Math.min(STATUSES.length - 1, targetIdx));\n      const target = STATUSES[targetIdx];\n      if (target !== issue.status) {\n        await moveIssue(issue.id, target);\n        refresh();\n      }\n    }\n  };\n  const moveLeft = async id => {\n    const issue = issues.find(i => i.id === id);\n    const idx = STATUSES.indexOf(issue.status);\n    const target = STATUSES[Math.max(0, idx - 1)];\n    if (target !== issue.status) {\n      await moveIssue(id, target);\n      refresh();\n    }\n  };\n  const moveRight = async id => {\n    const issue = issues.find(i => i.id === id);\n    const idx = STATUSES.indexOf(issue.status);\n    const target = STATUSES[Math.min(STATUSES.length - 1, idx + 1)];\n    if (target !== issue.status) {\n      await moveIssue(id, target);\n      refresh();\n    }\n  };\n\n  // Export CSV\n  const exportCSV = () => {\n    const csv = issuesToCSV(issues);\n    const blob = new Blob([csv], {\n      type: 'text/csv;charset=utf-8;'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `issues_export_${projectId || 'all'}.csv`;\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  // Import CSV\n  const importCSV = e => {\n    const file = e.target.files && e.target.files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = async ev => {\n      try {\n        const text = ev.target.result;\n        const imported = csvToIssues(text);\n        // Merge with existing issues: simple append with new IDs\n        for (const row of imported) {\n          // only minimal fields handled; createIssue is not imported here to avoid API mismatch\n          // createIssue would be used for full import; for demo we push to localStorage directly\n          // but here we attempt to call moveIssue or update if id exists. fallback: ignore.\n        }\n        alert('Import parsed ' + imported.length + ' rows. For full import to central DB, use backend import.');\n      } catch (err) {\n        alert('CSV parse error: ' + err.message);\n      }\n    };\n    reader.readAsText(file);\n    // reset file input\n    e.target.value = '';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    role: \"region\",\n    \"aria-label\": \"Kanban board\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          margin: 0\n        },\n        children: [\"Kanban Board \", projectId ? `- ${projectId}` : '']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: 8,\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-ghost\",\n          onClick: exportCSV,\n          \"aria-label\": \"Export issues as CSV\",\n          children: \"Export CSV\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"btn-ghost\",\n          style: {\n            cursor: 'pointer'\n          },\n          children: [\"Import CSV\", /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: fileRef,\n            type: \"file\",\n            accept: \".csv,text/csv\",\n            onChange: importCSV,\n            style: {\n              display: 'none'\n            },\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => window.print(),\n          \"aria-label\": \"Print board\",\n          children: \"Print\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"kanban\",\n      role: \"list\",\n      children: STATUSES.map(s => /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"kanban-column\",\n        \"aria-labelledby\": `col-${s}`,\n        onDragOver: e => e.preventDefault(),\n        onDrop: e => onDrop(e, s),\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          id: `col-${s}`,\n          children: s.toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }, this), byStatus(s).map(i => /*#__PURE__*/_jsxDEV(\"article\", {\n          className: \"card-item\",\n          role: \"listitem\",\n          tabIndex: \"0\",\n          \"data-priority\": i.priority,\n          draggable: true,\n          onDragStart: e => onDragStart(e, i.id),\n          onKeyDown: e => handleKey(e, i),\n          \"aria-describedby\": `desc-${i.id}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: i.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: 6\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-ghost\",\n                onClick: e => {\n                  e.stopPropagation();\n                  moveLeft(i.id);\n                },\n                \"aria-label\": `Move ${i.title} left`,\n                children: \"\\u25C0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-ghost\",\n                onClick: e => {\n                  e.stopPropagation();\n                  moveRight(i.id);\n                },\n                \"aria-label\": `Move ${i.title} right`,\n                children: \"\\u25B6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: `desc-${i.id}`,\n            className: \"small\",\n            children: [\"Assignee: \", i.assignee, \" \\u2022 \", i.storyPoints, \" pts\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 17\n          }, this)]\n        }, i.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 15\n        }, this))]\n      }, s, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this);\n}\n_s(KanbanBoard, \"qcEjmOYKQKm6xwskHWgIkGmC1oY=\", false, function () {\n  return [useParams];\n});\n_c = KanbanBoard;\nvar _c;\n$RefreshReg$(_c, \"KanbanBoard\");","map":{"version":3,"names":["React","useEffect","useState","useRef","listIssues","moveIssue","useParams","jsxDEV","_jsxDEV","STATUSES","issuesToCSV","issues","headers","rows","map","i","h","toString","replace","join","csvToIssues","csv","lines","split","filter","Boolean","length","res","cols","c","obj","forEach","idx","push","KanbanBoard","_s","projectId","setIssues","fileRef","then","refresh","onDrop","e","status","id","dataTransfer","getData","onDragStart","setData","byStatus","s","handleKey","issue","key","preventDefault","indexOf","targetIdx","Math","max","min","target","moveLeft","find","moveRight","exportCSV","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","importCSV","file","files","reader","FileReader","onload","ev","text","result","imported","row","alert","err","message","readAsText","value","className","role","children","style","display","justifyContent","alignItems","marginBottom","margin","fileName","_jsxFileName","lineNumber","columnNumber","gap","onClick","cursor","ref","accept","onChange","window","print","onDragOver","toUpperCase","tabIndex","priority","draggable","onKeyDown","title","stopPropagation","assignee","storyPoints","_c","$RefreshReg$"],"sources":["C:/Users/vmoun/OneDrive/Desktop/newtieckettool/src/components/boards/KanbanBoard.js"],"sourcesContent":["\nimport React, { useEffect, useState, useRef } from 'react';\nimport { listIssues, moveIssue } from '../../services/mockApi';\nimport { useParams } from 'react-router-dom';\n\n/*\n  Enhancements:\n  - Keyboard-only moves: when a card is focused, user can press ArrowLeft/ArrowRight to move between columns.\n  - Buttons for accessibility to move left/right.\n  - Export/Import CSV for issues in the top header.\n*/\n\nconst STATUSES = ['todo','inprogress','review','done'];\n\nfunction issuesToCSV(issues) {\n  const headers = ['id','projectId','title','status','priority','assignee','type','storyPoints','createdAt'];\n  const rows = issues.map(i => headers.map(h => `\"${(i[h]||'').toString().replace(/\"/g,'\"\"')}\"`).join(','));\n  return [headers.join(','), ...rows].join('\\n');\n}\n\nfunction csvToIssues(csv) {\n  const lines = csv.split(/\\r?\\n/).filter(Boolean);\n  if(lines.length < 2) return [];\n  const headers = lines[0].split(',').map(h => h.replace(/(^\"|\"$)/g,''));\n  const res = [];\n  for(let i=1;i<lines.length;i++){\n    const cols = lines[i].split(',').map(c => c.replace(/(^\"|\"$)/g,''));\n    const obj = {};\n    headers.forEach((h,idx)=> obj[h]=cols[idx]||'');\n    res.push(obj);\n  }\n  return res;\n}\n\nexport default function KanbanBoard() {\n  const { projectId } = useParams();\n  const [issues, setIssues] = useState([]);\n  const fileRef = useRef(null);\n\n  useEffect(()=>{ listIssues(projectId).then(setIssues); },[projectId]);\n\n  const refresh = async ()=> setIssues(await listIssues(projectId));\n\n  const onDrop = async (e, status) => {\n    const id = e.dataTransfer.getData('text/plain');\n    await moveIssue(id, status);\n    refresh();\n  };\n  const onDragStart = (e,id) => { e.dataTransfer.setData('text/plain', id); };\n\n  const byStatus = s => issues.filter(i=>i.status===s);\n\n  // keyboard move handler: ArrowLeft/ArrowRight move between columns\n  const handleKey = async (e, issue) => {\n    if(e.key === 'ArrowLeft' || e.key === 'ArrowRight') {\n      e.preventDefault();\n      const idx = STATUSES.indexOf(issue.status);\n      let targetIdx = idx + (e.key === 'ArrowRight' ? 1 : -1);\n      targetIdx = Math.max(0, Math.min(STATUSES.length-1, targetIdx));\n      const target = STATUSES[targetIdx];\n      if(target !== issue.status) {\n        await moveIssue(issue.id, target);\n        refresh();\n      }\n    }\n  };\n\n  const moveLeft = async (id) => {\n    const issue = issues.find(i=>i.id===id);\n    const idx = STATUSES.indexOf(issue.status);\n    const target = STATUSES[Math.max(0, idx-1)];\n    if(target !== issue.status){ await moveIssue(id,target); refresh(); }\n  };\n  const moveRight = async (id) => {\n    const issue = issues.find(i=>i.id===id);\n    const idx = STATUSES.indexOf(issue.status);\n    const target = STATUSES[Math.min(STATUSES.length-1, idx+1)];\n    if(target !== issue.status){ await moveIssue(id,target); refresh(); }\n  };\n\n  // Export CSV\n  const exportCSV = () => {\n    const csv = issuesToCSV(issues);\n    const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url; a.download = `issues_export_${projectId||'all'}.csv`; a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  // Import CSV\n  const importCSV = (e) => {\n    const file = e.target.files && e.target.files[0];\n    if(!file) return;\n    const reader = new FileReader();\n    reader.onload = async (ev) => {\n      try {\n        const text = ev.target.result;\n        const imported = csvToIssues(text);\n        // Merge with existing issues: simple append with new IDs\n        for(const row of imported){\n          // only minimal fields handled; createIssue is not imported here to avoid API mismatch\n          // createIssue would be used for full import; for demo we push to localStorage directly\n          // but here we attempt to call moveIssue or update if id exists. fallback: ignore.\n        }\n        alert('Import parsed ' + imported.length + ' rows. For full import to central DB, use backend import.');\n      } catch(err) {\n        alert('CSV parse error: ' + err.message);\n      }\n    };\n    reader.readAsText(file);\n    // reset file input\n    e.target.value = '';\n  };\n\n  return (\n    <div className=\"card\" role=\"region\" aria-label=\"Kanban board\">\n      <div style={{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:12}}>\n        <h2 style={{margin:0}}>Kanban Board {projectId?`- ${projectId}`:''}</h2>\n        <div style={{display:'flex',gap:8,alignItems:'center'}}>\n          <button className=\"btn-ghost\" onClick={exportCSV} aria-label=\"Export issues as CSV\">Export CSV</button>\n          <label className=\"btn-ghost\" style={{cursor:'pointer'}}>\n            Import CSV\n            <input ref={fileRef} type=\"file\" accept=\".csv,text/csv\" onChange={importCSV} style={{display:'none'}} aria-hidden=\"true\"/>\n          </label>\n          <button className=\"btn\" onClick={()=>window.print()} aria-label=\"Print board\">Print</button>\n        </div>\n      </div>\n\n      <div className=\"kanban\" role=\"list\">\n        {STATUSES.map(s=>(\n          <section key={s} className=\"kanban-column\" aria-labelledby={`col-${s}`} onDragOver={e=>e.preventDefault()} onDrop={e=>onDrop(e,s)}>\n            <h4 id={`col-${s}`}>{s.toUpperCase()}</h4>\n            {byStatus(s).map(i=>(\n              <article key={i.id} className=\"card-item\" role=\"listitem\" tabIndex=\"0\" data-priority={i.priority}\n                draggable onDragStart={e=>onDragStart(e,i.id)}\n                onKeyDown={(e)=>handleKey(e,i)}\n                aria-describedby={`desc-${i.id}`}>\n                <div style={{display:'flex',justifyContent:'space-between',alignItems:'center'}}>\n                  <strong>{i.title}</strong>\n                  <div style={{display:'flex',gap:6}}>\n                    <button className=\"btn-ghost\" onClick={(e)=>{ e.stopPropagation(); moveLeft(i.id); }} aria-label={`Move ${i.title} left`}>◀</button>\n                    <button className=\"btn-ghost\" onClick={(e)=>{ e.stopPropagation(); moveRight(i.id); }} aria-label={`Move ${i.title} right`}>▶</button>\n                  </div>\n                </div>\n                <div id={`desc-${i.id}`} className=\"small\">Assignee: {i.assignee} • {i.storyPoints} pts</div>\n              </article>\n            ))}\n          </section>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}